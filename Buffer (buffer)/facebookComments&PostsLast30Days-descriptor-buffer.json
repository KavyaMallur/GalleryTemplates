{
    "name": "Buffer Facebook Comment and Posts (Last 30 Days)",
    "description": "Provide facebook comments and posts count for the last 30 days. Originates from the Gallery.",
    "sampleFormulas": {
        "b05e6301": {
            "txt": "array(\"10\",\"102\",\"181\",\"217\",\"210\",\"116\",\"467\",\"516\",\"537\",\"0\",\"2\",\"506\",\"423\",\"397\",\"313\",\"309\",\"328\",\"349\",\"312\",\"328\",\"380\",\"319\",\"334\",\"354\",\"342\",\"277\",\"156\",\"282\",\"0\",\"271\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [
                    {
                        "t": "f",
                        "v": "array",
                        "c": [
                            {
                                "t": "l",
                                "v": "10"
                            },
                            {
                                "t": "l",
                                "v": "102"
                            },
                            {
                                "t": "l",
                                "v": "181"
                            },
                            {
                                "t": "l",
                                "v": "217"
                            },
                            {
                                "t": "l",
                                "v": "210"
                            },
                            {
                                "t": "l",
                                "v": "116"
                            },
                            {
                                "t": "l",
                                "v": "467"
                            },
                            {
                                "t": "l",
                                "v": "516"
                            },
                            {
                                "t": "l",
                                "v": "537"
                            },
                            {
                                "t": "l",
                                "v": "0"
                            },
                            {
                                "t": "l",
                                "v": "2"
                            },
                            {
                                "t": "l",
                                "v": "506"
                            },
                            {
                                "t": "l",
                                "v": "423"
                            },
                            {
                                "t": "l",
                                "v": "397"
                            },
                            {
                                "t": "l",
                                "v": "313"
                            },
                            {
                                "t": "l",
                                "v": "309"
                            },
                            {
                                "t": "l",
                                "v": "328"
                            },
                            {
                                "t": "l",
                                "v": "349"
                            },
                            {
                                "t": "l",
                                "v": "312"
                            },
                            {
                                "t": "l",
                                "v": "328"
                            },
                            {
                                "t": "l",
                                "v": "380"
                            },
                            {
                                "t": "l",
                                "v": "319"
                            },
                            {
                                "t": "l",
                                "v": "334"
                            },
                            {
                                "t": "l",
                                "v": "354"
                            },
                            {
                                "t": "l",
                                "v": "342"
                            },
                            {
                                "t": "l",
                                "v": "277"
                            },
                            {
                                "t": "l",
                                "v": "156"
                            },
                            {
                                "t": "l",
                                "v": "282"
                            },
                            {
                                "t": "l",
                                "v": "0"
                            },
                            {
                                "t": "l",
                                "v": "271"
                            }
                        ]
                    }
                ]
            }
        },

        "84d48ed3": {
            "txt": "array(\"6\",\"0\",\"4\",\"9\",\"4\",\"1\",\"7\",\"6\",\"3\",\"2\",\"18\",\"9\",\"19\",\"2\",\"15\",\"4\",\"15\",\"11\",\"4\",\"4\",\"20\",\"6\",\"15\",\"14\",\"13\",\"7\",\"7\",\"12\",\"9\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [
                    {
                        "t": "f",
                        "v": "array",
                        "c": [
                            {
                                "t": "l",
                                "v": "6"
                            },
                            {
                                "t": "l",
                                "v": "0"
                            },
                            {
                                "t": "l",
                                "v": "4"
                            },
                            {
                                "t": "l",
                                "v": "9"
                            },
                            {
                                "t": "l",
                                "v": "4"
                            },
                            {
                                "t": "l",
                                "v": "1"
                            },
                            {
                                "t": "l",
                                "v": "7"
                            },
                            {
                                "t": "l",
                                "v": "6"
                            },
                            {
                                "t": "l",
                                "v": "3"
                            },
                            {
                                "t": "l",
                                "v": "2"
                            },
                            {
                                "t": "l",
                                "v": "18"
                            },
                            {
                                "t": "l",
                                "v": "9"
                            },
                            {
                                "t": "l",
                                "v": "19"
                            },
                            {
                                "t": "l",
                                "v": "2"
                            },
                            {
                                "t": "l",
                                "v": "15"
                            },
                            {
                                "t": "l",
                                "v": 0
                            },
                            {
                                "t": "l",
                                "v": "4"
                            },
                            {
                                "t": "l",
                                "v": "15"
                            },
                            {
                                "t": "l",
                                "v": "11"
                            },
                            {
                                "t": "l",
                                "v": "4"
                            },
                            {
                                "t": "l",
                                "v": "4"
                            },
                            {
                                "t": "l",
                                "v": "20"
                            },
                            {
                                "t": "l",
                                "v": "6"
                            },
                            {
                                "t": "l",
                                "v": "15"
                            },
                            {
                                "t": "l",
                                "v": "14"
                            },
                            {
                                "t": "l",
                                "v": "13"
                            },
                            {
                                "t": "l",
                                "v": "7"
                            },
                            {
                                "t": "l",
                                "v": "7"
                            },
                            {
                                "t": "l",
                                "v": "12"
                            },
                            {
                                "t": "l",
                                "v": "9"
                            }
                        ]
                    }
                ]
            }
        },

        "df823562": {
            "txt": "array(\"Nov 25\",\"Nov 26\",\"Nov 27\",\"Nov 28\",\"Nov 29\",\"Nov 30\",\"Nov 31\",\"Dec 1\",\"Dec 2\",\"Dec 3\",\"Dec 4\",\"Dec 5\",\"Dec 6\",\"Dec 7\",\"Dec 8\",\"Dec 9\",\"Dec 10\",\"Dec 11\",\"Dec 12\",\"Dec 13\",\"Dec 14\",\"Dec 15\",\"Dec 16\",\"Dec 17\",\"Dec 18\",\"Dec 19\",\"Dec 20\",\"Dec 21\",\"Dec 22\",\"Dec 23\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [
                    {
                        "t": "f",
                        "v": "array",
                        "c": [
                            {
                                "t": "l",
                                "v": "Nov 25"
                            },
                            {
                                "t": "l",
                                "v": "Nov 26"
                            },
                            {
                                "t": "l",
                                "v": "Nov 27"
                            },
                            {
                                "t": "l",
                                "v": "Nov 28"
                            },
                            {
                                "t": "l",
                                "v": "Nov 29"
                            },
                            {
                                "t": "l",
                                "v": "Nov 30"
                            },
                            {
                                "t": "l",
                                "v": "Nov 31"
                            },
                            {
                                "t": "l",
                                "v": "Dec 1"
                            },
                            {
                                "t": "l",
                                "v": "Dec 2"
                            },
                            {
                                "t": "l",
                                "v": "Dec 3"
                            },
                            {
                                "t": "l",
                                "v": "Dec 4"
                            },
                            {
                                "t": "l",
                                "v": "Dec 5"
                            },
                            {
                                "t": "l",
                                "v": "Dec 6"
                            },
                            {
                                "t": "l",
                                "v": "Dec 7"
                            },
                            {
                                "t": "l",
                                "v": "Dec 8"
                            },
                            {
                                "t": "l",
                                "v": "Dec 9"
                            },
                            {
                                "t": "l",
                                "v": "Dec 10"
                            },
                            {
                                "t": "l",
                                "v": "Dec 11"
                            },
                            {
                                "t": "l",
                                "v": "Dec 12"
                            },
                            {
                                "t": "l",
                                "v": "Dec 13"
                            },
                            {
                                "t": "l",
                                "v": "Dec 14"
                            },
                            {
                                "t": "l",
                                "v": "Dec 15"
                            },
                            {
                                "t": "l",
                                "v": "Dec 16"
                            },
                            {
                                "t": "l",
                                "v": "Dec 17"
                            },
                            {
                                "t": "l",
                                "v": "Dec 18"
                            },
                            {
                                "t": "l",
                                "v": "Dec 19"
                            },
                            {
                                "t": "l",
                                "v": "Dec 20"
                            },
                            {
                                "t": "l",
                                "v": "Dec 21"
                            },
                            {
                                "t": "l",
                                "v": "Dec 22"
                            },
                            {
                                "t": "l",
                                "v": "Dec 23"
                            }
                        ]
                    }
                ]
            }
        }
    },
    "datasources": {
        "buffer": {
            "service": "buffer",
            "libraryAlias": "BufferFacebookUpdatesSent(Last 30 Days)",
            "name": "Buffer Facebook Updates Sent (Last 30 Days)",
            "description": "Provide facebook comments and posts. Originates from the Gallery.",
            "type": "simple_rest",
            "format": "json",
            "refreshInterval": 14400,
            "props": {
                "endpoint_url": "https://api.bufferapp.com/1/profiles/{{ds.buffer.facebookProfile}}/updates/sent.json?since={date.add(-30).format('epochTime')}&count=100",
                "method": "get"
            }
        }
    },
    "dsMappings": {
        "buffer": "b5c2f21f5895ed9bd3a0KavyaMallur9"
    },
    "services": [
        {
            "service": "buffer"
        }
    ],
    "datasourceConfigModel": [
        {
            "type": "select",
            "id": "ds.buffer.facebookProfile",
            "label": "Profile",
            "description": "Select your facebook profile",
            "isRequired": true
        }
    ],
    "queries": [
        {
            "errorMessage": "Make sure you have configured facebook as one of the buffer profiles",
            "connector": {
                "service": "buffer",
                "type": "simple_rest",
                "format": "json",
                "props": {
                    "endpoint_url": "https://api.bufferapp.com/1/profiles.json",
                    "method": "GET"
                }
            },
            "results": [
                {
                    "propId": "ds.buffer.facebookProfile",
                    "propField": "options",
                    "labels": "/formatted_service[following-sibling::service='facebook']",
                    "values": "/id[following-sibling::service='facebook']"
                }
            ]
        }
    ]
}