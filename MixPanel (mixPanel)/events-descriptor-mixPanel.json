{
    "name" : "Mixpanel Events (Yesterday)",
    "description" : "Discover and compare the essential metrics on three of your Mixpanel events. Originates from the Gallery.",
    

    "datasources" : {
        "mixpanel" : {
            "service" : "mixpanel",
            "libraryAlias" : "MixpanelEvents",
            "name": "Mixpanel 8 Days Events ({{ds.mixpanel.event1}},{{ds.mixpanel.event2}},{{ds.mixpanel.event3}})",
            "description" : "Provide 8 days count for {{ds.mixpanel.event1}}, {{ds.mixpanel.event2}} and {{ds.mixpanel.event3}} events. Originates from the Gallery.",
            "type" : "simple_rest",
            "format" : "json",
            "refreshInterval" : 14400,
            "props" : {
                "endpoint_url": "http://mixpanel.com/api/2.0/events/?expire={hash.getExpiryTime(240)}&sig={hash.append(\"api_key={{auth.mixpanel.apiKey}}\").append(\"event=[\\\"{{ds.mixpanel.event1}}\\\",\\\"{{ds.mixpanel.event2}}\\\",\\\"{{ds.mixpanel.event3}}\\\"]\").append(\"expire=\").append(hash.getExpiryTime(240)).append(\"interval=8\").append(\"type=general\").append(\"unit=day\").append(\"{{auth.mixpanel.apiSecret}}\").encodeMd5().toHex().printDigest()}&event=[\"{{ds.mixpanel.event1}}\",\"{{ds.mixpanel.event2}}\",\"{{ds.mixpanel.event3}}\"]&interval=8&type=general&unit=day&api_key={{auth.mixpanel.apiKey}}"
            }
        }
    },

    "dsMappings" : {
        "mixpanel" : "b9d51da0bfc983c1f130doogeraspilk"
    },

    "services" : [
        {
            "service" : "mixpanel"
        }
    ],

    "datasourceConfigModel" : [
        {
            "type" : "text",
            "id" : "ds.mixpanel.event1",
            "label" : "Enter Event 1",
            "description":"Enter three Mixpanel events that you would like to compare. Enter the event names in the exact same format as in Mixpanel. Klipfolio does not support custom events. ",
            "isRequired" : true
        },
        {
            "type" : "text",
            "id" : "ds.mixpanel.event2",
            "label" : "Enter Event 2",
            "isRequired" : true
        },
        {
            "type" : "text",
            "id" : "ds.mixpanel.event3",
            "label" : "Enter Event 3",
            "isRequired" : true
        }
    ]
}