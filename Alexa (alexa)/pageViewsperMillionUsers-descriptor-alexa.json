{
    "name": "Alexa Page Views per Million Users (Last 30 days)",
    "description": "Discover and compare your web page views (per million) against your key competitors. Originates from the Gallery.",
    "sampleFormulas": {

        "97432b28-2": {
            "txt": "\"amazingklips.com\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "amazingklips.com"
                }]
            }
        },

        "5685b1c0-3": {
            "txt": "\"goodklips.com\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "goodklips.com"
                }]
            }
        },

        "63d57f3c-4": {
            "txt": "\"klipstore.com\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "klipstore.com"
                }]
            }
        },

        "41963cd5": {
            "txt": "array(\"0.9299999999999999\",\"1.5\",\"6.300000000000001\",\"6.6000000000000005\",\"8.399999999999999\",\"9.600000000000001\",\"7.5\",\"2\",\"3.9000000000000004\",\"6.300000000000001\",\"7.199999999999999\",\"5.699999999999999\",\"5.4\",\"5.4\",\"3.9000000000000004\",\"3.5999999999999996\",\"4.5\",\"6.6000000000000005\",\"5.1\",\"6.300000000000001\",\"4.800000000000001\",\"2.0999999999999996\",\"2\",\"9.899999999999999\",\"19.200000000000003\",\"16.5\",\"5.699999999999999\",\"6.5\",\"7.5\",\"8\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "0.9299999999999999"
                    }, {
                        "t": "l",
                        "v": "1.5"
                    }, {
                        "t": "l",
                        "v": "6.300000000000001"
                    }, {
                        "t": "l",
                        "v": "6.6000000000000005"
                    }, {
                        "t": "l",
                        "v": "8.399999999999999"
                    }, {
                        "t": "l",
                        "v": "9.600000000000001"
                    }, {
                        "t": "l",
                        "v": "7.5"
                    }, {
                        "t": "l",
                        "v": "2"
                    }, {
                        "t": "l",
                        "v": "3.9000000000000004"
                    }, {
                        "t": "l",
                        "v": "6.300000000000001"
                    }, {
                        "t": "l",
                        "v": "7.199999999999999"
                    }, {
                        "t": "l",
                        "v": "5.699999999999999"
                    }, {
                        "t": "l",
                        "v": "5.4"
                    }, {
                        "t": "l",
                        "v": "5.4"
                    }, {
                        "t": "l",
                        "v": "3.9000000000000004"
                    }, {
                        "t": "l",
                        "v": "3.5999999999999996"
                    }, {
                        "t": "l",
                        "v": "4.5"
                    }, {
                        "t": "l",
                        "v": "6.6000000000000005"
                    }, {
                        "t": "l",
                        "v": "5.1"
                    }, {
                        "t": "l",
                        "v": "6.300000000000001"
                    }, {
                        "t": "l",
                        "v": "4.800000000000001"
                    }, {
                        "t": "l",
                        "v": "2.0999999999999996"
                    }, {
                        "t": "l",
                        "v": "2"
                    }, {
                        "t": "l",
                        "v": "9.899999999999999"
                    }, {
                        "t": "l",
                        "v": "19.200000000000003"
                    }, {
                        "t": "l",
                        "v": "16.5"
                    }, {
                        "t": "l",
                        "v": "5.699999999999999"
                    }, {
                        "t": "l",
                        "v": "6.5"
                    }, {
                        "t": "l",
                        "v": "7.5"
                    }, {
                        "t": "l",
                        "v": "8"
                    }]
                }]
            }
        },

        "14aff2b5": {
            "txt": "array(\"4.5\",\"6\",\"8.100000000000001\",\"8.7\",\"5.4\",\"5.1\",\"3.5999999999999996\",\"3.5999999999999996\",\"3.5999999999999996\",\"6.8999999999999995\",\"7.5\",\"5.699999999999999\",\"5.699999999999999\",\"6\",\"4.800000000000001\",\"3.5999999999999996\",\"5.699999999999999\",\"12.299999999999999\",\"15.299999999999999\",\"12.299999999999999\",\"5.1\",\"2.4000000000000004\",\"2.4000000000000004\",\"4.5\",\"7.199999999999999\",\"8.100000000000001\",\"8.100000000000001\",\"8.9\",\"9.9\",\"10.0\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "4.5"
                    }, {
                        "t": "l",
                        "v": "6"
                    }, {
                        "t": "l",
                        "v": "8.100000000000001"
                    }, {
                        "t": "l",
                        "v": "8.7"
                    }, {
                        "t": "l",
                        "v": "5.4"
                    }, {
                        "t": "l",
                        "v": "5.1"
                    }, {
                        "t": "l",
                        "v": "3.5999999999999996"
                    }, {
                        "t": "l",
                        "v": "3.5999999999999996"
                    }, {
                        "t": "l",
                        "v": "3.5999999999999996"
                    }, {
                        "t": "l",
                        "v": "6.8999999999999995"
                    }, {
                        "t": "l",
                        "v": "7.5"
                    }, {
                        "t": "l",
                        "v": "5.699999999999999"
                    }, {
                        "t": "l",
                        "v": "5.699999999999999"
                    }, {
                        "t": "l",
                        "v": "6"
                    }, {
                        "t": "l",
                        "v": "4.800000000000001"
                    }, {
                        "t": "l",
                        "v": "3.5999999999999996"
                    }, {
                        "t": "l",
                        "v": "5.699999999999999"
                    }, {
                        "t": "l",
                        "v": "12.299999999999999"
                    }, {
                        "t": "l",
                        "v": "15.299999999999999"
                    }, {
                        "t": "l",
                        "v": "12.299999999999999"
                    }, {
                        "t": "l",
                        "v": "5.1"
                    }, {
                        "t": "l",
                        "v": "2.4000000000000004"
                    }, {
                        "t": "l",
                        "v": "2.4000000000000004"
                    }, {
                        "t": "l",
                        "v": "4.5"
                    }, {
                        "t": "l",
                        "v": "7.199999999999999"
                    }, {
                        "t": "l",
                        "v": "8.100000000000001"
                    }, {
                        "t": "l",
                        "v": "8.100000000000001"
                    }, {
                        "t": "l",
                        "v": "8.9"
                    }, {
                        "t": "l",
                        "v": "9.9"
                    }, {
                        "t": "l",
                        "v": "10.0"
                    }]
                }]
            }
        },

        "e416b040": {
            "txt": "array(\"3\",\"0\",\"3.5000000000000004\",\"5.5\",\"6\",\"5\",\"3.5000000000000004\",\"6.5\",\"10\",\"11\",\"12.5\",\"11.5\",\"9\",\"8\",\"4\",\"3.5000000000000004\",\"3\",\"6\",\"9\",\"8.5\",\"7.5\",\"5\",\"4.5\",\"7.5\",\"5.5\",\"5\",\"4\",\"5\",\"7\",\"8\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "3"
                    }, {
                        "t": "l",
                        "v": "0"
                    }, {
                        "t": "l",
                        "v": "3.5000000000000004"
                    }, {
                        "t": "l",
                        "v": "5.5"
                    }, {
                        "t": "l",
                        "v": "6"
                    }, {
                        "t": "l",
                        "v": "5"
                    }, {
                        "t": "l",
                        "v": "3.5000000000000004"
                    }, {
                        "t": "l",
                        "v": "6.5"
                    }, {
                        "t": "l",
                        "v": "10"
                    }, {
                        "t": "l",
                        "v": "11"
                    }, {
                        "t": "l",
                        "v": "12.5"
                    }, {
                        "t": "l",
                        "v": "11.5"
                    }, {
                        "t": "l",
                        "v": "9"
                    }, {
                        "t": "l",
                        "v": "8"
                    }, {
                        "t": "l",
                        "v": "4"
                    }, {
                        "t": "l",
                        "v": "3.5000000000000004"
                    }, {
                        "t": "l",
                        "v": "3"
                    }, {
                        "t": "l",
                        "v": "6"
                    }, {
                        "t": "l",
                        "v": "9"
                    }, {
                        "t": "l",
                        "v": "8.5"
                    }, {
                        "t": "l",
                        "v": "7.5"
                    }, {
                        "t": "l",
                        "v": "5"
                    }, {
                        "t": "l",
                        "v": "4.5"
                    }, {
                        "t": "l",
                        "v": "7.5"
                    }, {
                        "t": "l",
                        "v": "5.5"
                    }, {
                        "t": "l",
                        "v": "5"
                    }, {
                        "t": "l",
                        "v": "4"
                    }, {
                        "t": "l",
                        "v": "5"
                    }, {
                        "t": "l",
                        "v": "7"
                    }, {
                        "t": "l",
                        "v": "8"
                    }]
                }]
            }
        },

        "06057f9f": {
            "txt": "array(\"2015-04-01\",\"2015-04-02\",\"2015-04-03\",\"2015-04-04\",\"2015-04-05\",\"2015-04-06\",\"2015-04-07\",\"2015-04-08\",\"2015-04-09\",\"2015-04-10\",\"2015-04-11\",\"2015-04-12\",\"2015-04-13\",\"2015-04-14\",\"2015-04-15\",\"2015-04-16\",\"2015-04-17\",\"2015-04-18\",\"2015-04-19\",\"2015-04-20\",\"2015-04-21\",\"2015-04-22\",\"2015-04-23\",\"2015-04-24\",\"2015-04-25\",\"2015-04-26\",\"2015-04-27\",\"2015-04-28\",\"2015-04-29\",\"2015-04-30\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "2015-04-01"
                    }, {
                        "t": "l",
                        "v": "2015-04-02"
                    }, {
                        "t": "l",
                        "v": "2015-04-03"
                    }, {
                        "t": "l",
                        "v": "2015-04-04"
                    }, {
                        "t": "l",
                        "v": "2015-04-05"
                    }, {
                        "t": "l",
                        "v": "2015-04-06"
                    }, {
                        "t": "l",
                        "v": "2015-04-07"
                    }, {
                        "t": "l",
                        "v": "2015-04-08"
                    }, {
                        "t": "l",
                        "v": "2015-04-09"
                    }, {
                        "t": "l",
                        "v": "2015-04-10"
                    }, {
                        "t": "l",
                        "v": "2015-04-11"
                    }, {
                        "t": "l",
                        "v": "2015-04-12"
                    }, {
                        "t": "l",
                        "v": "2015-04-13"
                    }, {
                        "t": "l",
                        "v": "2015-04-14"
                    }, {
                        "t": "l",
                        "v": "2015-04-15"
                    }, {
                        "t": "l",
                        "v": "2015-04-16"
                    }, {
                        "t": "l",
                        "v": "2015-04-17"
                    }, {
                        "t": "l",
                        "v": "2015-04-18"
                    }, {
                        "t": "l",
                        "v": "2015-04-19"
                    }, {
                        "t": "l",
                        "v": "2015-04-20"
                    }, {
                        "t": "l",
                        "v": "2015-04-21"
                    }, {
                        "t": "l",
                        "v": "2015-04-22"
                    }, {
                        "t": "l",
                        "v": "2015-04-23"
                    }, {
                        "t": "l",
                        "v": "2015-04-24"
                    }, {
                        "t": "l",
                        "v": "2015-04-25"
                    }, {
                        "t": "l",
                        "v": "2015-04-26"
                    }, {
                        "t": "l",
                        "v": "2015-04-27"
                    }, {
                        "t": "l",
                        "v": "2015-04-28"
                    }, {
                        "t": "l",
                        "v": "2015-04-29"
                    }, {
                        "t": "l",
                        "v": "2015-04-30"
                    }]
                }]
            }
        }
    },

    "datasources": {
        "alexa-01": {
            "service": "alexa",
            "name": "Alexa Traffic History for {{ds.alexa.competitorUrl1}} (Last 31 days)",
            "libraryAlias": "TrafficHistory1",
            "description": "Monitor traffic history for {{ds.alexa.competitorUrl1}}. Originates from the Gallery.",
            "type": "simple_rest",
            "format": "xml",
            "refreshInterval": 14400,
            "props": {
                "endpoint_url": "http://awis.amazonaws.com/?AWSAccessKeyId={{auth.alexa.apiKey}}&Action=TrafficHistory&ResponseGroup=History&SignatureMethod=HmacSHA1&SignatureVersion=2&Start={date.add(-31).tz('UTC').format('yyyyMMdd')}&Timestamp={date.addMinutes(10).tz('UTC').format(\"yyyy-MM-dd'T'HH'%3A'mm'%3A'ss'Z'\");}&Url={{ds.alexa.competitorUrl1}}&Signature={hash.append(\"GET\").appendNewLine().append(\"awis.amazonaws.com\").appendNewLine().append(\"/\").appendNewLine().append(\"AWSAccessKeyId={{auth.alexa.apiKey}}&Action=TrafficHistory&ResponseGroup=History&SignatureMethod=HmacSHA1&SignatureVersion=2&Start=\"+date.tz('UTC').add(-31).format('yyyyMMdd')+\"&Timestamp=\"+date.addMinutes(10).tz('UTC').format(\"yyyy-MM-dd'T'HH'%3A'mm'%3A'ss'Z'\")+\"&Url={{ds.alexa.competitorUrl1}}\").encodeHmacSha1(\"{{auth.alexa.apiSecret}}\").encodeBase64().encodeURL().printDigest();}"
            }
        },
        "alexa-02": {
            "service": "alexa",
            "name": "Alexa Traffic History for {{ds.alexa.competitorUrl2}} (Last 31 days)",
            "libraryAlias": "TrafficHistory2",
            "description": "Monitor traffic history for {{ds.alexa.competitorUrl2}}. Originates from the Gallery.",
            "type": "simple_rest",
            "format": "xml",
            "refreshInterval": 14400,
            "props": {
                "endpoint_url": "http://awis.amazonaws.com/?AWSAccessKeyId={{auth.alexa.apiKey}}&Action=TrafficHistory&ResponseGroup=History&SignatureMethod=HmacSHA1&SignatureVersion=2&Start={date.add(-31).tz('UTC').format('yyyyMMdd')}&Timestamp={date.addMinutes(10).tz('UTC').format(\"yyyy-MM-dd'T'HH'%3A'mm'%3A'ss'Z'\");}&Url={{ds.alexa.competitorUrl2}}&Signature={hash.append(\"GET\").appendNewLine().append(\"awis.amazonaws.com\").appendNewLine().append(\"/\").appendNewLine().append(\"AWSAccessKeyId={{auth.alexa.apiKey}}&Action=TrafficHistory&ResponseGroup=History&SignatureMethod=HmacSHA1&SignatureVersion=2&Start=\"+date.tz('UTC').add(-31).format('yyyyMMdd')+\"&Timestamp=\"+date.addMinutes(10).tz('UTC').format(\"yyyy-MM-dd'T'HH'%3A'mm'%3A'ss'Z'\")+\"&Url={{ds.alexa.competitorUrl2}}\").encodeHmacSha1(\"{{auth.alexa.apiSecret}}\").encodeBase64().encodeURL().printDigest();}"
            }
        },
        "alexa-03": {
            "service": "alexa",
            "name": "Alexa Traffic History for {{ds.alexa.competitorUrl3}} (Last 31 days)",
            "libraryAlias": "TrafficHistory3",
            "description": "Monitor traffic history for {{ds.alexa.competitorUrl3}}. Originates from the Gallery.",
            "type": "simple_rest",
            "format": "xml",
            "refreshInterval": 14400,
            "props": {
                "endpoint_url": "http://awis.amazonaws.com/?AWSAccessKeyId={{auth.alexa.apiKey}}&Action=TrafficHistory&ResponseGroup=History&SignatureMethod=HmacSHA1&SignatureVersion=2&Start={date.add(-31).tz('UTC').format('yyyyMMdd')}&Timestamp={date.addMinutes(10).tz('UTC').format(\"yyyy-MM-dd'T'HH'%3A'mm'%3A'ss'Z'\");}&Url={{ds.alexa.competitorUrl3}}&Signature={hash.append(\"GET\").appendNewLine().append(\"awis.amazonaws.com\").appendNewLine().append(\"/\").appendNewLine().append(\"AWSAccessKeyId={{auth.alexa.apiKey}}&Action=TrafficHistory&ResponseGroup=History&SignatureMethod=HmacSHA1&SignatureVersion=2&Start=\"+date.tz('UTC').add(-31).format('yyyyMMdd')+\"&Timestamp=\"+date.addMinutes(10).tz('UTC').format(\"yyyy-MM-dd'T'HH'%3A'mm'%3A'ss'Z'\")+\"&Url={{ds.alexa.competitorUrl3}}\").encodeHmacSha1(\"{{auth.alexa.apiSecret}}\").encodeBase64().encodeURL().printDigest();}"
            }
        }
    },

    "dsMappings": {
        "alexa-01": "8f8b64955a5d6d7949aenatceewzhere",
        "alexa-02": "52921e6730d1e3223c4bnatceewzhere",
        "alexa-03": "87f727f82dba81a9f8e2natceewzhere"
    },

    "services": [{
        "service": "alexa"
    }],

    "datasourceConfigModel": [{
        "type": "text",
        "id": "ds.alexa.competitorUrl1",
        "label": "Your URL",
        "description": "Enter your URL and two competitor URLs.",
        "isRequired": "true",
        "urlEncode": "true"
    }, {
        "type": "text",
        "id": "ds.alexa.competitorUrl2",
        "label": "Competitor URL 1",
        "isRequired": "true",
        "urlEncode": "true"
    }, {
        "type": "text",
        "id": "ds.alexa.competitorUrl3",
        "label": "Competitor URL 2",
        "isRequired": "true",
        "urlEncode": "true"
    }]
}
