{
  "name": "Moz Competitors Ranks",
  "description": "Use the drop-down menu to customize your results based on how your team weighs Social and URL rankings against competitors. Originates from the Gallery.",
  "sampleFormulas": {
    "18b46a6f-3": {
      "txt": "\"0.5\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "0.5"
          }
        ]
      }
    },
    "e9e1f3f2": {
      "txt": "array(\"0\",\"0.9\",\"0.8\",\"0.7\",\"0.6\",\"0.5\",\"0.4\",\"0.3\",\"0.2\",\"0.1\",\"0\")",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "f",
            "v": "array",
            "c": [
              {
                "t": "l",
                "v": "0"
              },
              {
                "t": "l",
                "v": "0.9"
              },
              {
                "t": "l",
                "v": "0.8"
              },
              {
                "t": "l",
                "v": "0.7"
              },
              {
                "t": "l",
                "v": "0.6"
              },
              {
                "t": "l",
                "v": "0.5"
              },
              {
                "t": "l",
                "v": "0.4"
              },
              {
                "t": "l",
                "v": "0.3"
              },
              {
                "t": "l",
                "v": "0.2"
              },
              {
                "t": "l",
                "v": "0.1"
              },
              {
                "t": "l",
                "v": "0"
              }
            ]
          }
        ]
      }
    },
    "30c8f1e7": {
      "txt": "array(\"100 / 0 - Social\",\"90 / 10 - Social\",\"80 / 20 - Social\",\"70 / 30 - Social\",\"60 / 40 - Social\",\"50 / 50 - Equal Weight\",\"40 / 60 - URL\",\"30 / 70 - URL\",\"20 / 80 - URL\",\"10 / 90 - URL\",\"0 / 100 - URL\")",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "f",
            "v": "array",
            "c": [
              {
                "v": "100 / 0 - Social",
                "t": "l"
              },
              {
                "v": "90 / 10 - Social",
                "t": "l"
              },
              {
                "v": "80 / 20 - Social",
                "t": "l"
              },
              {
                "v": "70 / 30 - Social",
                "t": "l"
              },
              {
                "v": "60 / 40 - Social",
                "t": "l"
              },
              {
                "v": "50 / 50 - Equal Weight",
                "t": "l"
              },
              {
                "v": "40 / 60 - URL",
                "t": "l"
              },
              {
                "v": "30 / 70 - URL",
                "t": "l"
              },
              {
                "v": "20 / 80 - URL",
                "t": "l"
              },
              {
                "v": "10 / 90 - URL",
                "t": "l"
              },
              {
                "v": "0 / 100 - URL",
                "t": "l"
              }
            ]
          }
        ]
      }
    },
    "4df7801e-4": {
      "txt": "\"0.5\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "0.5"
          }
        ]
      }
    },
    "12f42555-1": {
      "txt": "\"Social Authority Weighting\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "Social Authority Weighting"
          }
        ]
      }
    },
    "c2a61bad-2": {
      "txt": "\"URL Weighting\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "URL Weighting"
          }
        ]
      }
    },
    "7c1428a8": {
      "txt": "\"Social Authority\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "Social Authority"
          }
        ]
      }
    },
    "29a84b57": {
      "txt": "\"MozRank\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "MozRank"
          }
        ]
      }
    },
    "132dd48f": {
      "txt": "\"Combined Rank\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "Combined Rank"
          }
        ]
      }
    },
    "f109c9da": {
      "txt": "\"http://static.klipfolio.com/templates/images/logo3.png\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "http://static.klipfolio.com/templates/images/logo3.png"
          }
        ]
      }
    },
    "65c82477": {
      "txt": "\"45.55\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "45.55"
          }
        ]
      }
    },
    "017c8624": {
      "txt": "\"5.43\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "5.43"
          }
        ]
      }
    },
    "4dad6910": {
      "txt": "\"51.24\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "51.24"
          }
        ]
      }
    },
    "07cba819": {
      "txt": "\"Acme Inc.\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "Acme Inc."
          }
        ]
      }
    },
    "b95e517f": {
      "txt": "\"@acmeinc\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "@acmeinc"
          }
        ]
      }
    },
    "a92b56fe": {
      "txt": "\"acme.com\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "acme.com"
          }
        ]
      }
    },
    "b743fbe7": {
      "txt": "\"http://static.klipfolio.com/templates/images/logo2.png\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "http://static.klipfolio.com/templates/images/logo2.png"
          }
        ]
      }
    },
    "eef21284": {
      "txt": "\"47.23\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "47.23"
          }
        ]
      }
    },
    "265b9d1b": {
      "txt": "\"5.16\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "5.16"
          }
        ]
      }
    },
    "d82ad911": {
      "txt": "\"51.33\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "51.33"
          }
        ]
      }
    },
    "980e3c76": {
      "txt": "\"Skynet Global\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "Skynet Global"
          }
        ]
      }
    },
    "69862cdd": {
      "txt": "\"@skynetglobal\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "@skynetglobal"
          }
        ]
      }
    },
    "3131bf9e": {
      "txt": "\"skynet.com\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "skynet.com"
          }
        ]
      }
    },
    "306ac9d4": {
      "txt": "\"http://static.klipfolio.com/templates/images/logo1.png\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "http://static.klipfolio.com/templates/images/logo1.png"
          }
        ]
      }
    },
    "e2fd7919": {
      "txt": "\"35.55\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "35.55"
          }
        ]
      }
    },
    "26002598": {
      "txt": "\"5.05\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "5.05"
          }
        ]
      }
    },
    "c15aa946": {
      "txt": "\"45.22\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "45.22"
          }
        ]
      }
    },
    "3ac1f144": {
      "txt": "\"Globex International\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "Globex International"
          }
        ]
      }
    },
    "ceb19495": {
      "txt": "\"@globex\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "@globex"
          }
        ]
      }
    },
    "1a310c8a": {
      "txt": "\"globex.com\"",
      "src": {
        "t": "expr",
        "v": false,
        "c": [
          {
            "t": "l",
            "v": "globex.com"
          }
        ]
      }
    }
  },
  "datasources": {
    "twitter": {
      "service": "twitter",
      "type": "simple_rest",
      "format": "json",
      "name": "Twitter Profiles (@{{ds.twitter.mainURL}}, @{{ds.twitter.competitor1}}, @{{ds.twitter.competitor2}})",
      "libraryAlias": "TwitterProfileCompetitors",
      "refreshInterval": 14400,
      "description": "Twitter Profiles for you and two competitors. Originates from the Gallery.",
      "props": {
        "endpoint_url": "https://api.twitter.com/1.1/users/lookup.json?screen_name={{ds.twitter.mainURL}},{{ds.twitter.competitor1}},{{ds.twitter.competitor2}}",
        "method": "get"
      }
    },
    "moz-01": {
      "service": "moz",
      "type": "simple_rest",
      "format": "json",
      "name": "Moz URL Metrics ({{ds.moz.mainURL}}, {{ds.moz.competitorUrl1}}, {{ds.moz.competitorUrl2}})",
      "libraryAlias": "MozURLMetricsCompetitors",
      "refreshInterval": 14400,
      "description": "Moz URL metrics for your company and two competitors. Originates from the Gallery.",
      "props": {
        "body": "[\"{{ds.moz.mainURL}}\",\"{{ds.moz.competitorUrl1}}\",\"{{ds.moz.competitorUrl2}}\"]",
        "endpoint_url": "http://lsapi.seomoz.com/linkscape/url-metrics?Cols=141421159907324&AccessID={{auth.moz.accessId}}&Expires={hash.getExpiryTime(240);}&Signature={hash.append(\"{{auth.moz.accessId}}\").appendNewLine().append(hash.getExpiryTime(240)).encodeHmacSha1(\"{{auth.moz.secretKey}}\").encodeBase64().encodeURL().printDigest();}",
        "parameters": "[{\"name\":\"User-Agent\",\"value\":\"Klipfolio\",\"type\":\"header\"}]",
        "method": "post"
      }
    },
    "moz-02": {
      "service": "moz",
      "type": "simple_rest",
      "format": "json",
      "name": "Moz Social Authority (@{{ds.twitter.mainURL}}, @{{ds.twitter.competitor1}}, @{{ds.twitter.competitor2}})",
      "libraryAlias": "MozSocialAuthorityCompetitors",
      "refreshInterval": 14400,
      "description": "Moz Social Authority for your company and two competitors. Originates from the Gallery.",
      "props": {
        "endpoint_url": "https://api.followerwonk.com/social-authority?screen_name={{ds.twitter.mainURL}},{{ds.twitter.competitor1}},{{ds.twitter.competitor2}};AccessID={{auth.moz.socialAccessId}};Timestamp={hash.getExpiryTime(240);};Signature={hash.append(\"{{auth.moz.socialAccessId}}\").appendNewLine().append(hash.getExpiryTime(240)).encodeHmacSha1(\"{{auth.moz.socialSecretKey}}\").encodeBase64().encodeURL().printDigest();}",
        "parameters": "[{\"name\":\"User-Agent\",\"value\":\"Klipfolio\",\"type\":\"header\"}]",
        "method": "get"
      }
    }
  },
  "dsMappings": {
    "twitter": "4af9eae7fc52537d5296doogeraspilk",
    "moz-01": "9bd7842aefde218284e6doogeraspilk",
    "moz-02": "faa72cad643910a4350adoogeraspilk"
  },
  "uiVariables": [
    {
      "name": "KTMozSocialAuthorityWeighting",
      "value": "0.5"
    }
  ],
  "services": [
    {
      "service": "twitter"
    },
    {
      "service": "moz",
      "authConfig": {
        "type": "input",
        "model": [
          {
            "type": "text",
            "id": "auth.moz.accessId",
            "description": "Enter your Mozcape and Followerwonk API credentials. <a href='http://klipfolio.uservoice.com/knowledgebase/articles/640072-klip-gallery-moz#followerwonk' target='_blank'>Don't know where to find your Access IDs and Secret Keys?</a>",
            "label": "Moz Access ID",
            "ghostText": "mozscape-r9283649nn",

            "isRequired": true
          },
          {
            "type": "text",
            "id": "auth.moz.secretKey",
            "label": "Moz Secret Key",
            "ghostText": "964f68f54153686d0d5c5e063c727b1e",
            "isRequired": true
          },
          {
            "type": "text",
            "id": "auth.moz.socialAccessId",
            "label": "Followerwonk Access ID",
            "ghostText": "member-NmNzEzy01MWNhMgwODNWZiLWJiZjYtM2Y3MjZmZmOTMxZGEt",
            "isRequired": true
          },
          {
            "type": "text",
            "id": "auth.moz.socialSecretKey",
            "label": "Followerwonk Secret Key",
            "ghostText": "xkrygjqibmpzepjj9cnmfpsjefbxkvrs",
            "isRequired": true
          }
        ]
      }
    }
  ],
  "datasourceConfigModel": [
    {
      "type": "text",
      "id": "ds.twitter.mainURL",
      "label": "Twitter Handle",
      "description": "Enter your company's Twitter handle and website",
      "ghostText": "mycompany",
      "isRequired": true
    },
    {
      "type": "text",
      "id": "ds.moz.mainURL",
      "label": "URL",
      "ghostText": "mycompany.com",
      "isRequired": true
    },
    {
      "type": "text",
      "id": "ds.twitter.competitor1",
      "label": "Twitter Handle",
      "description": "Enter your first competitor's Twitter handle and website",
      "ghostText": "competitor1",
      "isRequired": true
    },
    {
      "type": "text",
      "id": "ds.moz.competitorUrl1",
      "label": "URL",
      "ghostText": "competitor1.com",
      "isRequired": true
    },
    {
      "type": "text",
      "id": "ds.twitter.competitor2",
      "label": "Twitter Handle",
      "description": "Enter your second competitor's Twitter handle and website",
      "ghostText": "competitor2",
      "isRequired": true
    },
    {
      "type": "text",
      "id": "ds.moz.competitorUrl2",
      "label": "URL",
      "ghostText": "competitor2.com",
      "isRequired": true
    }
  ]
}