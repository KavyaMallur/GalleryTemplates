{
    "name": "Awareness",
    "description": "Whatâ€™s going on with my brand on the web? Are people thinking about me? Let your monthly social media metrics, press and brand mentions, referring links, and branded search volume give you the answer. Originates from the Gallery.",
    "sampleFormulas":
    {
        "523e49ca":
        {
            "txt": "\"https://static.klipfolio.com/images/rand-fishkin-dashboard/awareness.png\"",
            "src":
            {
                "t": "expr",
                "v": false,
                "c": [
                {
                    "t": "l",
                    "v": "https://static.klipfolio.com/images/rand-fishkin-dashboard/awareness.png"
                }]
            }
        },
        "19cd644a-11":
        {
            "txt": "array(\"\",\"Facebook Posts\",\"Facebook Fans\",\"Twitter Followers\",\"Brand Mentions\",\"Branded Search\")",
            "src":
            {
                "t": "expr",
                "v": false,
                "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                    {
                        "t": "l",
                        "v": ""
                    },
                    {
                        "t": "l",
                        "v": "Facebook Posts"
                    },
                    {
                        "t": "l",
                        "v": "Facebook Fans"
                    },
                    {
                        "t": "l",
                        "v": "Twitter Followers"
                    },
                    {
                        "t": "l",
                        "v": "Brand Mentions"
                    },
                    {
                        "t": "l",
                        "v": "Branded Search"
                    }]
                }]
            }
        },
        "12273d2c-11":
        {
            "txt": "array(\"Nov 15\",\"45\",\"7402.5\",\"\",\"\",\"33975\")",
            "src":
            {
                "t": "expr",
                "v": false,
                "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                    {
                        "t": "l",
                        "v": "Nov 15"
                    },
                    {
                        "t": "l",
                        "v": 45
                    },
                    {
                        "t": "l",
                        "v": 7402.5
                    },
                    {
                        "t": "l",
                        "v":""
                    },
                    {
                        "t": "l",
                        "v":""
                    },
                    {
                        "t": "l",
                        "v": 33975
                    }]
                }]
            }
        },
        "a9a319a2-9":
        {
            "txt": "array(\"Dec 15\",\"25.6\",\"5248\",\"\",\"\",\"49315.200000000004\")",
            "src":
            {
                "t": "expr",
                "v": false,
                "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                    {
                        "t": "l",
                        "v": "Dec 15"
                    },
                    {
                        "t": "l",
                        "v": 25.6
                    },
                    {
                        "t": "l",
                        "v": 5248
                    },
                    {
                        "t": "l",
                        "v":""
                    },
                    {
                        "t": "l",
                        "v":""
                    },
                    {
                        "t": "l",
                        "v": 49315.200000000004
                    }]
                }]
            }
        },
        "b8b5be19-7":
        {
            "txt": "array(\"\",\"-0.431111111111111056093392335242242552340030670166015625\",\"-0.29105032083755488780951736771385185420513153076171875\",\"NaN\",\"NaN\",\"0.451514348785872099423244208082905970513820648193359375\")",
            "src":
            {
                "t": "expr",
                "v": false,
                "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                    {
                        "t": "l",
                        "v": ""
                    },
                    {
                        "t": "l",
                        "v": "-0.431111111111111056093392335242242552340030670166015625"
                    },
                    {
                        "t": "l",
                        "v": "-0.29105032083755488780951736771385185420513153076171875"
                    },
                    {
                        "t": "l",
                        "v": "NaN"
                    },
                    {
                        "t": "l",
                        "v": "NaN"
                    },
                    {
                        "t": "l",
                        "v": "0.451514348785872099423244208082905970513820648193359375"
                    }]
                }]
            }
        },
        "90f4927e-5":
        {
            "txt": "array(\"Jan 16\",\"16.5\",\"5402.099999999999\",\"\",\"\",\"47226.299999999996\")",
            "src":
            {
                "t": "expr",
                "v": false,
                "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                    {
                        "t": "l",
                        "v": "Jan 16"
                    },
                    {
                        "t": "l",
                        "v": 16.5
                    },
                    {
                        "t": "l",
                        "v": 5402.099999999999
                    },
                    {
                        "t": "l",
                        "v":""
                    },
                    {
                        "t": "l",
                        "v":""
                    },
                    {
                        "t": "l",
                        "v": 47226.299999999996
                    }]
                }]
            }
        },
        "60ebc7ee-3":
        {
            "txt": "array(\"\",\"-0.355468750000000055511151231257827021181583404541015625\",\"0.02936356707317062941786645069441874511539936065673828125\",\"NaN\",\"NaN\",\"-0.042358137044968054152338510220943135209381580352783203125\")",
            "src":
            {
                "t": "expr",
                "v": false,
                "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                    {
                        "t": "l",
                        "v": ""
                    },
                    {
                        "t": "l",
                        "v": "-0.355468750000000055511151231257827021181583404541015625"
                    },
                    {
                        "t": "l",
                        "v": "0.02936356707317062941786645069441874511539936065673828125"
                    },
                    {
                        "t": "l",
                        "v": "NaN"
                    },
                    {
                        "t": "l",
                        "v": "NaN"
                    },
                    {
                        "t": "l",
                        "v": "-0.042358137044968054152338510220943135209381580352783203125"
                    }]
                }]
            }
        },
        "079540ce-13":
        {
            "txt": "array(\"Feb 16\",\"16.8\",\"3912\",\"\",\"\",\"43406.4\")",
            "src":
            {
                "t": "expr",
                "v": false,
                "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                    {
                        "t": "l",
                        "v": "Feb 16"
                    },
                    {
                        "t": "l",
                        "v": 16.8
                    },
                    {
                        "t": "l",
                        "v": 3912
                    },
                    {
                        "t": "l",
                        "v":""
                    },
                    {
                        "t": "l",
                        "v":""
                    },
                    {
                        "t": "l",
                        "v": 43406.4
                    }]
                }]
            }
        },
        "78075402-1":
        {
            "txt": "array(\"\",\"0.0181818181818182260378602421724281157366931438446044921875\",\"-0.275837174432165210813394651268026791512966156005859375\",\"NaN\",\"NaN\",\"-0.08088501534102808532278316988595179282128810882568359375\")",
            "src":
            {
                "t": "expr",
                "v": false,
                "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                    {
                        "t": "l",
                        "v": ""
                    },
                    {
                        "t": "l",
                        "v": "0.0181818181818182260378602421724281157366931438446044921875"
                    },
                    {
                        "t": "l",
                        "v": "-0.275837174432165210813394651268026791512966156005859375"
                    },
                    {
                        "t": "l",
                        "v": "NaN"
                    },
                    {
                        "t": "l",
                        "v": "NaN"
                    },
                    {
                        "t": "l",
                        "v": "-0.08088501534102808532278316988595179282128810882568359375"
                    }]
                }]
            }
        },
        "639f7d2a-15":
        {
            "txt": "array(\"Mar 16\",\"16\",\"5232\",\"\",\"\",\"64057.600000000006\")",
            "src":
            {
                "t": "expr",
                "v": false,
                "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                    {
                        "t": "l",
                        "v": "Mar 16"
                    },
                    {
                        "t": "l",
                        "v": 16
                    },
                    {
                        "t": "l",
                        "v": 5232
                    },
                    {
                        "t": "l",
                        "v":""
                    },
                    {
                        "t": "l",
                        "v":""
                    },
                    {
                        "t": "l",
                        "v": 64057.600000000006
                    }]
                }]
            }
        },
        "c48460d3-1":
        {
            "txt": "array(\"\",\"-0.04761904761904765803759431719299755059182643890380859375\",\"0.337423312883435577713697739454801194369792938232421875\",\"NaN\",\"NaN\",\"0.475763942644402748616272447179653681814670562744140625\")",
            "src":
            {
                "t": "expr",
                "v": false,
                "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                    {
                        "t": "l",
                        "v": ""
                    },
                    {
                        "t": "l",
                        "v": "-0.04761904761904765803759431719299755059182643890380859375"
                    },
                    {
                        "t": "l",
                        "v": "0.337423312883435577713697739454801194369792938232421875"
                    },
                    {
                        "t": "l",
                        "v": "NaN"
                    },
                    {
                        "t": "l",
                        "v": "NaN"
                    },
                    {
                        "t": "l",
                        "v": "0.475763942644402748616272447179653681814670562744140625"
                    }]
                }]
            }
        },
        "4ba85079-17":
        {
            "txt": "array(\"Apr 16\",\"22.400000000000002\",\"5241.6\",\"9929.6\",\"3052.8\",\"41443.200000000004\")",
            "src":
            {
                "t": "expr",
                "v": false,
                "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                    {
                        "t": "l",
                        "v": "Apr 16"
                    },
                    {
                        "t": "l",
                        "v": 22.400000000000002
                    },
                    {
                        "t": "l",
                        "v": 5241.6
                    },
                    {
                        "t": "l",
                        "v": 9929.6
                    },
                    {
                        "t": "l",
                        "v": 3052.8
                    },
                    {
                        "t": "l",
                        "v": 41443.200000000004
                    }]
                }]
            }
        },
        "e8ef4257-3":
        {
            "txt": "array(\"\",\"0.4000000000000001332267629550187848508358001708984375\",\"0.00183486238532117040822555509294033981859683990478515625\",\" \",\" \",\"-0.353032270956139482276370245017460547387599945068359375\")",
            "src":
            {
                "t": "expr",
                "v": false,
                "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                    {
                        "t": "l",
                        "v": ""
                    },
                    {
                        "t": "l",
                        "v": "0.4000000000000001332267629550187848508358001708984375"
                    },
                    {
                        "t": "l",
                        "v": "0.00183486238532117040822555509294033981859683990478515625"
                    },
                    {
                        "t": "l",
                        "v": " "
                    },
                    {
                        "t": "l",
                        "v": " "
                    },
                    {
                        "t": "l",
                        "v": "-0.353032270956139482276370245017460547387599945068359375"
                    }]
                }]
            }
        }
    },

    "datasources":
    {
        "facebook-1":
        {
            "service": "facebook",
            "type": "facebook",
            "name": "Facebook Posts (Month 5)",
            "libraryAlias": "FacebookPosts(Month5)",
            "description": "  ",
            "format": "json",
            "refreshInterval": 14400,
            "props":
            {
                "endpoint_url": "https://graph.facebook.com/v2.5/{{ds.facebook.pageId}}/posts/?fields=insights.metric(post_story_adds,post_impressions_unique)&since={date.addMonths(-1).startOfMonth}&until={date.addMonths(-1).endOfMonth}&limit=100"
            }
        },
        "facebook-2":
        {
            "service": "facebook",
            "type": "facebook",
            "name": "Facebook Posts (Month 4)",
            "libraryAlias": "FacebookPosts(Month4)",
            "description": "  ",
            "format": "json",
            "refreshInterval": 14400,
            "props":
            {
                "endpoint_url": "https://graph.facebook.com/v2.5/{{ds.facebook.pageId}}/posts/?fields=created_time,insights.metric(post_story_adds,post_impressions_unique)&since={date.addMonths(-2).startOfMonth}&until={date.addMonths(-2).endOfMonth}&limit=100"
            }
        },
        "facebook-3":
        {
            "service": "facebook",
            "type": "facebook",
            "name": "FB Posts (Month 6)",
            "libraryAlias": "FBPosts(Month6)",
            "description": "  ",
            "format": "json",
            "refreshInterval": 14400,
            "props":
            {
                "endpoint_url": "https://graph.facebook.com/v2.5/{{ds.facebook.pageId}}/posts/?fields=insights.metric(post_story_adds,post_impressions_unique)&since={date.startOfMonth}&until={date.endOfMonth}&limit=100"
            }
        },
        "facebook-4":
        {
            "service": "facebook",
            "type": "facebook",
            "name": "Facebook Fans (Month 5 & 6)",
            "libraryAlias": "FacebookFans(Month5&6)",
            "description": "  ",
            "format": "json",
            "refreshInterval": 14400,
            "props":
            {
                "endpoint_url": "https://graph.facebook.com/{{ds.facebook.pageId}}/insights/page_fans/lifetime?since={date.addMonths(-1).startOfMonth.format()}&until={date.today}"
            }
        },
        "facebook-5":
        {
            "service": "facebook",
            "type": "facebook",
            "name": "Facebook Fans (Month 3 & 4)",
            "libraryAlias": "FacebookFans(Month3&4)",
            "description": "  ",
            "format": "json",
            "refreshInterval": 14400,
            "props":
            {
                "endpoint_url": "https://graph.facebook.com/{{ds.facebook.pageId}}/insights/page_fans/lifetime?since={date.addMonths(-3).startOfMonth.format()}&until={date.addMonths(-2).endOfMonth.format()}"
            }
        },
        "facebook-6":
        {
            "service": "facebook",
            "type": "facebook",
            "name": "Facebook Fans (Month 1 & 2)",
            "libraryAlias": "FacebookFans(Month1&2)",
            "description": "  ",
            "format": "json",
            "refreshInterval": 14400,
            "props":
            {
                "endpoint_url": "https://graph.facebook.com/{{ds.facebook.pageId}}/insights/page_fans/lifetime?since={date.addMonths(-5).startOfMonth.format()}&until={date.addMonths(-4).endOfMonth.format()}"
            }
        },
        "facebook-7":
        {
            "service": "facebook",
            "type": "facebook",
            "name": "Facebook Posts (Month 3)",
            "libraryAlias": "FacebookPosts(Month3)",
            "description": "  ",
            "format": "json",
            "refreshInterval": 14400,
            "props":
            {
                "endpoint_url": "https://graph.facebook.com/v2.5/{{ds.facebook.pageId}}/posts/?fields=insights.metric(post_story_adds,post_impressions_unique)&since={date.addMonths(-3).startOfMonth}&until={date.addMonths(-3).endOfMonth}&limit=100"
            }
        },
        "facebook-8":
        {
            "service": "facebook",
            "type": "facebook",
            "name": "Facebook Posts (Month 2)",
            "libraryAlias": "FacebookPosts(Month2)",
            "description": "  ",
            "format": "json",
            "refreshInterval": 14400,
            "props":
            {
                "endpoint_url": "https://graph.facebook.com/v2.5/{{ds.facebook.pageId}}/posts/?fields=insights.metric(post_story_adds,post_impressions_unique)&since={date.addMonths(-4).startOfMonth}&until={date.addMonths(-4).endOfMonth}&limit=100"
            }
        },
        "facebook-9":
        {
            "service": "facebook",
            "type": "facebook",
            "name": "Facebook Posts (Month 1)",
            "libraryAlias": "FacebookPosts(Month1)",
            "description": "  ",
            "format": "json",
            "refreshInterval": 14400,
            "props":
            {
                "endpoint_url": "https://graph.facebook.com/v2.5/{{ds.facebook.pageId}}/posts/?fields=insights.metric(post_story_adds,post_impressions_unique)&since={date.addMonths(-5).startOfMonth}&until={date.addMonths(-5).endOfMonth}&limit=100"
            }
        },
        "talkwalker":
        {
            "service": "talkwalker",
            "type": "simple_rest",
            "name": "Talkwalker Brand Mentions",
            "libraryAlias": "TalkwalkerBrandMentions",
            "description": "  ",
            "format": "json",
            "refreshInterval": 14400,
            "props":
            {
                "endpoint_url": "https://api.talkwalker.com/api/v1/search/histogram/published?q={{ds.talkwalker.sentimentQuery}}&time_range=30d&access_token=9b37abf3-2f84-406b-8278-3397ce98f6f1_8LtNJFevpv6hJi5TfM3y-2v8O05WlqhYABzhPnwNfR.RgqmrxP0-xkySnO12mb3DVW.8N4-X0OFP-pHSdmWRC3O88WigI3wYIsr6V2eCI5wfiHotlIZ23SrqAx-hKt44DHW-YPAkcqblDqXxQqCNgS9uGW6uy7oJBtV6nmfDDQ0&timezone=UTC"
            }
        },
        "google_analytics":
        {
            "service": "google_analytics",
            "type": "google_analytics",
            "name": "Google Analytics Branded Search (Last 6 Months)",
            "libraryAlias": "GoogleAnalyticsBrandedSearch(Last6Months)",
            "description": "  ",
            "format": "csv",
            "refreshInterval": 14400,
            "props":
            {
                "endpoint_url": "https://www.googleapis.com/analytics/v3/data/ga?ids=ga:{{ds.google_analytics.profileId}}&start-date={date.addMonths(-5).format()}&end-date={date.today.format()}&metrics=ga:users,ga:bounceRate,ga:goalStartsAll,ga:avgTimeOnPage,ga:sessions&dimensions=ga:landingPagePath,ga:yearMonth&filters=ga:landingPagePath=={{ds.google_analytics.pagePath}}&segment=gaid::-5",
                "endpoint_url": "https://www.googleapis.com/analytics/v3/data/ga?ids=ga:{{ds.google_analytics.profileId}}&start-date={date.addMonths(-5).format()}&end-date={date.today.format()}&metrics=ga:users,ga:bounceRate,ga:goalStartsAll,ga:avgTimeOnPage,ga:sessions&dimensions=ga:landingPagePath,ga:yearMonth&filters=ga:landingPagePath=={{ds.google_analytics.pagePath}}&segment=gaid::-5",
                "mode": "Advanced",
                "profile": "{{ds.google_analytics.profileId}}"
            }
        },
        "twitter":
        {
            "service": "twitter",
            "type": "simple_rest",
            "name": "Twitter Followers",
            "libraryAlias": "TwitterFollowers",
            "description": "  ",
            "format": "json",
            "refreshInterval": 14400,
            "props":
            {
                "endpoint_url": "https://api.twitter.com/1.1/users/lookup.json?screen_name={{ds.twitter.screenName}}"
            }
        }
    },
    "dsMappings":
    {
        "facebook-1": "002d7ac9baca90d2b902spilkemosewa",
        "facebook-2": "66b40b23f51450efa4bcspilkemosewa",
        "facebook-3": "bad3aa3e2c9a81776b0espilkemosewa",
        "facebook-4": "26509aed38a570146744spilkemosewa",
        "facebook-5": "c35d606386e9a65856f8spilkemosewa",
        "facebook-6": "42bfdd2e6476b84baacespilkemosewa",
        "facebook-7": "8532a0bf4b9caf7f72e5spilkemosewa",
        "facebook-8": "d0cc45bb8eb389d05a08spilkemosewa",
        "facebook-9": "ceee6ad493fb407d6a8aspilkemosewa",
        "talkwalker": "7cbd205b2c4cb56c12a3spilkemosewa",
        "google_analytics": "fb1aab94dc7a68521384spilkemosewa",
        "twitter": "66bcbfd9e0efda44134fspilkemosewa"
    },
    "services": [
    {
        "service": "facebook"
    },
    {
        "service": "talkwalker"
    },
    {
        "service": "google_analytics"
    },
    {
        "service": "twitter"
    }],
    "datasourceConfigModel": [
    {
        "type": "select",
        "id": "ds.facebook.pageId",
        "label": "Facebook Page",
        "description": "Select your Facebook company page and your Google Analytics account.",
        "isRequired": true,
        "onChangeQueries": ["q2"]
    },
    {
        "type": "select",
        "id": "ds.google_analytics.profileId",
        "label": "Analytics Account",
        "isRequired": true
    },
    {
        "type": "text",
        "id": "ds.google_analytics.pagePath",
        "label": "Homepage Path",
        "ghostText": "/index.php",
        "description": "Enter your homepage path (as you see it in Google Analytics).", 
        "isRequired": true
    },
    {
        "type": "text",
        "id": "ds.talkwalker.sentimentQuery",
        "label": "Company Name",
        "description": "Enter your company name and Twitter handle: <i>do <b>not</b> include the @ symbol</i>.",
        "ghostText": "acmeinc",
        "isRequired": true
    },
    {
        "type": "text",
        "id": "ds.twitter.screenName",
        "label": "Twitter Handle",
        "ghostText": "acmeinc",
        "isRequired": true
    }],
    "queries": [
    {
        "errorMessage": "From time to time, your OAuth token will expire. This token allows you to safely bring your data into Klipfolio. <a href='https://support.klipfolio.com/hc/en-us/articles/215548958-OAuth-token-expired-for-connected-accounts' target='_blank'>Find out how to re-authorize your OAuth tokens</a>.",
        "connector":
        {
            "service": "facebook",
            "type": "facebook",
            "format": "json",
            "props":
            {
                "endpoint_url": "https://graph.facebook.com/v2.5/me/accounts?fields=name,id",
                "method": "GET",
                "qtype": "Graph API"
            }
        },
        "results": [
        {
            "propId": "ds.facebook.pageId",
            "propField": "options",
            "labels": "/data/name",
            "values": "/data/id"
        }]
    },
    {
        "id": "q2",
        "errorMessage": "Here are two suggestions:<br><br>1. Make sure you have access to your company's Google Analytics account. <br><br>2. From time to time, your Google OAuth token will expire. This token allows you to safely bring your data into Klipfolio. <a href='https://support.klipfolio.com/hc/en-us/articles/215548958-OAuth-token-expired-for-connected-accounts' target='_blank'>Find out how to re-authorize your OAuth tokens</a>.",
        "connector":
        {
            "service": "google_analytics",
            "type": "simple_rest",
            "format": "json",
            "props":
            {
                "endpoint_url": "https://www.googleapis.com/analytics/v3/management/accounts/~all/webproperties/~all/profiles?fields=items(id%2Cname%2Cpermissions%2CwebPropertyId%2CwebsiteUrl)",
                "method": "GET"
            }
        },
        "results": [
        {
            "propId": "ds.google_analytics.profileId",
            "propField": "options",
            "labels": "/items/name",
            "values": "/items/id"
        }]
    }]
}