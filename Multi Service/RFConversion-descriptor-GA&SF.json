{
    "name": "Conversion",
    "description": "Mashup your Salesforce and Google Analytics data to monitor metrics like: average revenue per buyer, how many leads visited your product page (you set this in Google Analytics), new and returning customers, and more.",
    "sampleFormulas": {
        "10842888": {
            "txt": "\"0.0013424371535922734\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 0.0013424371535922734
                }]
            }
        },
        "84234633-1": {
            "txt": "\"https://static.klipfolio.com/images/rand-fishkin-dashboard/conversion.png\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "https://static.klipfolio.com/images/rand-fishkin-dashboard/conversion.png"
                }]
            }
        },
        "c26ff93f-11": {
            "txt": "array(\"\",\"Product Page Visits\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": ""
                    }, {
                        "t": "l",
                        "v": "Product Page Visits"
                    }]
                }]
            }
        },
        "a1d06d34-27": {
            "txt": "array(\"Oct 15\",\"675\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "Oct 15"
                    }, {
                        "t": "l",
                        "v": "675"
                    }]
                }]
            }
        },
        "d7f8e45d-25": {
            "txt": "array(\"Nov 15\",\"569.700000000000045474735088646411895751953125\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "Nov 15"
                    }, {
                        "t": "l",
                        "v": "569.700000000000045474735088646411895751953125"
                    }]
                }]
            }
        },
        "cac88778-5": {
            "txt": "array(\"\",\"-0.1559999999999999442668041638171416707336902618408203125\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": ""
                    }, {
                        "t": "l",
                        "v": "-0.1559999999999999442668041638171416707336902618408203125"
                    }]
                }]
            }
        },
        "811fa73c-3": {
            "txt": "array(\"Dec 15\",\"161.5720000000000027284841053187847137451171875\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "Dec 15"
                    }, {
                        "t": "l",
                        "v": "161.5720000000000027284841053187847137451171875"
                    }]
                }]
            }
        },
        "29a32f38-1": {
            "txt": "array(\"\",\"-0.716391083026154174007160690962336957454681396484375\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": ""
                    }, {
                        "t": "l",
                        "v": "-0.716391083026154174007160690962336957454681396484375"
                    }]
                }]
            }
        },
        "21efd643": {
            "txt": "\"Total Revenue\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Total Revenue"
                }]
            }
        },
        "b38483e2": {
            "txt": "\"966814.3500\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "966814.3500"
                }]
            }
        },
        "59010ed9": {
            "txt": "\"68535\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 68535
                }]
            }
        },
        "a9b0baf4": {
            "txt": "\"-0.9291\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "-0.9291"
                }]
            }
        },
        "4dcf6703": {
            "txt": "\"10400\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 10400
                }]
            }
        },
        "d3f1c684": {
            "txt": "\"-0.8483\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "-0.8483"
                }]
            }
        },
        "2d6c4042": {
            "txt": "\"16380\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 16380
                }]
            }
        },
        "7ea86958": {
            "txt": "\"0.5750\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "0.5750"
                }]
            }
        },
        "90f21a0e": {
            "txt": "\"17160\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 17160
                }]
            }
        },
        "1b5feaaa": {
            "txt": "\"0.0476\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "0.0476"
                }]
            }
        },
        "7ee4e5ac": {
            "txt": "\"23563\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "23563"
                }]
            }
        },
        "7448854d": {
            "txt": "\"0.3731\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "0.3731"
                }]
            }
        },
        "10ca21e2-13": {
            "txt": "array(\"Jan 16\",\"101.5739999999999980673237587325274944305419921875\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "Jan 16"
                    }, {
                        "t": "l",
                        "v": "101.5739999999999980673237587325274944305419921875"
                    }]
                }]
            }
        },
        "46c785f5-7": {
            "txt": "array(\"\",\"-0.3713390934072735571902512674569152295589447021484375\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": ""
                    }, {
                        "t": "l",
                        "v": "-0.3713390934072735571902512674569152295589447021484375"
                    }]
                }]
            }
        },
        "57283933-15": {
            "txt": "array(\"Feb 16\",\"48.42989999999999639612724422477185726165771484375\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "Feb 16"
                    }, {
                        "t": "l",
                        "v": "48.42989999999999639612724422477185726165771484375"
                    }]
                }]
            }
        },
        "fa299382-35": {
            "txt": "array(\"\",\"-0.52320574162679422958177610780694521963596343994140625\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": ""
                    }, {
                        "t": "l",
                        "v": "-0.52320574162679422958177610780694521963596343994140625"
                    }]
                }]
            }
        },
        "d85a60be-17": {
            "txt": "array(\"Mar 16\",\"122.2650000000000005684341886080801486968994140625\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "Mar 16"
                    }, {
                        "t": "l",
                        "v": "122.2650000000000005684341886080801486968994140625"
                    }]
                }]
            }
        },
        "282591c8-37": {
            "txt": "array(\"\",\"1.5245767593986363497293723412440158426761627197265625\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": ""
                    }, {
                        "t": "l",
                        "v": "1.5245767593986363497293723412440158426761627197265625"
                    }]
                }]
            }
        },
        "8735d340": {
            "txt": "\"Completion Rate\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Completion Rate"
                }]
            }
        },
        "959595b8-33": {
            "txt": "\"0.002897069660964466\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 0.002897069660964466
                }]
            }
        },
        "682eee47-31": {
            "txt": "\"0.0008846960318873969\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 0.0008846960318873969
                }]
            }
        },
        "701fe2c1-29": {
            "txt": "\"-0.69462383186434240034401454977341927587985992431640625\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "-0.69462383186434240034401454977341927587985992431640625"
                }]
            }
        },
        "ffd1ebf0-13": {
            "txt": "\"0.00236913533661938\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 0.00236913533661938
                }]
            }
        },
        "2c0cc7f2-17": {
            "txt": "\"1.677908853694192625738423885195516049861907958984375\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "1.677908853694192625738423885195516049861907958984375"
                }]
            }
        },
        "16b1939f-15": {
            "txt": "\"-0.4333640915981380459243155200965702533721923828125\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "-0.4333640915981380459243155200965702533721923828125"
                }]
            }
        },
        "da958628": {
            "txt": "\"0.0006790144360157915\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 0.0006790144360157915
                }]
            }
        },
        "b85dfffd-39": {
            "txt": "\"-0.49419275665993478430237928478163667023181915283203125\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "-0.49419275665993478430237928478163667023181915283203125"
                }]
            }
        },
        "6fa3a387": {
            "txt": "\"0.0016273217981877253\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 0.0016273217981877253
                }]
            }
        },
        "ba1464f6-41": {
            "txt": "\"1.396593815790212911309708943008445203304290771484375\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "1.396593815790212911309708943008445203304290771484375"
                }]
            }
        },
        "00f27e83": {
            "txt": "array(\"New Customers\",\"Returning Customers\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "New Customers"
                    }, {
                        "t": "l",
                        "v": "Returning Customers"
                    }]
                }]
            }
        },
        "63f92c9f-15": {
            "txt": "array(\"858\",\"900\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": 858
                    }, {
                        "t": "l",
                        "v": 900
                    }]
                }]
            }
        },
        "a44dffed-37": {
            "txt": "array(\"1072\",\"1448\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": 1072
                    }, {
                        "t": "l",
                        "v": 1448
                    }]
                }]
            }
        },
        "d07e3627-35": {
            "txt": "array(\"0.24941724941724940922682662858278490602970123291015625\",\"0.60888888888888892392259322150493972003459930419921875\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "0.24941724941724940922682662858278490602970123291015625"
                    }, {
                        "t": "l",
                        "v": "0.60888888888888892392259322150493972003459930419921875"
                    }]
                }]
            }
        },
        "1d2ae254-23": {
            "txt": "array(\"0\",\"116\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": 0
                    }, {
                        "t": "l",
                        "v": 116
                    }]
                }]
            }
        },
        "793c3121-21": {
            "txt": "array(\"-1\",\"-0.9198895027624309772562583020771853625774383544921875\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "-1"
                    }, {
                        "t": "l",
                        "v": "-0.9198895027624309772562583020771853625774383544921875"
                    }]
                }]
            }
        },
        "222ff046": {
            "txt": "array(\"14\",\"0\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": 14
                    }, {
                        "t": "l",
                        "v": 0
                    }]
                }]
            }
        },
        "e050849b-19": {
            "txt": "array(\" \",\"-1\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": " "
                    }, {
                        "t": "l",
                        "v": "-1"
                    }]
                }]
            }
        },
        "ec384774": {
            "txt": "array(\"32\",\"48\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": 32
                    }, {
                        "t": "l",
                        "v": 48
                    }]
                }]
            }
        },
        "63e3b29e-43": {
            "txt": "array(\"1.2857142857142858094476878250134177505970001220703125\",\" \")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "1.2857142857142858094476878250134177505970001220703125"
                    }, {
                        "t": "l",
                        "v": " "
                    }]
                }]
            }
        },
        "af5342ad": {
            "txt": "array(\"11\",\"0\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": 11
                    }, {
                        "t": "l",
                        "v": 0
                    }]
                }]
            }
        },
        "90551669-45": {
            "txt": "array(\"-0.65625\",\"-1\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "-0.65625"
                    }, {
                        "t": "l",
                        "v": "-1"
                    }]
                }]
            }
        },
        "84a9dd38": {
            "txt": "\"Avg. Revenue/Buyer\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Avg. Revenue/Buyer"
                }]
            }
        },
        "64c50674-23": {
            "txt": "\"2814.2689055745163\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 2814.2689055745163
                }]
            }
        },
        "f29f8340-21": {
            "txt": "\"1176.5465634920633\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 1176.5465634920633
                }]
            }
        },
        "f0ef19a8-19": {
            "txt": "\"-0.58193527236805453473067473169066943228244781494140625\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "-0.58193527236805453473067473169066943228244781494140625"
                }]
            }
        },
        "f6414b2d-17": {
            "txt": "\"181.18448275862067\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 181.18448275862067
                }]
            }
        },
        "05a0f84f-15": {
            "txt": "\"-0.84600313461385334701247984412475489079952239990234375\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "-0.84600313461385334701247984412475489079952239990234375"
                }]
            }
        },
        "badc90f5": {
            "txt": "\"525.7142857142857\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 525.7142857142857
                }]
            }
        },
        "40920e45-13": {
            "txt": "\"1.9015414438920676953870270153856836259365081787109375\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "1.9015414438920676953870270153856836259365081787109375"
                }]
            }
        },
        "a57f15bc": {
            "txt": "\"104.65\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 104.65
                }]
            }
        },
        "ee28d625-51": {
            "txt": "\"-0.8009375000000000799360577730112709105014801025390625\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "-0.8009375000000000799360577730112709105014801025390625"
                }]
            }
        },
        "f40cc1ce": {
            "txt": "\"1103.9999999999998\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 1103.9999999999998
                }]
            }
        },
        "35e1d551-53": {
            "txt": "\"9.54945054945054749850896769203245639801025390625\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "9.54945054945054749850896769203245639801025390625"
                }]
            }
        },
        "8d48da61": {
            "txt": "array(\"Total Transaction\",\"Total Revenue\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "Total Transaction"
                    }, {
                        "t": "l",
                        "v": "Total Revenue"
                    }]
                }]
            }
        },
        "a4b720af-11": {
            "txt": "array(\"4793.2\",\"4947484.736\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": 4793.2
                    }, {
                        "t": "l",
                        "v": 4947484.736
                    }]
                }]
            }
        },
        "f1352db8-9": {
            "txt": "array(\"3716.7999999999997\",\"2964897.34\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": 3716.7999999999997
                    }, {
                        "t": "l",
                        "v": 2964897.34
                    }]
                }]
            }
        },
        "9b4599b7-7": {
            "txt": "array(\"-0.2245681381957773670166034207795746624469757080078125\",\"-0.400726328991750480046363236397155560553073883056640625\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "-0.2245681381957773670166034207795746624469757080078125"
                    }, {
                        "t": "l",
                        "v": "-0.400726328991750480046363236397155560553073883056640625"
                    }]
                }]
            }
        },
        "9618dd2a-5": {
            "txt": "array(\"46\",\"21017.399999999998\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": 46
                    }, {
                        "t": "l",
                        "v": 21017.399999999998
                    }]
                }]
            }
        },
        "fa59052a-3": {
            "txt": "array(\"-0.9876237623762376127700690631172619760036468505859375\",\"-0.99291125540285996020628545011277310550212860107421875\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "-0.9876237623762376127700690631172619760036468505859375"
                    }, {
                        "t": "l",
                        "v": "-0.99291125540285996020628545011277310550212860107421875"
                    }]
                }]
            }
        },
        "2ba70045": {
            "txt": "array(\"18.4\",\"7359.999999999999\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": 18.4
                    }, {
                        "t": "l",
                        "v": 7359.999999999999
                    }]
                }]
            }
        },
        "4d5cfe70-1": {
            "txt": "array(\"-0.59999999999999997779553950749686919152736663818359375\",\"-0.64981396366819865750841245244373567402362823486328125\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "-0.59999999999999997779553950749686919152736663818359375"
                    }, {
                        "t": "l",
                        "v": "-0.64981396366819865750841245244373567402362823486328125"
                    }]
                }]
            }
        },
        "a19bb23e": {
            "txt": "array(\"46\",\"8372\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": 46
                    }, {
                        "t": "l",
                        "v": 8372
                    }]
                }]
            }
        },
        "6ac7d312-59": {
            "txt": "array(\"1.5000000000000002220446049250313080847263336181640625\",\"0.1375000000000001498801083243961329571902751922607421875\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "1.5000000000000002220446049250313080847263336181640625"
                    }, {
                        "t": "l",
                        "v": "0.1375000000000001498801083243961329571902751922607421875"
                    }]
                }]
            }
        },
        "b0bd3b3a": {
            "txt": "array(\"9.2\",\"12143.999999999998\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": 9.2
                    }, {
                        "t": "l",
                        "v": 12143.999999999998
                    }]
                }]
            }
        },
        "87abe48b-61": {
            "txt": "array(\"-0.79999999999999993338661852249060757458209991455078125\",\"0.450549450549450336556134288912289775907993316650390625\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "-0.79999999999999993338661852249060757458209991455078125"
                    }, {
                        "t": "l",
                        "v": "0.450549450549450336556134288912289775907993316650390625"
                    }]
                }]
            }
        }
    },
    "datasources": {
        "googleAnalytics-01": {
            "service": "google_analytics",
            "libraryAlias": "GAPageSessionsbyPaths(Last6Months)",
            "name": "Google Analytics Page Sessions by Paths (Last 6 Months)",
            "description": "Retrieve the monthly number of sessions for visits to the page where conversion events happen on your website for the last 6 months. Originates from the Gallery.",
            "type": "google_analytics",
            "format": "csv",
            "refreshInterval": 14400,
            "props": {
                "endpoint_url": "https://www.googleapis.com/analytics/v3/data/ga?ids=ga:{{ds.google_analytics.profileId}}&dimensions=ga:yearMonth&metrics=ga:sessions&start-date={date.addMonths(-5).startOfMonth}&end-date={date.today}&filters=ga:pagePath=~{{ds.google_analytics.pagePath2}}*",
                "advancedQuery": "https://www.googleapis.com/analytics/v3/data/ga?ids=ga:{{ds.google_analytics.profileId}}&dimensions=ga:yearMonth&metrics=ga:sessions&start-date={date.addMonths(-5).startOfMonth}&end-date={date.today}&filters=ga:pagePath=~{{ds.google_analytics.pagePath2}}*",
                "max_pages": "10",
                "mode": "Advanced",
                "profile": "{{ds.google_analytics.profileId}}"
            }
        },
        "googleAnalytics-02": {
            "service": "google_analytics",
            "libraryAlias": "GAGoalConversion(Last6Months)",
            "name": "Google Analytics Goal Conversion (Last 6 Months)",
            "description": "Retrieve the monthly number of users, sessions and other conversion details for visits to your website for the last 6 months. Originates from the Gallery.",
            "type": "google_analytics",
            "format": "csv",
            "refreshInterval": 14400,
            "props": {
                "endpoint_url": "https://www.googleapis.com/analytics/v3/data/ga?ids=ga:{{ds.google_analytics.profileId}}&metrics=ga:users,ga:sessions,ga:bounceRate,ga:goal12Starts,ga:goalCompletionsAll,ga:goalConversionRateAll,ga:avgTimeOnPage&dimensions=ga:yearMonth&max-results=10000&start-date={date.addMonths(-5).startOfMonth}&end-date={date.today}",
                "advancedQuery": "https://www.googleapis.com/analytics/v3/data/ga?ids=ga:{{ds.google_analytics.profileId}}&metrics=ga:users,ga:sessions,ga:bounceRate,ga:goal12Starts,ga:goalCompletionsAll,ga:goalConversionRateAll,ga:avgTimeOnPage&dimensions=ga:yearMonth&max-results=10000&start-date={date.addMonths(-5).startOfMonth}&end-date={date.today}",
                "max_pages": "10",
                "mode": "Advanced",
                "profile": "{{ds.google_analytics.profileId}}"
            }
        },
        "salesforce-03": {
            "service": "salesforce",
            "type": "salesforce",
            "format": "json",
            "name": "Salesforce New Customers (Column 1)",
            "libraryAlias": "SFNewCustomers(Column1)",
            "refreshInterval": 14400,
            "description": "Retrieve the number of new customers you had 5 months ago, based on your closed and won Opportunities. Originates from the Gallery.",
            "props": {
                "SOQLQuery": "select count(id) id_count, max(closedate) max_date from opportunity where isclosed=true and iswon=true group by accountid having ( max(closedate) >= last_n_months:5 and max(closedate) < last_n_months:4) and count(id) = 1 order by max(closedate) desc",
                "endpoint_url": "{{auth.salesforce.instanceName}}/services/data/v32.0/query/?q=select+count%28id%29+id_count%2C+max%28closedate%29+max_date+from+opportunity%0D%0Awhere+isclosed%3Dtrue+and+iswon%3Dtrue%0D%0Agroup++by+accountid%0D%0Ahaving+%28+max%28closedate%29+%3E%3D+last_n_months%3A5+and+max%28closedate%29+%3C+last_n_months%3A4%29+and+count%28id%29+%3D+1%0D%0Aorder+by+max%28closedate%29+desc",
                "instance": "{{auth.salesforce.instanceName}}"
            }
        },
        "salesforce-04": {
            "service": "salesforce",
            "type": "salesforce",
            "format": "json",
            "name": "Salesforce New Customers (Column 2)",
            "libraryAlias": "SFNewCustomers(Column2)",
            "refreshInterval": 14400,
            "description": "Retrieve the number of new customers you had 4 months ago, based on your closed and won Opportunities. Originates from the Gallery.",
            "props": {
                "SOQLQuery": "select count(id) id_count, max(closedate) max_date from opportunity where isclosed=true and iswon=true group by accountid having ( max(closedate) >= last_n_months:4 and max(closedate) < last_n_months:3) and count(id) = 1 order by max(closedate) desc",
                "endpoint_url": "{{auth.salesforce.instanceName}}/services/data/v32.0/query/?q=select+count%28id%29+id_count%2C+max%28closedate%29+max_date+from+opportunity%0D%0Awhere+isclosed%3Dtrue+and+iswon%3Dtrue%0D%0Agroup++by+accountid%0D%0Ahaving+%28+max%28closedate%29+%3E%3D+last_n_months%3A4+and+max%28closedate%29+%3C+last_n_months%3A3%29+and+count%28id%29+%3D+1%0D%0Aorder+by+max%28closedate%29+desc",
                "instance": "{{auth.salesforce.instanceName}}"
            }
        },
        "salesforce-05": {
            "service": "salesforce",
            "type": "salesforce",
            "format": "json",
            "name": "Salesforce New Customers (Column 3)",
            "libraryAlias": "SFNewCustomers(Column3)",
            "refreshInterval": 14400,
            "description": "Retrieve the number of new customers you had 3 months ago, based on your closed and won Opportunities. Originates from the Gallery.",
            "props": {
                "SOQLQuery": "select count(id) id_count, max(closedate) max_date from opportunity where isclosed=true and iswon=true group by accountid having ( max(closedate) >= last_n_months:3 and max(closedate) < last_n_months:2) and count(id) = 1 order by max(closedate) desc",
                "endpoint_url": "{{auth.salesforce.instanceName}}/services/data/v32.0/query/?q=select+count%28id%29+id_count%2C+max%28closedate%29+max_date+from+opportunity%0D%0Awhere+isclosed%3Dtrue+and+iswon%3Dtrue%0D%0Agroup++by+accountid%0D%0Ahaving+%28+max%28closedate%29+%3E%3D+last_n_months%3A3+and+max%28closedate%29+%3C+last_n_months%3A2%29+and+count%28id%29+%3D+1%0D%0Aorder+by+max%28closedate%29+desc",
                "instance": "{{auth.salesforce.instanceName}}"
            }
        },
        "salesforce-06": {
            "service": "salesforce",
            "type": "salesforce",
            "format": "json",
            "name": "Salesforce New Customers (Column 4)",
            "libraryAlias": "SFNewCustomers(Column4)",
            "refreshInterval": 14400,
            "description": "Retrieve the number of new customers you had 2 months ago, based on your closed and won Opportunities. Originates from the Gallery.",
            "props": {
                "SOQLQuery": "select count(id) id_count, max(closedate) max_date from opportunity where isclosed=true and iswon=true group by accountid having ( max(closedate) >= last_n_months:2 and max(closedate) < last_n_months:1) and count(id) = 1 order by max(closedate) desc",
                "endpoint_url": "{{auth.salesforce.instanceName}}/services/data/v32.0/query/?q=select+count%28id%29+id_count%2C+max%28closedate%29+max_date+from+opportunity%0D%0Awhere+isclosed%3Dtrue+and+iswon%3Dtrue%0D%0Agroup++by+accountid%0D%0Ahaving+%28+max%28closedate%29+%3E%3D+last_n_months%3A2+and+max%28closedate%29+%3C+last_n_months%3A1%29+and+count%28id%29+%3D+1%0D%0Aorder+by+max%28closedate%29+desc",
                "instance": "{{auth.salesforce.instanceName}}"
            }
        },
        "salesforce-07": {
            "service": "salesforce",
            "type": "salesforce",
            "format": "json",
            "name": "Salesforce New Customers (Column 5)",
            "libraryAlias": "SFNewCustomers(Column5)",
            "refreshInterval": 14400,
            "description": "Retrieve the number of new customers you had last month, based on your closed and won Opportunities. Originates from the Gallery.",
            "props": {
                "SOQLQuery": "select count(id) id_count, max(closedate) max_date from opportunity where isclosed=true and iswon=true group by accountid having ( max(closedate) >= last_n_months:1 and max(closedate) < this_month) and count(id) = 1 order by max(closedate) desc",
                "endpoint_url": "{{auth.salesforce.instanceName}}/services/data/v32.0/query/?q=select+count%28id%29+id_count%2C+max%28closedate%29+max_date+from+opportunity%0D%0Awhere+isclosed%3Dtrue+and+iswon%3Dtrue%0D%0Agroup++by+accountid%0D%0Ahaving+%28+max%28closedate%29+%3E%3D+last_n_months%3A1+and+max%28closedate%29+%3C+this_month%29+and+count%28id%29+%3D+1%0D%0Aorder+by+max%28closedate%29+desc",
                "instance": "{{auth.salesforce.instanceName}}"
            }
        },
        "salesforce-08": {
            "service": "salesforce",
            "type": "salesforce",
            "format": "json",
            "name": "Salesforce New Customers (Column 6)",
            "libraryAlias": "SFNewCustomers(Column6)",
            "refreshInterval": 14400,
            "description": "Retrieve the number of new customers you have this month, based on your closed and won Opportunities. Originates from the Gallery.",
            "props": {
                "SOQLQuery": "select count(id) id_count, max(closedate) max_date from opportunity where isclosed=true and iswon=true group by accountid having max(closedate) = this_month and count(id) = 1 order by max(closedate) desc",
                "endpoint_url": "{{auth.salesforce.instanceName}}/services/data/v32.0/query/?q=select+count%28id%29+id_count%2C+max%28closedate%29+max_date+from+opportunity%0D%0Awhere+isclosed%3Dtrue+and+iswon%3Dtrue%0D%0Agroup++by+accountid%0D%0Ahaving+max%28closedate%29+%3D+this_month+and+count%28id%29+%3D+1%0D%0Aorder+by+max%28closedate%29+desc",
                "instance": "{{auth.salesforce.instanceName}}"
            }
        },
        "salesforce-09": {
            "service": "salesforce",
            "type": "salesforce",
            "format": "json",
            "name": "Salesforce Returning Customers (Column 1)",
            "libraryAlias": "SFReturningCustomers(Column1)",
            "refreshInterval": 14400,
            "description": "Retrieve the number of returning customers you had 5 months ago, based on your closed and won Opportunities. Originates from the Gallery.",
            "props": {
                "SOQLQuery": "select count(id) id_count, max(closedate) max_date from opportunity where isclosed=true and iswon=true group by accountid having ( max(closedate) >= last_n_months:5 and max(closedate) < last_n_months:4) and count(id) > 1 order by max(closedate) desc",
                "endpoint_url": "{{auth.salesforce.instanceName}}/services/data/v32.0/query/?q=select+count%28id%29+id_count%2C+max%28closedate%29+max_date+from+opportunity%0D%0Awhere+isclosed%3Dtrue+and+iswon%3Dtrue%0D%0Agroup++by+accountid%0D%0Ahaving+%28+max%28closedate%29+%3E%3D+last_n_months%3A5+and+max%28closedate%29+%3C+last_n_months%3A4%29+and+count%28id%29+%3E+1%0D%0Aorder+by+max%28closedate%29+desc",
                "instance": "{{auth.salesforce.instanceName}}"
            }
        },
        "salesforce-10": {
            "service": "salesforce",
            "type": "salesforce",
            "format": "json",
            "name": "Salesforce Returning Customers (Column 2)",
            "libraryAlias": "SFReturningCustomers(Column2)",
            "refreshInterval": 14400,
            "description": "Retrieve the number of returning customers you had 4 months ago, based on your closed and won Opportunities. Originates from the Gallery.",
            "props": {
                "SOQLQuery": "select count(id) id_count, max(closedate) max_date from opportunity where isclosed=true and iswon=true group by accountid having ( max(closedate) >= last_n_months:4 and max(closedate) < last_n_months:3) and count(id) > 1 order by max(closedate) desc",
                "endpoint_url": "{{auth.salesforce.instanceName}}/services/data/v32.0/query/?q=select+count%28id%29+id_count%2C+max%28closedate%29+max_date+from+opportunity%0D%0Awhere+isclosed%3Dtrue+and+iswon%3Dtrue%0D%0Agroup++by+accountid%0D%0Ahaving+%28+max%28closedate%29+%3E%3D+last_n_months%3A4+and+max%28closedate%29+%3C+last_n_months%3A3%29+and+count%28id%29+%3E+1%0D%0Aorder+by+max%28closedate%29+desc",
                "instance": "{{auth.salesforce.instanceName}}"
            }
        },
        "salesforce-11": {
            "service": "salesforce",
            "type": "salesforce",
            "format": "json",
            "name": "Salesforce Returning Customers (Column 3)",
            "libraryAlias": "SFReturningCustomers(Column3)",
            "refreshInterval": 14400,
            "description": "Retrieve the number of returning customers you had 3 months ago, based on your closed and won Opportunities. Originates from the Gallery.",
            "props": {
                "SOQLQuery": "select count(id) id_count, max(closedate) max_date from opportunity where isclosed=true and iswon=true group by accountid having ( max(closedate) >= last_n_months:3 and max(closedate) < last_n_months:2) and count(id) > 1 order by max(closedate) desc",
                "endpoint_url": "{{auth.salesforce.instanceName}}/services/data/v32.0/query/?q=select+count%28id%29+id_count%2C+max%28closedate%29+max_date+from+opportunity%0D%0Awhere+isclosed%3Dtrue+and+iswon%3Dtrue%0D%0Agroup++by+accountid%0D%0Ahaving+%28+max%28closedate%29+%3E%3D+last_n_months%3A3+and+max%28closedate%29+%3C+last_n_months%3A2%29+and+count%28id%29+%3E+1%0D%0Aorder+by+max%28closedate%29+desc",
                "instance": "{{auth.salesforce.instanceName}}"
            }
        },
        "salesforce-12": {
            "service": "salesforce",
            "type": "salesforce",
            "format": "json",
            "name": "Salesforce Returning Customers (Column 4)",
            "libraryAlias": "SFReturningCustomers(Column4)",
            "refreshInterval": 14400,
            "description": "Retrieve the number of returning customers you had 2 months ago, based on your closed and won Opportunities. Originates from the Gallery.",
            "props": {
                "SOQLQuery": "select count(id) id_count, max(closedate) max_date from opportunity where isclosed=true and iswon=true group by accountid having ( max(closedate) >= last_n_months:2 and max(closedate) < last_n_months:1) and count(id) > 1 order by max(closedate) desc",
                "endpoint_url": "{{auth.salesforce.instanceName}}/services/data/v32.0/query/?q=select+count%28id%29+id_count%2C+max%28closedate%29+max_date+from+opportunity%0D%0Awhere+isclosed%3Dtrue+and+iswon%3Dtrue%0D%0Agroup++by+accountid%0D%0Ahaving+%28+max%28closedate%29+%3E%3D+last_n_months%3A2+and+max%28closedate%29+%3C+last_n_months%3A1%29+and+count%28id%29+%3E+1%0D%0Aorder+by+max%28closedate%29+desc",
                "instance": "{{auth.salesforce.instanceName}}"
            }
        },
        "salesforce-13": {
            "service": "salesforce",
            "type": "salesforce",
            "format": "json",
            "name": "Salesforce Returning Customers (Column 5)",
            "libraryAlias": "SFReturningCustomers(Column5)",
            "refreshInterval": 14400,
            "description": "Retrieve the number of returning customers you had last month, based on your closed and won Opportunities. Originates from the Gallery.",
            "props": {
                "SOQLQuery": "select count(id) id_count, max(closedate) max_date from opportunity where isclosed=true and iswon=true group by accountid having ( max(closedate) >= last_n_months:1 and max(closedate) < this_month) and count(id) > 1 order by max(closedate) desc",
                "endpoint_url": "{{auth.salesforce.instanceName}}/services/data/v32.0/query/?q=select+count%28id%29+id_count%2C+max%28closedate%29+max_date+from+opportunity%0D%0Awhere+isclosed%3Dtrue+and+iswon%3Dtrue%0D%0Agroup++by+accountid%0D%0Ahaving+%28+max%28closedate%29+%3E%3D+last_n_months%3A1+and+max%28closedate%29+%3C+this_month%29+and+count%28id%29+%3E+1%0D%0Aorder+by+max%28closedate%29+desc",
                "instance": "{{auth.salesforce.instanceName}}"
            }
        },
        "salesforce-14": {
            "service": "salesforce",
            "type": "salesforce",
            "format": "json",
            "name": "Salesforce Returning Customers (Column 6)",
            "libraryAlias": "SFReturningCustomers(Column6)",
            "refreshInterval": 14400,
            "description": "Retrieve the number of returning customers you have this month, based on your closed and won Opportunities. Originates from the Gallery.",
            "props": {
                "SOQLQuery": "select count(id) id_count, max(closedate) max_date from opportunity where isclosed=true and iswon=true group by accountid having max(closedate) = this_month and count(id) > 1 order by max(closedate) desc",
                "endpoint_url": "{{auth.salesforce.instanceName}}/services/data/v32.0/query/?q=select+count%28id%29+id_count%2C+max%28closedate%29+max_date+from+opportunity%0D%0Awhere+isclosed%3Dtrue+and+iswon%3Dtrue%0D%0Agroup++by+accountid%0D%0Ahaving+max%28closedate%29+%3D+this_month+and+count%28id%29+%3E+1%0D%0Aorder+by+max%28closedate%29+desc",
                "instance": "{{auth.salesforce.instanceName}}"
            }
        },
        "salesforce-15": {
            "service": "salesforce",
            "type": "salesforce",
            "format": "json",
            "name": "Salesforce Total Transactions (Last 6 Months)",
            "libraryAlias": "SFTotalTransactions(Last6Months)",
            "refreshInterval": 14400,
            "description": "Retrieve the monthly number of transactions for the last 6 months, based on your closed and won Opportunities. Originates from the Gallery.",
            "props": {
                "SOQLQuery": "select count(Id) transaction_count, calendar_month(closeDate) month, calendar_year(closeDate) year from opportunity where isWon =true and isClosed = true and (CloseDate = last_n_months:5 or closeDate = this_month) group by calendar_month(closeDate), calendar_year(closeDate) order by calendar_year(closeDate) asc, calendar_month(closeDate) asc",
                "endpoint_url": "{{auth.salesforce.instanceName}}/services/data/v32.0/query/?q=select+count%28Id%29+transaction_count%2C++calendar_month%28closeDate%29+month%2C+calendar_year%28closeDate%29+year+from+opportunity%0D%0A+where+isWon+%3Dtrue+and+isClosed+%3D+true+and+%28CloseDate+%3D+last_n_months%3A5+or+closeDate+%3D+this_month%29%0D%0Agroup+by+calendar_month%28closeDate%29%2C+calendar_year%28closeDate%29%0D%0Aorder+by+calendar_year%28closeDate%29+asc%2C+calendar_month%28closeDate%29+asc",
                "instance": "{{auth.salesforce.instanceName}}"
            }
        },
        "salesforce-16": {
            "service": "salesforce",
            "type": "salesforce",
            "format": "json",
            "name": "Salesforce Total Revenue (Last 6 Months)",
            "libraryAlias": "SFTotalRevenue(Last6Months)",
            "refreshInterval": 14400,
            "description": "Retrieve the monthly value (total amount) of transactions for the last 6 months, based on your closed and won Opportunities. Originates from the Gallery.",
            "props": {
                "SOQLQuery": "SELECT sum(amount) total_amount, calendar_month(closeDate) month, calendar_year(closeDate) year from opportunity where isWon =true and isClosed = true and (CloseDate = last_n_months:5 or closeDate = this_month) group by calendar_month(closeDate), calendar_year(closeDate) order by calendar_year(closeDate) asc, calendar_month(closeDate) asc",
                "endpoint_url": "{{auth.salesforce.instanceName}}/services/data/v32.0/query/?q=SELECT+sum%28amount%29+total_amount%2C++calendar_month%28closeDate%29+month%2C+calendar_year%28closeDate%29+year+from+opportunity%0D%0A+where+isWon+%3Dtrue+and+isClosed+%3D+true+and+%28CloseDate+%3D+last_n_months%3A5+or+closeDate+%3D+this_month%29%0D%0Agroup+by+calendar_month%28closeDate%29%2C+calendar_year%28closeDate%29%0D%0Aorder+by+calendar_year%28closeDate%29+asc%2C+calendar_month%28closeDate%29+asc%0D%0A%0D%0A",
                "instance": "{{auth.salesforce.instanceName}}"
            }
        }

    },
    "dsMappings": {
        "googleAnalytics-01": "cd076ffd6401cf6191ecKavyaMallur9",
        "googleAnalytics-02": "0c067fcd0983a2640d99KavyaMallur9",
        "salesforce-03": "231c3238e51b485638b2KavyaMallur9",
        "salesforce-04": "788118e48246a53982d4KavyaMallur9",
        "salesforce-05": "6979f35ae72488193b8bKavyaMallur9",
        "salesforce-06": "9417906b1d56264aadb4KavyaMallur9",
        "salesforce-07": "ba0c637f1461b47d9263KavyaMallur9",
        "salesforce-08": "1f02f4e202f5226daa3eKavyaMallur9",
        "salesforce-09": "04fbc1e96ca809695f0dKavyaMallur9",
        "salesforce-10": "c8bc7e426554271e197cKavyaMallur9",
        "salesforce-11": "babb3e234f9888df7be1KavyaMallur9",
        "salesforce-12": "23f276043739bfc55c5bKavyaMallur9",
        "salesforce-13": "b478bef61c9977036174KavyaMallur9",
        "salesforce-14": "3fb103cc0387913a1fa7KavyaMallur9",
        "salesforce-15": "4d60d939df1b2a643f6eKavyaMallur9",
        "salesforce-16": "e2b7c24239a362fe5761KavyaMallur9"
    },
    "services": [{
        "service": "google_analytics"
    }, {
        "service": "salesforce"
    }],
    "datasourceConfigModel": [{
        "type": "select",
        "id": "ds.google_analytics.profileId",
        "label": "Analytics Account",
        "description": "Select a Google Analytics account from the drop-down list.",
        "isRequired": true
    }, {
        "type": "text",
        "id": "ds.google_analytics.pagePath2",
        "label": "Page Path",
        "ghostText": "/product/",
        "description": "Enter the web page path where conversion events happen on your site.",
        "isRequired": true
    }],
    "queries": [{
        "errorMessage": "Here are two suggestions:<br><br>1. Make sure you have at least <i>Read and Analyze</i> access to your Google Analytics account, and proper Salesforce permissions. To learn more, see <a href='https://support.klipfolio.com/hc/en-us/articles/218074587'>Problems adding Rand Fishkin Klips</a>. <br><br>2. From time to time, your Google and Salesforce tokens will expire. This token allows you to safely bring your data into Klipfolio. <a href='https://support.klipfolio.com/hc/en-us/articles/215548958-OAuth-token-expired-for-connected-accounts' target='_blank'>Find out how to re-authorize your OAuth tokens</a>.",
        "connector": {
            "service": "google_analytics",
            "type": "simple_rest",
            "format": "json",
            "props": {
                "endpoint_url": "https://www.googleapis.com/analytics/v3/management/accounts/~all/webproperties/~all/profiles?fields=items(id%2Cname%2Cpermissions%2CwebPropertyId%2CwebsiteUrl)",
                "method": "GET"
            }
        },
        "results": [{
            "propId": "ds.google_analytics.profileId",
            "propField": "options",
            "labels": "/items/name",
            "values": "/items/id"
        }]
    }]
}
