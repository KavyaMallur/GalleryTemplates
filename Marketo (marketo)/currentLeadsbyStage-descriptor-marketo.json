{
    "name": "Marketo Current Leads by Stage",
    "description": "Never miss a lead! Drill down into contacts at each stage of lead qualification using the Klip's drop down menu. Originates from the Gallery.",
    "sampleFormulas": {
        "70a1c372-20": {
            "txt": "array(\"MCL\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "MCL"
                    }]
                }]
            }
        },
        "abf1cfdb-21": {
            "txt": "array(\"Marketing Captured Lead\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "Marketing Captured Lead"
                    }]
                }]
            }
        },
        "57a05c16": {
            "txt": "array(\"John Deigo|https://app-ab04.marketo.com/leadDatabase/loadLeadDetail?leadId=90952\",\"Vikram Krupalini|https://app-ab04.marketo.com/leadDatabase/loadLeadDetail?leadId=92168\",\"Arya Pruthal|https://app-ab04.marketo.com/leadDatabase/loadLeadDetail?leadId=2867065\",\"Ketie Holmes|https://app-ab04.marketo.com/leadDatabase/loadLeadDetail?leadId=3384815\",\"Ruzbhan Abraham|https://app-ab04.marketo.com/leadDatabase/loadLeadDetail?leadId=4113224\",\"Tedd Regina|https://app-ab04.marketo.com/leadDatabase/loadLeadDetail?leadId=4525107\",\"Browny ruby|https://app-ab04.marketo.com/leadDatabase/loadLeadDetail?leadId=4728950\",\"Mori Barbara|https://app-ab04.marketo.com/leadDatabase/loadLeadDetail?leadId=4839983\",\"Suri Vijay|https://app-ab04.marketo.com/leadDatabase/loadLeadDetail?leadId=4882922\",\"Shameena Richuana|https://app-ab04.marketo.com/leadDatabase/loadLeadDetail?leadId=4885197\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "John Deigo|https://app-ab04.marketo.com/leadDatabase/loadLeadDetail?leadId=90952"
                    }, {
                        "t": "l",
                        "v": "Vikram Krupalini|https://app-ab04.marketo.com/leadDatabase/loadLeadDetail?leadId=92168"
                    }, {
                        "t": "l",
                        "v": "Arya Pruthal|https://app-ab04.marketo.com/leadDatabase/loadLeadDetail?leadId=2867065"
                    }, {
                        "t": "l",
                        "v": "Ketie Holmes|https://app-ab04.marketo.com/leadDatabase/loadLeadDetail?leadId=3384815"
                    }, {
                        "t": "l",
                        "v": "Ruzbhan Abraham|https://app-ab04.marketo.com/leadDatabase/loadLeadDetail?leadId=4113224"
                    }, {
                        "t": "l",
                        "v": "Tedd Regina|https://app-ab04.marketo.com/leadDatabase/loadLeadDetail?leadId=4525107"
                    }, {
                        "t": "l",
                        "v": "Browny ruby|https://app-ab04.marketo.com/leadDatabase/loadLeadDetail?leadId=4728950"
                    }, {
                        "t": "l",
                        "v": "Mori Barbara|https://app-ab04.marketo.com/leadDatabase/loadLeadDetail?leadId=4839983"
                    }, {
                        "t": "l",
                        "v": "Suri Vijay|https://app-ab04.marketo.com/leadDatabase/loadLeadDetail?leadId=4882922"
                    }, {
                        "t": "l",
                        "v": "Shameena Richuana|https://app-ab04.marketo.com/leadDatabase/loadLeadDetail?leadId=4885197"
                    }]
                }]
            }
        },
        "808b1ba9": {
            "txt": "array(\"jdeigo@speaktruth.nl\",\"vkrupalini@techno.com\",\"arya.pru@hotelsacme.com\",\"holmesketie@vbhavana.au\",\"rabraham@dosa4u.com\",\"tedd.regina@brundhavanam.com\",\"bruby@amingos.com\",\"mori.barbara@doperators.org\",\"surivijay@yahoo.com\",\"shameenar@aklips.no\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "jdeigo@speaktruth.nl"
                    }, {
                        "t": "l",
                        "v": "vkrupalini@techno.com"
                    }, {
                        "t": "l",
                        "v": "arya.pru@hotelsacme.com"
                    }, {
                        "t": "l",
                        "v": "holmesketie@vbhavana.au"
                    }, {
                        "t": "l",
                        "v": "rabraham@dosa4u.com"
                    }, {
                        "t": "l",
                        "v": "tedd.regina@brundhavanam.com"
                    }, {
                        "t": "l",
                        "v": "bruby@amingos.com"
                    }, {
                        "t": "l",
                        "v": "mori.barbara@doperators.org"
                    }, {
                        "t": "l",
                        "v": "surivijay@yahoo.com"
                    }, {
                        "t": "l",
                        "v": "shameenar@aklips.no"
                    }]
                }]
            }
        },
        "f40e02fe": {
            "txt": "array(\"Netherlands\",\"India\",\"Maldives\",\"Australia\",\"Canada\",\"United States\",\"United States\",\"United States\",\"India\",\"Norway\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "Netherlands"
                    }, {
                        "t": "l",
                        "v": "India"
                    }, {
                        "t": "l",
                        "v": "Maldives"
                    }, {
                        "t": "l",
                        "v": "Australia"
                    }, {
                        "t": "l",
                        "v": "Canada"
                    }, {
                        "t": "l",
                        "v": "United States"
                    }, {
                        "t": "l",
                        "v": "United States"
                    }, {
                        "t": "l",
                        "v": "United States"
                    }, {
                        "t": "l",
                        "v": "India"
                    }, {
                        "t": "l",
                        "v": "Norway"
                    }]
                }]
            }
        },
        "77ace482": {
            "txt": "array(\"N/A\",\"Webinar\",\"Trial\",\"Trial\",\"Content Download\",\"Trial\",\"Trial\",\"Webinar\",\"Trial\",\"Content Download\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "N/A"
                    }, {
                        "t": "l",
                        "v": "Webinar"
                    }, {
                        "t": "l",
                        "v": "Trial"
                    }, {
                        "t": "l",
                        "v": "Trial"
                    }, {
                        "t": "l",
                        "v": "Content Download"
                    }, {
                        "t": "l",
                        "v": "Trial"
                    }, {
                        "t": "l",
                        "v": "Trial"
                    }, {
                        "t": "l",
                        "v": "Webinar"
                    }, {
                        "t": "l",
                        "v": "Trial"
                    }, {
                        "t": "l",
                        "v": "Content Download"
                    }]
                }]
            }
        },
        "bb5368d9": {
            "txt": "array(\"Speak Truth\",\"TechnoTech\",\"Acme Hotels\",\"Vidyarthi Bhavana\",\"Dosas at your door\",\"Brundhavanam\",\"Amingoss\",\"Dallas Operators\",\"Sa Re Ga\",\"Atlas Klips\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "Speak Truth"
                    }, {
                        "t": "l",
                        "v": "TechnoTech"
                    }, {
                        "t": "l",
                        "v": "Acme Hotels"
                    }, {
                        "t": "l",
                        "v": "Vidyarthi Bhavana"
                    }, {
                        "t": "l",
                        "v": "Dosas at your door"
                    }, {
                        "t": "l",
                        "v": "Brundhavanam"
                    }, {
                        "t": "l",
                        "v": "Amingoss"
                    }, {
                        "t": "l",
                        "v": "Dallas Operators"
                    }, {
                        "t": "l",
                        "v": "Sa Re Ga"
                    }, {
                        "t": "l",
                        "v": "Atlas Klips"
                    }]
                }]
            }
        },
        "98c811ba": {
            "txt": "array(\"205\",\"210\",\"230\",\"355\",\"195\",\"285\",\"390\",\"250\",\"230\",\"185\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "205"
                    }, {
                        "t": "l",
                        "v": "210"
                    }, {
                        "t": "l",
                        "v": "230"
                    }, {
                        "t": "l",
                        "v": "355"
                    }, {
                        "t": "l",
                        "v": "195"
                    }, {
                        "t": "l",
                        "v": "285"
                    }, {
                        "t": "l",
                        "v": "390"
                    }, {
                        "t": "l",
                        "v": "250"
                    }, {
                        "t": "l",
                        "v": "230"
                    }, {
                        "t": "l",
                        "v": "185"
                    }]
                }]
            }
        },
        "0f97aa43": {
            "txt": "array(\"5\",\"75\",\"170\",\"145\",\"195\",\"185\",\"185\",\"60\",\"-50\",\"185\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "5"
                    }, {
                        "t": "l",
                        "v": "75"
                    }, {
                        "t": "l",
                        "v": "170"
                    }, {
                        "t": "l",
                        "v": "145"
                    }, {
                        "t": "l",
                        "v": "195"
                    }, {
                        "t": "l",
                        "v": "185"
                    }, {
                        "t": "l",
                        "v": "185"
                    }, {
                        "t": "l",
                        "v": "60"
                    }, {
                        "t": "l",
                        "v": "-50"
                    }, {
                        "t": "l",
                        "v": "185"
                    }]
                }]
            }
        },
        "e1869191": {
            "txt": "array(\"200\",\"135\",\"60\",\"210\",\"0\",\"100\",\"205\",\"190\",\"280\",\"0\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "200"
                    }, {
                        "t": "l",
                        "v": "135"
                    }, {
                        "t": "l",
                        "v": "60"
                    }, {
                        "t": "l",
                        "v": "210"
                    }, {
                        "t": "l",
                        "v": "0"
                    }, {
                        "t": "l",
                        "v": "100"
                    }, {
                        "t": "l",
                        "v": "205"
                    }, {
                        "t": "l",
                        "v": "190"
                    }, {
                        "t": "l",
                        "v": "280"
                    }, {
                        "t": "l",
                        "v": "0"
                    }]
                }]
            }
        }
    },
    "datasources": {
        "marketo-01": {
            "service": "marketo",
            "type": "marketo",
            "libraryAlias": "MarketoMCL(Today)",
            "name": "Marketo MCL (Today)",
            "description": "Today's Marketing captured leads from Marketo.",
            "format": "json",
            "refreshInterval": 14400,
            "props": {
                "endpoint_url": "{{auth.marketo.identityURL}}/rest/v1/list/{{ds.marketo.MCLID}}/leads.json?fields=Lifecycle_Status__c,firstName,lastName,phone,email,company,leadScore,demographicScore,behaviorScore,inferredCountry,leadSource,behaviorScore,demographicScore",
                "identity_url": "{{auth.marketo.identityURL}}/identity",
                "oauth_client_id": "{{auth.marketo.clientID}}",
                "oauth_user_secret": "{{auth.marketo.clientSecret}}",
                "oauth_provider_id": "marketo",
                "prop:LeadsTarget": 200,
                "method": "get"
            }
        },
        "marketo-02": {
            "service": "marketo",
            "type": "marketo",
            "libraryAlias": "MarketoMQL(Today)",
            "name": "Marketo MQL (Today)",
            "description": "Today's Marketing qualified leads from Marketo. Originates from Gallery.",
            "format": "json",
            "refreshInterval": 14400,
            "props": {
                "endpoint_url": "{{auth.marketo.identityURL}}/rest/v1/list/{{ds.marketo.MQLID}}/leads.json?fields=Lifecycle_Status__c,firstName,lastName,phone,email,company,leadScore,demographicScore,behaviorScore,inferredCountry,leadSource,behaviorScore,demographicScore",
                "identity_url": "{{auth.marketo.identityURL}}/identity",
                "oauth_client_id": "{{auth.marketo.clientID}}",
                "oauth_user_secret": "{{auth.marketo.clientSecret}}",
                "oauth_provider_id": "marketo",
                "prop:LeadsTarget": 200,
                "method": "get"
            }
        },
        "marketo-03": {
            "service": "marketo",
            "type": "marketo",
            "libraryAlias": "MarketoSAL(Today)",
            "name": "Marketo SAL (Today)",
            "description": "Today's Sales Accepted Leads from Marketo. Originates from Gallery.",
            "format": "json",
            "refreshInterval": 14400,
            "props": {
                "endpoint_url": "{{auth.marketo.identityURL}}/rest/v1/list/{{ds.marketo.SALID}}/leads.json?fields=Lifecycle_Status__c,firstName,lastName,phone,email,company,leadScore,demographicScore,behaviorScore,inferredCountry,leadSource,behaviorScore,demographicScore",
                "identity_url": "{{auth.marketo.identityURL}}/identity",
                "oauth_client_id": "{{auth.marketo.clientID}}",
                "oauth_user_secret": "{{auth.marketo.clientSecret}}",
                "oauth_provider_id": "marketo",
                "prop:LeadsTarget": 200,
                "method": "get"
            }
        },
        "marketo-04": {
            "service": "marketo",
            "type": "marketo",
            "libraryAlias": "MarketoSQL(Today)",
            "name": "Marketo SQL (Today)",
            "description": "Today's Sales Qualified Leads from Marketo. Originates from Gallery.",
            "format": "json",
            "refreshInterval": 14400,
            "props": {
                "endpoint_url": "{{auth.marketo.identityURL}}/rest/v1/list/{{ds.marketo.SQLID}}/leads.json?fields=Lifecycle_Status__c,firstName,lastName,phone,email,company,leadScore,demographicScore,behaviorScore,inferredCountry,leadSource,behaviorScore,demographicScore",
                "identity_url": "{{auth.marketo.identityURL}}/identity",
                "oauth_client_id": "{{auth.marketo.clientID}}",
                "oauth_user_secret": "{{auth.marketo.clientSecret}}",
                "oauth_provider_id": "marketo",
                "prop:LeadsTarget": 200,
                "method": "get"
            }
        },
        "marketo-05": {
            "service": "marketo",
            "type": "marketo",
            "libraryAlias": "MarketoWon(Today)",
            "name": "Marketo Won (Today)",
            "description": "Today's Customers from Marketo. Originates from Gallery.",
            "format": "json",
            "refreshInterval": 14400,
            "props": {
                "endpoint_url": "{{auth.marketo.identityURL}}/rest/v1/list/{{ds.marketo.customerID}}/leads.json?fields=Lifecycle_Status__c,firstName,lastName,phone,email,company,leadScore,demographicScore,behaviorScore,inferredCountry,leadSource,behaviorScore,demographicScore",
                "identity_url": "{{auth.marketo.identityURL}}/identity",
                "oauth_client_id": "{{auth.marketo.clientID}}",
                "oauth_user_secret": "{{auth.marketo.clientSecret}}",
                "oauth_provider_id": "marketo",
                "prop:LeadsTarget": 200,
                "method": "get"
            }
        }
    },
    "dsMappings": {
        "marketo-01": "31a3351d445b543eb640KavyaMallur9",
        "marketo-02": "757165e545bef10b255fKavyaMallur9",
        "marketo-03": "630a6921d800caf00ea5KavyaMallur9",
        "marketo-04": "486a8de0819af83fa600KavyaMallur9",
        "marketo-05": "bd3a59eb30dba829cb01KavyaMallur9"
    },
    "services": [{
        "service": "marketo"
    }],
    "uiVariables": [{
        "name": "KTStage",
        "value": "MCL"
    }],
    "datasourceConfigModel": [{
        "type": "text",
        "id": "ds.marketo.programName",
        "label": "Program Name",
        "description": "Enter your Marketo Program Name.",
        "isRequired": true,
        "debounceEnabled": true,
        "onChangeQueries": ["q1"],
        "ghostText": "Klipfolio Lifecycle Performance"
    }, {
        "type": "select",
        "id": "ds.marketo.MCLID",
        "label": "Marketing Captured",
        "description": "Select today's Marketo Lists.",
        "onChangeQueries": ["q2"]
    }, {
        "type": "select",
        "id": "ds.marketo.MQLID",
        "label": "Marketing Qualified",
        "onChangeQueries": ["q3"]
    }, {
        "type": "select",
        "id": "ds.marketo.SALID",
        "label": "Sales Accepted",
        "onChangeQueries": ["q4"]
    }, {
        "type": "select",
        "id": "ds.marketo.SQLID",
        "label": "Sales Qualified",
        "onChangeQueries": ["q5"]
    }, {
        "type": "select",
        "id": "ds.marketo.customerID",
        "label": "Customer"
    }],
    "queries": [{
        "id": "q1",
        "errorMessage": "Click <b>Try Again</b> and make sure that you entered right Marketo LaunchPoint Client Secret, Client ID, and REST API URL.",
        "connector": {
            "service": "marketo",
            "type": "marketo",
            "format": "json",
            "props": {
                "endpoint_url": "{{auth.marketo.identityURL}}/rest/v1/lists.json?programName={{ds.marketo.programName}}",
                "identity_url": "{{auth.marketo.identityURL}}/identity",
                "oauth_client_id": "{{auth.marketo.clientID}}",
                "oauth_user_secret": "{{auth.marketo.clientSecret}}",
                "oauth_provider_id": "marketo",
                "method": "get"
            }
        },
        "results": [{
            "propId": "ds.marketo.MCLID",
            "propField": "options",
            "labels": "/result/name",
            "values": "/result/id"
        }]
    }, {
        "id": "q2",
        "connector": {
            "service": "marketo",
            "type": "marketo",
            "format": "json",
            "props": {
                "endpoint_url": "{{auth.marketo.identityURL}}/rest/v1/lists.json?programName={{ds.marketo.programName}}",
                "identity_url": "{{auth.marketo.identityURL}}/identity",
                "oauth_client_id": "{{auth.marketo.clientID}}",
                "oauth_user_secret": "{{auth.marketo.clientSecret}}",
                "oauth_provider_id": "marketo",
                "method": "get"
            }
        },
        "results": [{
            "propId": "ds.marketo.MQLID",
            "propField": "options",
            "labels": "/result/name",
            "values": "/result/id"
        }]
    }, {
        "id": "q3",
        "connector": {
            "service": "marketo",
            "type": "marketo",
            "format": "json",
            "props": {
                "endpoint_url": "{{auth.marketo.identityURL}}/rest/v1/lists.json?programName={{ds.marketo.programName}}",
                "identity_url": "{{auth.marketo.identityURL}}/identity",
                "oauth_client_id": "{{auth.marketo.clientID}}",
                "oauth_user_secret": "{{auth.marketo.clientSecret}}",
                "oauth_provider_id": "marketo",
                "method": "get"
            }
        },
        "results": [{
            "propId": "ds.marketo.SALID",
            "propField": "options",
            "labels": "/result/name",
            "values": "/result/id"
        }]
    }, {
        "id": "q4",
        "connector": {
            "service": "marketo",
            "type": "marketo",
            "format": "json",
            "props": {
                "endpoint_url": "{{auth.marketo.identityURL}}/rest/v1/lists.json?programName={{ds.marketo.programName}}",
                "identity_url": "{{auth.marketo.identityURL}}/identity",
                "oauth_client_id": "{{auth.marketo.clientID}}",
                "oauth_user_secret": "{{auth.marketo.clientSecret}}",
                "oauth_provider_id": "marketo",
                "method": "get"
            }
        },
        "results": [{
            "propId": "ds.marketo.SQLID",
            "propField": "options",
            "labels": "/result/name",
            "values": "/result/id"
        }]
    }, {
        "id": "q5",
        "connector": {
            "service": "marketo",
            "type": "marketo",
            "format": "json",
            "props": {
                "endpoint_url": "{{auth.marketo.identityURL}}/rest/v1/lists.json?programName={{ds.marketo.programName}}",
                "identity_url": "{{auth.marketo.identityURL}}/identity",
                "oauth_client_id": "{{auth.marketo.clientID}}",
                "oauth_user_secret": "{{auth.marketo.clientSecret}}",
                "oauth_provider_id": "marketo",
                "method": "get"
            }
        },
        "results": [{
            "propId": "ds.marketo.customerID",
            "propField": "options",
            "labels": "/result/name",
            "values": "/result/id"
        }]
    }]
}
