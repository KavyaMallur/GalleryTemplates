{
    "name": "Marketo Leads",
    "description": "Track your Leads for this month and compare how they are performing against last month's Leads count. Originates from gallery.",
    "sampleFormulas": {
        "67a92871-2": {
            "txt": "array(\"45\",\"30\",\"30\",\"62\",\"55\",\"41\",\"48\",\"45\",\"48\",\"75\",\"75\",\"84\",\"84\",\"84\",\"84\",\"84\",\"84\",\"84\",\"84\",\"84\",\"84\",\"93\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": 45
                    }, {
                        "t": "l",
                        "v": 30
                    }, {
                        "t": "l",
                        "v": 30
                    }, {
                        "t": "l",
                        "v": 62
                    }, {
                        "t": "l",
                        "v": 55
                    }, {
                        "t": "l",
                        "v": 41
                    }, {
                        "t": "l",
                        "v": 48
                    }, {
                        "t": "l",
                        "v": 45
                    }, {
                        "t": "l",
                        "v": 48
                    }, {
                        "t": "l",
                        "v": 75
                    }, {
                        "t": "l",
                        "v": 75
                    }, {
                        "t": "l",
                        "v": 84
                    }, {
                        "t": "l",
                        "v": 84
                    }, {
                        "t": "l",
                        "v": 84
                    }, {
                        "t": "l",
                        "v": 84
                    }, {
                        "t": "l",
                        "v": 84
                    }, {
                        "t": "l",
                        "v": 84
                    }, {
                        "t": "l",
                        "v": 84
                    }, {
                        "t": "l",
                        "v": 84
                    }, {
                        "t": "l",
                        "v": 84
                    }, {
                        "t": "l",
                        "v": 84
                    }, {
                        "t": "l",
                        "v": 93
                    }]
                }]
            }
        },
        "c39709a2-5": {
            "txt": "array(\"6\",\"20\",\"20\",\"20\",\"34\",\"34\",\"34\",\"34\",\"34\",\"55\",\"55\",\"62\",\"62\",\"62\",\"62\",\"62\",\"62\",\"62\",\"62\",\"62\",\"62\",\"69\",\"76\",\"146\",\"146\",\"146\",\"146\",\"146\",\"146\",\"146\",\"146\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": 6
                    }, {
                        "t": "l",
                        "v": 20
                    }, {
                        "t": "l",
                        "v": 20
                    }, {
                        "t": "l",
                        "v": 20
                    }, {
                        "t": "l",
                        "v": 34
                    }, {
                        "t": "l",
                        "v": 34
                    }, {
                        "t": "l",
                        "v": 34
                    }, {
                        "t": "l",
                        "v": 34
                    }, {
                        "t": "l",
                        "v": 34
                    }, {
                        "t": "l",
                        "v": 55
                    }, {
                        "t": "l",
                        "v": 55
                    }, {
                        "t": "l",
                        "v": 62
                    }, {
                        "t": "l",
                        "v": 62
                    }, {
                        "t": "l",
                        "v": 62
                    }, {
                        "t": "l",
                        "v": 62
                    }, {
                        "t": "l",
                        "v": 62
                    }, {
                        "t": "l",
                        "v": 62
                    }, {
                        "t": "l",
                        "v": 62
                    }, {
                        "t": "l",
                        "v": 62
                    }, {
                        "t": "l",
                        "v": 62
                    }, {
                        "t": "l",
                        "v": 62
                    }, {
                        "t": "l",
                        "v": 69
                    }, {
                        "t": "l",
                        "v": 76
                    }, {
                        "t": "l",
                        "v": 146
                    }, {
                        "t": "l",
                        "v": 146
                    }, {
                        "t": "l",
                        "v": 146
                    }, {
                        "t": "l",
                        "v": 146
                    }, {
                        "t": "l",
                        "v": 146
                    }, {
                        "t": "l",
                        "v": 146
                    }, {
                        "t": "l",
                        "v": 146
                    }, {
                        "t": "l",
                        "v": 146
                    }]
                }]
            }
        },
        "520bd510-3": {
            "txt": "array(\"2016-05-01\",\"2016-05-02\",\"2016-05-03\",\"2016-05-04\",\"2016-05-05\",\"2016-05-06\",\"2016-05-07\",\"2016-05-08\",\"2016-05-09\",\"2016-05-10\",\"2016-05-11\",\"2016-05-12\",\"2016-05-13\",\"2016-05-14\",\"2016-05-15\",\"2016-05-16\",\"2016-05-17\",\"2016-05-18\",\"2016-05-19\",\"2016-05-20\",\"2016-05-21\",\"2016-05-22\",\"2016-05-23\",\"2016-05-24\",\"2016-05-25\",\"2016-05-26\",\"2016-05-27\",\"2016-05-28\",\"2016-05-29\",\"2016-05-30\",\"2016-05-31\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "2016-05-01"
                    }, {
                        "t": "l",
                        "v": "2016-05-02"
                    }, {
                        "t": "l",
                        "v": "2016-05-03"
                    }, {
                        "t": "l",
                        "v": "2016-05-04"
                    }, {
                        "t": "l",
                        "v": "2016-05-05"
                    }, {
                        "t": "l",
                        "v": "2016-05-06"
                    }, {
                        "t": "l",
                        "v": "2016-05-07"
                    }, {
                        "t": "l",
                        "v": "2016-05-08"
                    }, {
                        "t": "l",
                        "v": "2016-05-09"
                    }, {
                        "t": "l",
                        "v": "2016-05-10"
                    }, {
                        "t": "l",
                        "v": "2016-05-11"
                    }, {
                        "t": "l",
                        "v": "2016-05-12"
                    }, {
                        "t": "l",
                        "v": "2016-05-13"
                    }, {
                        "t": "l",
                        "v": "2016-05-14"
                    }, {
                        "t": "l",
                        "v": "2016-05-15"
                    }, {
                        "t": "l",
                        "v": "2016-05-16"
                    }, {
                        "t": "l",
                        "v": "2016-05-17"
                    }, {
                        "t": "l",
                        "v": "2016-05-18"
                    }, {
                        "t": "l",
                        "v": "2016-05-19"
                    }, {
                        "t": "l",
                        "v": "2016-05-20"
                    }, {
                        "t": "l",
                        "v": "2016-05-21"
                    }, {
                        "t": "l",
                        "v": "2016-05-22"
                    }, {
                        "t": "l",
                        "v": "2016-05-23"
                    }, {
                        "t": "l",
                        "v": "2016-05-24"
                    }, {
                        "t": "l",
                        "v": "2016-05-25"
                    }, {
                        "t": "l",
                        "v": "2016-05-26"
                    }, {
                        "t": "l",
                        "v": "2016-05-27"
                    }, {
                        "t": "l",
                        "v": "2016-05-28"
                    }, {
                        "t": "l",
                        "v": "2016-05-29"
                    }, {
                        "t": "l",
                        "v": "2016-05-30"
                    }, {
                        "t": "l",
                        "v": "2016-05-31"
                    }]
                }]
            }
        }
    },
    "datasources": {
        "marketo": {
            "service": "marketo",
            "type": "marketo",
            "libraryAlias": "MarketoMCL(2 Months)",
            "name": "Marketo MCL (2 Months)",
            "description": "Marketing Captured Leads from Marketo for the last and current month. Originates from the Gallery.",
            "format": "json",
            "refreshInterval": 14400,
            "props": {
                "endpoint_url": "{{auth.marketo.identityURL}}/rest/v1/list/{{ds.marketo.MCLID}}/leads.json?fields=timestampMarketingCapturedLead,inferredCountry,leadSource",
                "identity_url": "{{auth.marketo.identityURL}}/identity",
                "oauth_client_id": "{{auth.marketo.clientID}}",
                "oauth_user_secret": "{{auth.marketo.clientSecret}}",
                "oauth_provider_id": "marketo",
                "method": "get"
            }
        }
    },
    "dsMappings": {
        "marketo": "1792ec96ed3498b253e6KavyaMallur9"
    },
    "services": [{
        "service": "marketo"
    }],
    "datasourceConfigModel": [{
        "type": "text",
        "id": "ds.marketo.programName",
        "label": "Program Name",
        "description": "Enter your Marketo Program Name and select your List.",
        "isRequired": true,
        "debounceEnabled": true,
        "onChangeQueries": ["q1"],
        "ghostText": "Klipfolio Lifecycle Performance"
    }, {
        "type": "select",
        "id": "ds.marketo.MCLID",
        "label": "Marketing Captured"
    }],
    "queries": [{
        "id": "q1",
        "errorMessage": "Click <b>Try Again</b> and make sure that you entered right Marketo LaunchPoint Client Secret, Client ID, and REST API URL.",
        "connector": {
            "service": "marketo",
            "type": "marketo",
            "format": "json",
            "props": {
                "endpoint_url": "{{auth.marketo.identityURL}}/rest/v1/lists.json?programName={{ds.marketo.programName}}",
                "identity_url": "{{auth.marketo.identityURL}}/identity",
                "oauth_client_id": "{{auth.marketo.clientID}}",
                "oauth_user_secret": "{{auth.marketo.clientSecret}}",
                "oauth_provider_id": "marketo",
                "method": "get"
            }
        },
        "results": [{
            "propId": "ds.marketo.MCLID",
            "propField": "options",
            "labels": "/result/name",
            "values": "/result/id"
        }]
    }]
}