{
    "name": "Marketo Leads by Source (Today)",
    "description": "How many leads have you gotten so far, today? Originates from the Gallery.",

    "datasources": {
        "marketo": {
            "service": "marketo",
            "type": "marketo",
            "libraryAlias": "MarketoLeadsToday",
            "name": "Marketo Leads Today",
            "description": "Today's Leads from Marketo.",
            "format": "json",
            "refreshInterval": 14400,
            "props": {
                "endpoint_url": "https://{{auth.marketo.identityURL}}/rest/v1/list/{{ds.marketo.listID}}/leads.json?fields=firstName,lastName,phone,email,createdAt,company,leadScore,demographicScore,behaviorScore,inferredCountry,leadSource,Role__c,Trial_Score__c,kd_cloud__c,behaviorScore,demographicScore,App_Score__c,Page_Source__c,timestampMarketingCapturedLead,timestampMarketingQualifiedLead,timestampRecycled,timestampSalesAcceptedLead,timestampSalesQualifiedOpportunity,timestampCustomer",
                "identity_url": "{{auth.marketo.identityURL}}/identity",
                "oauth_client_id": "{{auth.marketo.clientID}}",
                "oauth_user_secret": "{{auth.marketo.clientSecret}}",
                "oauth_provider_id": "marketo",
                "prop:LeadsTarget":200,
                "method": "get"
            }
        }
    },

    "dsMappings": {
        "marketo": "31a3351d445b543eb640KavyaMallur9"
    },

    "services": [{
        "service": "marketo"
    }],
    "datasourceConfigModel": [{
        "type": "select",
        "id": "ds.marketo.listID",
        "label": "List",
        "description": "Select your Marketo List"
    }],
    "queries": [{
        "errorMessage": "Please ensure you have provided right marketo access client Secret, client ID, and identity URL.",
        "connector": {
            "service": "marketo",
            "type": "marketo",
            "format": "json",
            "props": {
                "endpoint_url": "https://{{auth.marketo.identityURL}}/rest/v1/lists.json",
                "identity_url": "{{auth.marketo.identityURL}}/identity",
                "oauth_client_id": "{{auth.marketo.clientID}}",
                "oauth_user_secret": "{{auth.marketo.clientSecret}}",
                "oauth_provider_id": "marketo",
                "prop:LeadsTarget":200,
                "method": "get"
            }
        },
        "results": [{
            "propId": "ds.marketo.listID",
            "propField": "options",
            "labels": "/result/name",
            "values": "/result/id"
        }]
    }]
}