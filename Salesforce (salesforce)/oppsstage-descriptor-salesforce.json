{
    "name" : "Open Opportunities by Stage",
    "description" : "Understand what stages your opportunities are in.",

    "datasources" : {
        "salesforce" : {
            "service" : "salesforce",
            "type" : "salesforce",
            "format" : "json",
            "name" :"Opportunities",
            "libraryAlias" :"SFDCOpportunities",
            "refreshInterval" : 300,
            "description" :"Opportunities for the past 2 quarters or this year.",
            "props":{
                "SOQLQuery": "SELECT Type, StageName, CloseDate, Amount, Probability\r\nFROM Opportunity\r\nWHERE CloseDate = LAST_N_QUARTERS:2 OR CloseDate = THIS_YEAR",
                "endpoint_url": "{{auth.salesforce.instanceName}}/services/data/v20.0/query/?q=SELECT+Type%2C+StageName%2C+CloseDate%2C+Amount%2C+Probability%0D%0AFROM+Opportunity%0D%0AWHERE+CloseDate+%3D+LAST_N_QUARTERS%3A2+OR+CloseDate+%3D+THIS_YEAR",
                "instance": "{{auth.salesforce.instanceName}}"
            }
        }
    },

    "dsMappings": {
        "salesforce" : "df7bec64f58ae3dd3336niktawuzhere"
    },

    "services" : [
        {
            "service" : "salesforce"
        }
    ]
}