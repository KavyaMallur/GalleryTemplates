{
    "name" : "Facebook Daily Reach",
    "description" : "The daily number of people who have seen any content associated with your page (Unique Users). Originates from the Gallery.",
    

    "datasources" : {
        "facebook" : {
            "service" : "facebook",
            "libraryAlias" : "FacebookDailyReach",
            "name": "Facebook Daily Reach",
            "description" : "The daily number of people who have seen any content associated with your page (Unique Users). Originates from the Gallery.",
            "type" : "facebook",
            "format" : "json",
            "refreshInterval" : 14400,
            "props" : {
                "endpoint_url": "https://graph.facebook.com/{{ds.facebook.pageId}}/insights/page_impressions_unique/day?since={date.add(-90).format()}&until={date.today}",
                "graphUrl": "https://graph.facebook.com/{{ds.facebook.pageId}}/insights/page_impressions_unique/day?since={date.add(-90).format()}&until={date.today}",
                "qtype": "Graph API"
            }
        }
    },

    "dsMappings" : {
        "facebook" : "f2bc06a699d703e099bcniktawuzhere" 
    },

    "services" : [
        {
            "service" : "facebook"
        }
    ],
    "datasourceConfigModel" : [
        {
            "type" : "select",
            "id" : "ds.facebook.pageId",
            "label" : "Facebook Page Name",
            "description":"To find your company Facebook Page Name, follow the steps in <a href='http://klipfolio.uservoice.com/knowledgebase/articles/562989-klip-gallery-facebook#connect' target='_blank'>Klip Gallery: Facebook</a>."   }
    ],
    "queries": [
        {
            "userMessage":"Fetching list of facebook pages.",
            "connector": {
                "service": "facebook",
                "type": "facebook",
                "format": "json",
                "props": {
                    "endpoint_url": "https://graph.facebook.com/v2.3/me/accounts",
                    "graphUrl": "https://graph.facebook.com/v2.3/me/accounts",
                    "method": "GET",
                    "qtype": "Graph API"
                }
            },
            "results": [
                {
                    "propId" : "ds.facebook.pageId",
                    "propField" : "options",
                    "labels": "/data/name",
                    "values": "/data/id"
                }
            ]
        }   
    ]
}