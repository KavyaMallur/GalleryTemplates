{
  "name": "Campaign Performance",
  "description": "See how your campaigns are performing for the selected date range. Originates from the Gallery.",
  "datasources": {
    "googleAdwords-01": {
      "service": "google_adwords",
      "libraryAlias": "GoogleAdwordsCampaignPerformanceReportLast93days",
      "name": "Google Adwords Campaign Performance Report (Last 93 Days)",
      "description": "See your AdWords campaign performance. Originates from the Gallery.",
      "type": "google_adwords",
      "format": "csv",
      "refreshInterval": 14400,
      "props": {
        "body": " __rdquery=SELECT CampaignName,Clicks,Conversions,Cost,Impressions,Date,AverageCpc,Amount FROM CAMPAIGN_PERFORMANCE_REPORT WHERE CampaignName='{{ds.google_adwords.campaignName}}' DURING {date.add(-93).format('yyyyMMdd')},{date.today.format('yyyyMMdd')}&__fmt=CSV&mode=Custom",
        "endpoint_url": "https://adwords.google.com/api/adwords/reportdownload/v201603",
        "method": "post",
        "parameters": "[{\"name\":\"developerToken\",\"value\":\"O5KbgkrEobequlPEVk-cLQ\",\"type\":\"header\"},{\"name\":\"clientCustomerID\",\"value\":\"{{ds.google_adwords.customerId}}\",\"type\":\"header\"}]"
      }
    }
  },
  "dsMappings": {
    "googleAdwords-01": "400b121c5827aa0d3630natceewzhere"
  },
  "uiVariables": [
    {
      "name": "GAdsPeriod",
      "value": "last7days"
    },
    {
      "name": "GAdsConversionTarget",
      "value": "100"
    },
    {
      "name": "GAdsCPCTarget",
      "value": "10"
    }
  ],
  "datasourceConfigModel": [
    {
      "type": "text",
      "id": "ds.google_adwords.customerId",
      "label": "Customer ID",
      "description": "Don't know where to find your Customer ID? Sign in to your AdWords account and look in the top right-hand corner. Your customer ID will be in the form xxx-xxx-xxxx.",
      "debounceEnabled": true,
      "isRequired": true,
      "onChangeQueries": [
        "q2"
      ]
    },
    {
      "type": "select",
      "id": "ds.google_adwords.campaignId",
      "label": "Campaign",
      "isRequired": true
    }
  ],
  "queries": [
    {
      "id": "q2",
      "errorMessage": "Here are two suggestions:<br><br>1. Make sure the Google Adwords account you signed in with includes a Google Adwords account. <br><br>2. From time to time, your Google OAuth token will expire. This token allows you to safely bring your data into Klipfolio. <a href='https://support.klipfolio.com/hc/en-us/articles/215548958-OAuth-token-expired-for-connected-accounts' target='_blank'>Find out how to re-authorize your OAuth tokens</a>.",
      "connector": {
        "service": "google_adwords",
        "type": "google_adwords",
        "format": "csv",
        "props": {
          "body": "__rdquery=SELECT CampaignName,CampaignId,Impressions\r\nFROM CAMPAIGN_PERFORMANCE_REPORT\r\nDURING LAST_30_DAYS&__fmt=CSV&mode=Standard",
          "endpoint_url": "https://adwords.google.com/api/adwords/reportdownload/v201603",
          "method": "post",
          "parameters": "[{\"name\":\"developerToken\",\"value\":\"O5KbgkrEobequlPEVk-cLQ\",\"type\":\"header\"},{\"name\":\"clientCustomerID\",\"value\":\"{{ds.google_adwords.customerId}}\",\"type\":\"header\"}]"
        }
      },
      "results": [
        {
          "propId": "ds.google_adwords.campaignId",
          "propField": "options",
          "labels": "SLICE(B:B,2)",
          "values": "SLICE(B:B,2)"
        }
      ]
    }
  ],
  "services": [
    {
      "service": "google_adwords"
    }
  ]
}