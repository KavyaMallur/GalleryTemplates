{
    "name": "Google Adwords Campaign Performance",
    "description": "Reach your current and month-to-month advertising goals with detailed metrics on each of your AdWords campaigns. Originates from the Gallery.",
    "datasources": {
        "googleAdwords-01": {
            "service": "google_adwords",
            "libraryAlias": "GoogleAdwordsCampaignPerformanceReportLast93days",
            "name": "Google Adwords Campaign Performance Report (Last 93 Days)",
            "description": "See your AdWords campaign performance. Originates from the Gallery.",
            "type": "google_adwords",
            "format": "csv",
            "refreshInterval": 14400,
            "props": {
                "body": "__rdquery=SELECT CampaignName,Clicks,Conversions,Cost,Impressions,Date,AverageCpc,Amount FROM CAMPAIGN_PERFORMANCE_REPORT WHERE CampaignName='{{ds.google_adwords.campaignName}}' DURING {date.add(-90).format('yyyyMMdd')},{date.today.format('yyyyMMdd')}&__fmt=CSV&mode=Custom",
                "endpoint_url": "https://adwords.google.com/api/adwords/reportdownload/v201603",
                "method": "post",
                "parameters": "[{\"name\":\"developerToken\",\"value\":\"O5KbgkrEobequlPEVk-cLQ\",\"type\":\"header\"},{\"name\":\"clientCustomerID\",\"value\":\"{{ds.google_adwords.customerId}}\",\"type\":\"header\"}]"
            }
        }
    },
    "dsMappings": {
        "googleAdwords-01": "400b121c5827aa0d3630natceewzhere"
    },
    "services": [{
        "service": "google_adwords"
    }],
    "uiVariables": [{
        "name": "GAdsPeriod",
        "value": "last7days"
    }, {
        "name": "GAdsConversionTarget",
        "value": "100"
    }, {
        "name": "GAdsCPCTarget",
        "value": "100"
    }],
    "datasourceConfigModel": [{
        "type": "text",
        "id": "ds.google_adwords.customerId",
        "label": "Customer ID",
        "description": "Enter your Google AdWords <b>Customer ID</b>. If you manage accounts (MCC), enter an <b>Account ID</b>. <a href='https://support.klipfolio.com/hc/en-us/articles/215546258-Klip-Gallery-Google-AdWords#connect' target='_blank'>Don't know where to find your ID?</a>",
        "isRequired": true,
        "ghostText": "123-123-1234",
        "debounceEnabled": true,
        "onChangeQueries": ["q2"]
    }, {
        "type": "select",
        "description": "Select a Campaign name from the list below. ",
        "id": "ds.google_adwords.campaignName",
        "label": "Campaign",
        "isRequired": true,
        "urlEncode": true
    }],
    "queries": [{
        "id": "q2",
        "errorMessage": "Here are two suggestions:<br><br>1. Make sure the Google Adwords account you signed in with includes a Google Adwords account. <br><br>2. From time to time, your Google OAuth token will expire. This token allows you to safely bring your data into Klipfolio. <a href='https://support.klipfolio.com/hc/en-us/articles/215548958-OAuth-token-expired-for-connected-accounts' target='_blank'>Find out how to re-authorize your OAuth tokens</a>.",
        "connector": {
            "service": "google_adwords",
            "type": "google_adwords",
            "format": "xml",
            "props": {
                "body": "__rdquery=SELECT CampaignName,CampaignId FROM CAMPAIGN_PERFORMANCE_REPORT DURING LAST_30_DAYS&__fmt=XML&mode=Custom",
                "endpoint_url": "https://adwords.google.com/api/adwords/reportdownload/v201603",
                "method": "post",
                "parameters": "[{\"name\":\"developerToken\",\"value\":\"O5KbgkrEobequlPEVk-cLQ\",\"type\":\"header\"},{\"name\":\"clientCustomerID\",\"value\":\"{{ds.google_adwords.customerId}}\",\"type\":\"header\"}]"
            }
        },
        "results": [{
            "propId": "ds.google_adwords.campaignName",
            "propField": "options",
            "labels": "/report/table/row/@campaign",
            "values": "/report/table/row/@campaign"
        }]
    }]
}
