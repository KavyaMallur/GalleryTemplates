{
    "name" : "comScore Avg Page Views per Visit (Last 30 Days)",
    "description" : "Compare 30 average days page views per visit for site in your comScore account. Originates from the Gallery.",

    "datasources" : {
        "comscore" : {
            "service" : "comscore",
            "type" : "comscore",
            "format" : "csv",
            "name" :"comScore Avg Page Views per Visit",
            "libraryAlias" :"comScoreAvgPageViewsperVisit",
            "refreshInterval" : 14400,
            "description" :"60 days average page views per visit. Originates from the Gallery.",
            "props":{
                "endpoint_url": "https://dax-rest.comscore{{ds.comscore.location}}/v1/reportitems.csv?itemid=130&client={{ds.comscore.clientName}}&user={{auth.comscore.username}}&password={{auth.comscore.password}}&site={{ds.comscore.site}}&startdate={date.add(-60).format('yyyyMMdd')}&enddate={date.today.format('yyyyMMdd')}&eventfilterid=3&visitfilterid=2",
                "clientName":"{{ds.comscore.clientName}}",
                "location": "{{ds.comscore.location}}"
            }
        }
    },

    "dsMappings": {
        "comscore" : "96a4e3a309069faf93c5doogeraspilk"
    },

    "services" : [
        {
            "service" : "comscore"
        }
    ],

    "datasourceConfigModel" : [
        {
            "type" : "text",
            "id" : "ds.comscore.clientName",
            "label" : "Your Client Name",
            "description":"Enter your comScore DAX Client Name and Site details. Need help? See <a href=# target='_blank'>Klip Gallery: comScore</a>."
        },
        {
            "type": "select",
            "id": "ds.comscore.location",
            "label": "Data Center",
            "options": [ 
                    {"value":".com","label":"United States"},
                    {"value":".eu","label":"Europe"}
                ],
            "isRequired" : "true",
            "selectedValue": ".com" 
        },
        {
            "type": "text",
            "id": "ds.comscore.site",
            "label": "Site",
            "isRequired" : "true"
        }
    ]
}