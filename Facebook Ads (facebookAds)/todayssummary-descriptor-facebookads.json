{
  "name": "Facebook Ads Today's Summary",
  "description": "Drill down into today's campaign metrics and monitor your Facebook Ad objectives. Originates from the Gallery (v1.3).",
  "sampleFormulas": {
    "013cc572": {
        "txt": "array(\"We could ask for anything\",\"We have a substitude\",\"Nothing is impossible\",\"Solutions for our planet\",\"It’s freaking good\")",
        "src": {
            "t": "expr",
            "v": false,
            "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                        {
                            "t": "l",
                            "v": "We could ask for anything"
                        },
                        {
                            "t": "l",
                            "v": "We have a substitude"
                        },
                        {
                            "t": "l",
                            "v": "Nothing is impossible"
                        },
                        {
                            "t": "l",
                            "v": "Solutions for our planet"
                        },
                        {
                            "t": "l",
                            "v": "It’s freaking good"
                        }
                    ]
                }
            ]
        }
    },
    "08cdd8a7": {
        "txt": "array(\"Care\",\"Regional\",\"Pan\",\"éclair\",\"Concert\")",
        "src": {
            "t": "expr",
            "v": false,
            "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                        {
                            "t": "l",
                            "v": "Care"
                        },
                        {
                            "t": "l",
                            "v": "Regional"
                        },
                        {
                            "t": "l",
                            "v": "Pan"
                        },
                        {
                            "t": "l",
                            "v": "éclair"
                        },
                        {
                            "t": "l",
                            "v": "Concert"
                        }
                    ]
                }
            ]
        }
    },
    "54b4a8f4": {
        "txt": "array(\"Home\",\"Electric\",\"Hippopotamus\",\"Squarks\",\"cake\")",
        "src": {
            "t": "expr",
            "v": false,
            "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                        {
                            "t": "l",
                            "v": "Home"
                        },
                        {
                            "t": "l",
                            "v": "Electric"
                        },
                        {
                            "t": "l",
                            "v": "Hippopotamus"
                        },
                        {
                            "t": "l",
                            "v": "Squarks"
                        },
                        {
                            "t": "l",
                            "v": "cake"
                        }
                    ]
                }
            ]
        }
    },
    "58a0c2e0-1": {
        "txt": "array(\"986.89\",\"866.88\",\"751.48\",\"558.45\",\"531.11\")",
        "src": {
            "t": "expr",
            "v": false,
            "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                        {
                            "t": "l",
                            "v": "986.89"
                        },
                        {
                            "t": "l",
                            "v": "866.88"
                        },
                        {
                            "t": "l",
                            "v": "751.48"
                        },
                        {
                            "t": "l",
                            "v": "558.45"
                        },
                        {
                            "t": "l",
                            "v": "531.11"
                        }
                    ]
                }
            ]
        }
    },
    "650a1ca8-3": {
        "txt": "array(\"140.84\",\"78.57\",\"64.21\",\"124.78\",\"82.72\")",
        "src": {
            "t": "expr",
            "v": false,
            "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                        {
                            "t": "l",
                            "v": "140.84"
                        },
                        {
                            "t": "l",
                            "v": "78.57"
                        },
                        {
                            "t": "l",
                            "v": "64.21"
                        },
                        {
                            "t": "l",
                            "v": "124.78"
                        },
                        {
                            "t": "l",
                            "v": "82.72"
                        }
                    ]
                }
            ]
        }
    },
    "56d8ed2e": {
        "txt": "array(\"8.84\",\"2.29\",\"6.25\",\"1.13\",\"9.51\")",
        "src": {
            "t": "expr",
            "v": false,
            "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                        {
                            "t": "l",
                            "v": "8.84"
                        },
                        {
                            "t": "l",
                            "v": "2.29"
                        },
                        {
                            "t": "l",
                            "v": "6.25"
                        },
                        {
                            "t": "l",
                            "v": "1.13"
                        },
                        {
                            "t": "l",
                            "v": "9.51"
                        }
                    ]
                }
            ]
        }
    },
    "2bd95b1a": {
        "txt": "array(\"6.62\",\"3.05\",\"2.30\",\"2.05\",\"7.40\")",
        "src": {
            "t": "expr",
            "v": false,
            "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                        {
                            "t": "l",
                            "v": "6.62"
                        },
                        {
                            "t": "l",
                            "v": "3.05"
                        },
                        {
                            "t": "l",
                            "v": "2.30"
                        },
                        {
                            "t": "l",
                            "v": "2.05"
                        },
                        {
                            "t": "l",
                            "v": "7.40"
                        }
                    ]
                }
            ]
        }
    },
    "7d778d03-3": {
        "txt": "array(\"6.92\",\"1.91\",\"6.68\",\"5.40\",\"7.55\")",
        "src": {
            "t": "expr",
            "v": false,
            "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                        {
                            "t": "l",
                            "v": "6.92"
                        },
                        {
                            "t": "l",
                            "v": "1.91"
                        },
                        {
                            "t": "l",
                            "v": "6.68"
                        },
                        {
                            "t": "l",
                            "v": "5.40"
                        },
                        {
                            "t": "l",
                            "v": "7.55"
                        }
                    ]
                }
            ]
        }
    },
    "a6e6759b-1": {
        "txt": "array(\"3.77\",\"4.53\",\"6.81\",\"8.97\",\"4.97\")",
        "src": {
            "t": "expr",
            "v": false,
            "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                        {
                            "t": "l",
                            "v": "3.77"
                        },
                        {
                            "t": "l",
                            "v": "4.53"
                        },
                        {
                            "t": "l",
                            "v": "6.81"
                        },
                        {
                            "t": "l",
                            "v": "8.97"
                        },
                        {
                            "t": "l",
                            "v": "4.97"
                        }
                    ]
                }
            ]
        }
    },
    "047d5aaa": {
        "txt": "array(\"4.05\",\"6.78\",\"6.70\",\"8.94\",\"2.48\")",
        "src": {
            "t": "expr",
            "v": false,
            "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                        {
                            "t": "l",
                            "v": "4.05"
                        },
                        {
                            "t": "l",
                            "v": "6.78"
                        },
                        {
                            "t": "l",
                            "v": "6.70"
                        },
                        {
                            "t": "l",
                            "v": "8.94"
                        },
                        {
                            "t": "l",
                            "v": "2.48"
                        }
                    ]
                }
            ]
        }
    },
    "29cdd933-5": {
        "txt": "array(\"7.97\",\"9.31\",\"4.53\",\"2.79\",\"1.86\",\"7.71\",\"1.66\")",
        "src": {
            "t": "expr",
            "v": false,
            "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                        {
                            "t": "l",
                            "v": "7.97"
                        },
                        {
                            "t": "l",
                            "v": "9.31"
                        },
                        {
                            "t": "l",
                            "v": "4.53"
                        },
                        {
                            "t": "l",
                            "v": "2.79"
                        },
                        {
                            "t": "l",
                            "v": "1.86"
                        },
                        {
                            "t": "l",
                            "v": "7.71"
                        },
                        {
                            "t": "l",
                            "v": "1.66"
                        }
                    ]
                }
            ]
        }
    },
    "8324ed25-7": {
        "txt": "array(\"8.73\",\"2.43\",\"5.35\",\"5.07\",\"9.19\")",
        "src": {
            "t": "expr",
            "v": false,
            "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                        {
                            "t": "l",
                            "v": "8.73"
                        },
                        {
                            "t": "l",
                            "v": "2.43"
                        },
                        {
                            "t": "l",
                            "v": "5.35"
                        },
                        {
                            "t": "l",
                            "v": "5.07"
                        },
                        {
                            "t": "l",
                            "v": "9.19"
                        }
                    ]
                }
            ]
        }
    },
    "0c49e567": {
        "txt": "array(\"4.11\",\"3.99\",\"2.29\",\"0.41\",\"1.46\")",
        "src": {
            "t": "expr",
            "v": false,
            "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                        {
                            "t": "l",
                            "v": "4.11"
                        },
                        {
                            "t": "l",
                            "v": "3.99"
                        },
                        {
                            "t": "l",
                            "v": "2.29"
                        },
                        {
                            "t": "l",
                            "v": "0.41"
                        },
                        {
                            "t": "l",
                            "v": "1.46"
                        }
                    ]
                }
            ]
        }
    },
    "2bc2033e-11": {
        "txt": "array(\"5.67\",\"1.34\",\"3.98\",\"0.43\",\"5.69\")",
        "src": {
            "t": "expr",
            "v": false,
            "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                        {
                            "t": "l",
                            "v": "5.67"
                        },
                        {
                            "t": "l",
                            "v": "1.34"
                        },
                        {
                            "t": "l",
                            "v": "3.98"
                        },
                        {
                            "t": "l",
                            "v": "0.43"
                        },
                        {
                            "t": "l",
                            "v": "5.69"
                        }
                    ]
                }
            ]
        }
    },
    "fb0ba981-9": {
        "txt": "array(\"6.96\",\"3.46\",\"7.68\",\"4.05\",\"6.93\")",
        "src": {
            "t": "expr",
            "v": false,
            "c": [
                {
                    "t": "f",
                    "v": "array",
                    "c": [
                        {
                            "t": "l",
                            "v": "6.96"
                        },
                        {
                            "t": "l",
                            "v": "3.46"
                        },
                        {
                            "t": "l",
                            "v": "7.68"
                        },
                        {
                            "t": "l",
                            "v": "4.05"
                        },
                        {
                            "t": "l",
                            "v": "6.93"
                        }
                    ]
                }
            ]
        }
    }
},
  "datasources": {
    "facebookAds-01": {
      "service": "facebook_ads",
      "libraryAlias": "FacebookAdsMetricsCampaignLevel",
      "name": "Facebook Ads Metrics (Campaign Level)",
      "description": "Information on today's Facebook Ads Campaign metrics at a campaign level. Originates from the Gallery.",
      "type": "facebook",
      "format": "json",
      "refreshInterval": 14400,
      "props": {
        "endpoint_url": "https://graph.facebook.com/v2.7/{{ds.facebook_ads.accountID}}/insights?level=campaign&fields=ad_name,adset_name,campaign_name,spend,unique_clicks,cost_per_unique_click,cpm,ctr&sort=spend_descending&date_preset=today&limit=500",
        "graphUrl": "https://graph.facebook.com/v2.7/{{ds.facebook_ads.accountID}}/insights?level=campaign&fields=ad_name,adset_name,campaign_name,spend,unique_clicks,cost_per_unique_click,cpm,ctr&sort=spend_descending&date_preset=today&limit=500",
        "qtype": "Graph API"
      }
    },
    "facebookAds-02": {
      "service": "facebook_ads",
      "libraryAlias": "FacebookAdsMetricsAdSetLevel",
      "name": "Facebook Ads Metrics (Ad Set Level)",
      "description": "Information on today's Facebook Ads Campaign metrics. Originates from the Gallery.",
      "type": "facebook",
      "format": "json",
      "refreshInterval": 14400,
      "props": {
        "endpoint_url": "https://graph.facebook.com/v2.7/{{ds.facebook_ads.accountID}}/insights?level=adset&fields=ad_name,adset_name,campaign_name,spend,unique_clicks,cost_per_unique_click,cpm,ctr&sort=spend_descending&date_preset=today&limit=500",
        "graphUrl": "https://graph.facebook.com/v2.7/{{ds.facebook_ads.accountID}}/insights?level=adset&fields=ad_name,adset_name,campaign_name,spend,unique_clicks,cost_per_unique_click,cpm,ctr&sort=spend_descending&date_preset=today&limit=500",
        "qtype": "Graph API"
      }
    },
    "facebookAds-03": {
      "service": "facebook_ads",
      "libraryAlias": "FacebookAdsMetricsAdLevel",
      "name": "Facebook Ads Metrics (Ad Level)",
      "description": "Information on today's Facebook Ads Campaign metrics. Originates from the Gallery.",
      "type": "facebook",
      "format": "json",
      "refreshInterval": 14400,
      "props": {
        "endpoint_url": "https://graph.facebook.com/v2.7/{{ds.facebook_ads.accountID}}/insights?level=ad&fields=ad_name,adset_name,campaign_name,spend,unique_clicks,cost_per_unique_click,cpm,ctr&sort=spend_descending&date_preset=today&limit=500",
        "graphUrl": "https://graph.facebook.com/v2.7/{{ds.facebook_ads.accountID}}/insights?level=ad&fields=ad_name,adset_name,campaign_name,spend,unique_clicks,cost_per_unique_click,cpm,ctr&sort=spend_descending&date_preset=today&limit=500",
        "qtype": "Graph API"
      }
    }
  },
  "dsMappings": {
    "facebookAds-01": "c93879ac7b7fcb891d2fnatceewzhere",
    "facebookAds-02": "ef420090c5cf6a0d1210natceewzhere",
    "facebookAds-03": "f22a33c1ae565aa3e908natceewzhere"
  },
  "services": [
    {
      "service": "facebook_ads"
    }
  ],
  "uiVariables": [
    {
      "name": "KTAdsObjective",
      "value": "All"
    }
  ],
  "datasourceConfigModel": [
    {
      "type": "select",
      "id": "ds.facebook_ads.accountID",
      "label": "Account Name",
      "description": "Select a Facebook Ads Account Name from the list below."
    }
  ],
  "queries": [
    {
      "errorMessage": "Here are two suggestions:<br><br>1. Make sure the Facebook account you signed in with includes a Facebook Ads account. <br><br>2. From time to time, your Facebook OAuth token will expire. This token allows you to safely bring your data into Klipfolio. <a href='https://support.klipfolio.com/hc/en-us/articles/215548958-OAuth-token-expired-for-connected-accounts' target='_blank'>Find out how to re-authorize your OAuth tokens</a>.",
      "connector": {
        "service": "facebook_ads",
        "type": "facebook",
        "format": "json",
        "props": {
          "endpoint_url": "https://graph.facebook.com/v2.7/me/adaccounts?fields=name,id",
          "graphUrl": "https://graph.facebook.com/v2.7/me/adaccounts?fields=name,id",
          "method": "GET",
          "qtype": "Graph API"
        }
      },
      "results": [
        {
          "propId": "ds.facebook_ads.accountID",
          "propField": "options",
          "labels": "/data/name",
          "values": "/data/id"
        }
      ]
    }
  ]
}