{
    "name" : "Facebook Ads Today's Summary",
    "description" : "Drill down into today's campaign metrics and monitor your Facebook Ad objectives. Originates from the Gallery.",
    

    "datasources" : {
        "facebookAds-01" : {
            "service" : "facebook_ads",
            "libraryAlias" : "FacebookAdsMetricsV2",
            "name": "Facebook Ads Metrics",
            "description" : "Information on today's Facebook Ads Campaign metrics. Originates from the Gallery.",
            "type" : "facebook",
            "format" : "json",
            "refreshInterval" : 14400,
            "props" : {
                "endpoint_url": "https://graph.facebook.com/v2.4/{{ds.facebook_ads.accountID}}/insights?level=adgroup&date_preset=today&sort=spend_descending&fields=campaign_group_name,campaign_name,adgroup_name,campaign_group_id,campaign_id,adgroup_id,spend,unique_clicks,cost_per_unique_click,cpm,ctr,relevance_score,action_values,actions,cost_per_action_type",
                "graphUrl": "https://graph.facebook.com/v2.4/{{ds.facebook_ads.accountID}}/insights?level=adgroup&date_preset=today&sort=spend_descending&fields=campaign_group_name,campaign_name,adgroup_name,campaign_group_id,campaign_id,adgroup_id,spend,unique_clicks,cost_per_unique_click,cpm,ctr,relevance_score,action_values,actions,cost_per_action_type",
                "qtype": "Graph API"
            }
        }
    },

    "dsMappings" : {
        "facebookAds-01" : "f22a33c1ae565aa3e908natceewzhere" 
    },

    "services" : [
        {
            "service" : "facebook_ads"
        }
    ],
    "uiVariables": [
        {
            "name":"KTAdsObjective", 
            "value":"All" 
        }
    ],
    "datasourceConfigModel" : [
        {
            "type" : "select",
            "id" : "ds.facebook_ads.accountID",
            "label" : "Account Name",
            "description":"Select a Facebook Ads Account Name from the list below."
        }
    ],
"queries": [
        {
            "errorMessage":"Here are two suggestions:<br><br>1. Make sure the Facebook account you signed in with includes a Facebook Ads account. <br><br>2. From time to time, your Facebook OAuth token will expire. This token allows you to safely bring your data into Klipfolio. <a href='http://klipfolio.uservoice.com/knowledgebase/articles/404228-oauth-token-expired' target='_blank'>Find out how to re-authorize your OAuth tokens</a>.",
            "connector": {
                "service": "facebook_ads",
                "type": "facebook",
                "format": "json",
                "props": {
                    "endpoint_url": "https://graph.facebook.com/v2.4/me/adaccounts?fields=name,id",
                    "graphUrl": "https://graph.facebook.com/v2.4/me/adaccounts?fields=name,id",
                    "method": "GET",
                    "qtype": "Graph API"
                }
            },
            "results": [
                {
                    "propId" : "ds.facebook_ads.accountID", 
                    "propField" : "options", 
                    "labels": "/data/name",  
                    "values": "/data/id" 
                }
            ]
        }
    ]
}