{
    "name": "Facebook Ads Today's Summary",
    "description": "Drill down into today's campaign metrics and monitor your Facebook Ad objectives. Originates from the Gallery (v1.3).",

    "sampleFormulas": {
        "013cc572": {
            "txt": "array(\"It gives you wings\",\"Where a kid is a kid\",\"Your homely state farm\",\"Desire it. Buy it.\",\"It gives you wings\",\"It gives you wings\",\"Where a kid is a kid\",\"Your homely state farm\",\"Desire it. Buy it.\",\"It gives you wings\",\"It gives you wings\",\"Where a kid is a kid\",\"Your homely state farm\",\"Desire it. Buy it.\",\"It gives you wings\",\"It gives you wings\",\"Where a kid is a kid\",\"Your homely state farm\",\"Desire it. Buy it.\",\"It gives you wings\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "It gives you wings"
                    }, {
                        "t": "l",
                        "v": "Where a kid is a kid"
                    }, {
                        "t": "l",
                        "v": "Your homely state farm"
                    }, {
                        "t": "l",
                        "v": "Desire it. Buy it."
                    }, {
                        "t": "l",
                        "v": "It gives you wings"
                    }, {
                        "t": "l",
                        "v": "It gives you wings"
                    }, {
                        "t": "l",
                        "v": "Where a kid is a kid"
                    }, {
                        "t": "l",
                        "v": "Your homely state farm"
                    }, {
                        "t": "l",
                        "v": "Desire it. Buy it."
                    }, {
                        "t": "l",
                        "v": "It gives you wings"
                    }, {
                        "t": "l",
                        "v": "It gives you wings"
                    }, {
                        "t": "l",
                        "v": "Where a kid is a kid"
                    }, {
                        "t": "l",
                        "v": "Your homely state farm"
                    }, {
                        "t": "l",
                        "v": "Desire it. Buy it."
                    }, {
                        "t": "l",
                        "v": "It gives you wings"
                    }, {
                        "t": "l",
                        "v": "It gives you wings"
                    }, {
                        "t": "l",
                        "v": "Where a kid is a kid"
                    }, {
                        "t": "l",
                        "v": "Your homely state farm"
                    }, {
                        "t": "l",
                        "v": "Desire it. Buy it."
                    }, {
                        "t": "l",
                        "v": "It gives you wings"
                    }]
                }]
            }
        },

        "08cdd8a7": {
            "txt": "array(\"Rib\",\"Wrench\",\"Shrimp\",\"Squarks\",\"Rough\",\"Photon\",\"Argon\",\"Lanthanum\",\"Persimmon\",\"Primrose\",\"Cooker\",\"Boron\",\"Photon\",\"Rutherfordium\",\"Berkelium\",\"Argon\",\"Higgsino\",\"Beer\",\"Willow\",\"Shrimp\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "Rib"
                    }, {
                        "t": "l",
                        "v": "Wrench"
                    }, {
                        "t": "l",
                        "v": "Shrimp"
                    }, {
                        "t": "l",
                        "v": "Squarks"
                    }, {
                        "t": "l",
                        "v": "Rough"
                    }, {
                        "t": "l",
                        "v": "Photon"
                    }, {
                        "t": "l",
                        "v": "Argon"
                    }, {
                        "t": "l",
                        "v": "Lanthanum"
                    }, {
                        "t": "l",
                        "v": "Persimmon"
                    }, {
                        "t": "l",
                        "v": "Primrose"
                    }, {
                        "t": "l",
                        "v": "Cooker"
                    }, {
                        "t": "l",
                        "v": "Boron"
                    }, {
                        "t": "l",
                        "v": "Photon"
                    }, {
                        "t": "l",
                        "v": "Rutherfordium"
                    }, {
                        "t": "l",
                        "v": "Berkelium"
                    }, {
                        "t": "l",
                        "v": "Argon"
                    }, {
                        "t": "l",
                        "v": "Higgsino"
                    }, {
                        "t": "l",
                        "v": "Beer"
                    }, {
                        "t": "l",
                        "v": "Willow"
                    }, {
                        "t": "l",
                        "v": "Shrimp"
                    }]
                }]
            }
        },

        "54b4a8f4": {
            "txt": "array(\"Enchanting\",\"Undulating\",\"Trite\",\"Enchanting\",\"Undulating\",\"Trite\",\"Enchanting\",\"Undulating\",\"Trite\",\"Enchanting\",\"Undulating\",\"Trite\",\"Enchanting\",\"Undulating\",\"Trite\",\"Enchanting\",\"Undulating\",\"Enchanting\",\"Undulating\",\"Trite\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "Enchanting"
                    }, {
                        "t": "l",
                        "v": "Undulating"
                    }, {
                        "t": "l",
                        "v": "Trite"
                    }, {
                        "t": "l",
                        "v": "Enchanting"
                    }, {
                        "t": "l",
                        "v": "Undulating"
                    }, {
                        "t": "l",
                        "v": "Trite"
                    }, {
                        "t": "l",
                        "v": "Enchanting"
                    }, {
                        "t": "l",
                        "v": "Undulating"
                    }, {
                        "t": "l",
                        "v": "Trite"
                    }, {
                        "t": "l",
                        "v": "Enchanting"
                    }, {
                        "t": "l",
                        "v": "Undulating"
                    }, {
                        "t": "l",
                        "v": "Trite"
                    }, {
                        "t": "l",
                        "v": "Enchanting"
                    }, {
                        "t": "l",
                        "v": "Undulating"
                    }, {
                        "t": "l",
                        "v": "Trite"
                    }, {
                        "t": "l",
                        "v": "Enchanting"
                    }, {
                        "t": "l",
                        "v": "Undulating"
                    }, {
                        "t": "l",
                        "v": "Enchanting"
                    }, {
                        "t": "l",
                        "v": "Undulating"
                    }, {
                        "t": "l",
                        "v": "Trite"
                    }]
                }]
            }
        },
        "56d8ed2e": {
            "txt": "array(\"865.95\",\"5635.45\",\"8348.03\",\"1412.01\",\"0331.91\",\"1032.18\",\"4914.59\",\"705.17\",\"7530.74\",\"1946.78\",\"762.34\",\"3349.88\",\"849.54\",\"9248.86\",\"3516.67\",\"6628.86\",\"8648.17\",\"3346.85\",\"3137.80\",\"622.73\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "865.95"
                    }, {
                        "t": "l",
                        "v": "5635.45"
                    }, {
                        "t": "l",
                        "v": "8348.03"
                    }, {
                        "t": "l",
                        "v": "1412.01"
                    }, {
                        "t": "l",
                        "v": "0331.91"
                    }, {
                        "t": "l",
                        "v": "1032.18"
                    }, {
                        "t": "l",
                        "v": "4914.59"
                    }, {
                        "t": "l",
                        "v": "705.17"
                    }, {
                        "t": "l",
                        "v": "7530.74"
                    }, {
                        "t": "l",
                        "v": "1946.78"
                    }, {
                        "t": "l",
                        "v": "762.34"
                    }, {
                        "t": "l",
                        "v": "3349.88"
                    }, {
                        "t": "l",
                        "v": "849.54"
                    }, {
                        "t": "l",
                        "v": "9248.86"
                    }, {
                        "t": "l",
                        "v": "3516.67"
                    }, {
                        "t": "l",
                        "v": "6628.86"
                    }, {
                        "t": "l",
                        "v": "8648.17"
                    }, {
                        "t": "l",
                        "v": "3346.85"
                    }, {
                        "t": "l",
                        "v": "3137.80"
                    }, {
                        "t": "l",
                        "v": "622.73"
                    }]
                }]
            }
        },

        "2bd95b1a": {
            "txt": "array(\"6.59\",\"27.25\",\"43.44\",\"36.11\",\"3.49\",\"4.95\",\"28.79\",\"15.49\",\"34.43\",\"18.06\",\"22.51\",\"49.81\",\"21.05\",\"8.09\",\"39.95\",\"49.02\",\"43.15\",\"14.20\",\"32.93\",\"11.24\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "6.59"
                    }, {
                        "t": "l",
                        "v": "27.25"
                    }, {
                        "t": "l",
                        "v": "43.44"
                    }, {
                        "t": "l",
                        "v": "36.11"
                    }, {
                        "t": "l",
                        "v": "3.49"
                    }, {
                        "t": "l",
                        "v": "4.95"
                    }, {
                        "t": "l",
                        "v": "28.79"
                    }, {
                        "t": "l",
                        "v": "15.49"
                    }, {
                        "t": "l",
                        "v": "34.43"
                    }, {
                        "t": "l",
                        "v": "18.06"
                    }, {
                        "t": "l",
                        "v": "22.51"
                    }, {
                        "t": "l",
                        "v": "49.81"
                    }, {
                        "t": "l",
                        "v": "21.05"
                    }, {
                        "t": "l",
                        "v": "8.09"
                    }, {
                        "t": "l",
                        "v": "39.95"
                    }, {
                        "t": "l",
                        "v": "49.02"
                    }, {
                        "t": "l",
                        "v": "43.15"
                    }, {
                        "t": "l",
                        "v": "14.20"
                    }, {
                        "t": "l",
                        "v": "32.93"
                    }, {
                        "t": "l",
                        "v": "11.24"
                    }]
                }]
            }
        },
        "047d5aaa": {
            "txt": "array(\"839.53\",\"320.76\",\"334.44\",\"37.32\",\"648.91\",\"21.31\",\"333.06\",\"233.21\",\"013.03\",\"944.29\",\"235.50\",\"829.19\",\"57.12\",\"328.92\",\"235.00\",\"736.84\",\"55.68\",\"113.87\",\"534.39\",\"525.72\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "839.53"
                    }, {
                        "t": "l",
                        "v": "320.76"
                    }, {
                        "t": "l",
                        "v": "334.44"
                    }, {
                        "t": "l",
                        "v": "37.32"
                    }, {
                        "t": "l",
                        "v": "648.91"
                    }, {
                        "t": "l",
                        "v": "21.31"
                    }, {
                        "t": "l",
                        "v": "333.06"
                    }, {
                        "t": "l",
                        "v": "233.21"
                    }, {
                        "t": "l",
                        "v": "013.03"
                    }, {
                        "t": "l",
                        "v": "944.29"
                    }, {
                        "t": "l",
                        "v": "235.50"
                    }, {
                        "t": "l",
                        "v": "829.19"
                    }, {
                        "t": "l",
                        "v": "57.12"
                    }, {
                        "t": "l",
                        "v": "328.92"
                    }, {
                        "t": "l",
                        "v": "235.00"
                    }, {
                        "t": "l",
                        "v": "736.84"
                    }, {
                        "t": "l",
                        "v": "55.68"
                    }, {
                        "t": "l",
                        "v": "113.87"
                    }, {
                        "t": "l",
                        "v": "534.39"
                    }, {
                        "t": "l",
                        "v": "525.72"
                    }]
                }]
            }
        },

        "0c49e567": {
            "txt": "array(\"0.014385072094996001\",\"0.015543708651808\",\"0.013177663703518002\",\"0.016174156321035\",\"0.010690287110567999\",\"0.01089304160015\",\"0.012882447665056\",\"0.013617395124094\",\"0.013046153846154\",\"0.0082155767334867\",\"0.016629711751663\",\"0.011475137202727\",\"0.023901808785530002\",\"0.022935779816514002\",\"0.0057034220532319\",\"0.0022567703109328\",\"0.0097799511002445\",\"0.0033670033670034\",\"0\",\"0.0625\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "0.014385072094996001"
                    }, {
                        "t": "l",
                        "v": "0.015543708651808"
                    }, {
                        "t": "l",
                        "v": "0.013177663703518002"
                    }, {
                        "t": "l",
                        "v": "0.016174156321035"
                    }, {
                        "t": "l",
                        "v": "0.010690287110567999"
                    }, {
                        "t": "l",
                        "v": "0.01089304160015"
                    }, {
                        "t": "l",
                        "v": "0.012882447665056"
                    }, {
                        "t": "l",
                        "v": "0.013617395124094"
                    }, {
                        "t": "l",
                        "v": "0.013046153846154"
                    }, {
                        "t": "l",
                        "v": "0.0082155767334867"
                    }, {
                        "t": "l",
                        "v": "0.016629711751663"
                    }, {
                        "t": "l",
                        "v": "0.011475137202727"
                    }, {
                        "t": "l",
                        "v": "0.023901808785530002"
                    }, {
                        "t": "l",
                        "v": "0.022935779816514002"
                    }, {
                        "t": "l",
                        "v": "0.0057034220532319"
                    }, {
                        "t": "l",
                        "v": "0.0022567703109328"
                    }, {
                        "t": "l",
                        "v": "0.0097799511002445"
                    }, {
                        "t": "l",
                        "v": "0.0033670033670034"
                    }, {
                        "t": "l",
                        "v": "0"
                    }, {
                        "t": "l",
                        "v": "0.0625"
                    }]
                }]
            }
        }

    },


    "datasources": {
        "facebookAds-01": {
            "service": "facebook_ads",
            "libraryAlias": "FacebookAdsMetricsCampaignLevel",
            "name": "Facebook Ads Metrics (Campaign Level)",
            "description": "Information on today's Facebook Ads Campaign metrics at a campaign level. Originates from the Gallery.",
            "type": "facebook",
            "format": "json",
            "refreshInterval": 14400,
            "props": {
                "endpoint_url": "https://graph.facebook.com/v2.7/{{ds.facebook_ads.accountID}}/insights?level=campaign&fields=ad_name,adset_name,campaign_name,spend,unique_clicks,cost_per_unique_click,cpm,ctr&sort=spend_descending&date_preset=today&limit=500",
                "graphUrl": "https://graph.facebook.com/v2.7/{{ds.facebook_ads.accountID}}/insights?level=campaign&fields=ad_name,adset_name,campaign_name,spend,unique_clicks,cost_per_unique_click,cpm,ctr&sort=spend_descending&date_preset=today&limit=500",
                "qtype": "Graph API"
            }
        },
        "facebookAds-02": {
            "service": "facebook_ads",
            "libraryAlias": "FacebookAdsMetricsAdSetLevel",
            "name": "Facebook Ads Metrics (Ad Set Level)",
            "description": "Information on today's Facebook Ads Campaign metrics. Originates from the Gallery.",
            "type": "facebook",
            "format": "json",
            "refreshInterval": 14400,
            "props": {
                "endpoint_url": "https://graph.facebook.com/v2.7/{{ds.facebook_ads.accountID}}/insights?level=adset&fields=ad_name,adset_name,campaign_name,spend,unique_clicks,cost_per_unique_click,cpm,ctr&sort=spend_descending&date_preset=today&limit=500",
                "graphUrl": "https://graph.facebook.com/v2.7/{{ds.facebook_ads.accountID}}/insights?level=adset&fields=ad_name,adset_name,campaign_name,spend,unique_clicks,cost_per_unique_click,cpm,ctr&sort=spend_descending&date_preset=today&limit=500",
                "qtype": "Graph API"
            }
        },
        "facebookAds-03": {
            "service": "facebook_ads",
            "libraryAlias": "FacebookAdsMetricsAdLevel",
            "name": "Facebook Ads Metrics (Ad Level)",
            "description": "Information on today's Facebook Ads Campaign metrics. Originates from the Gallery.",
            "type": "facebook",
            "format": "json",
            "refreshInterval": 14400,
            "props": {
                "endpoint_url": "https://graph.facebook.com/v2.7/{{ds.facebook_ads.accountID}}/insights?level=ad&fields=ad_name,adset_name,campaign_name,spend,unique_clicks,cost_per_unique_click,cpm,ctr&sort=spend_descending&date_preset=today&limit=500",
                "graphUrl": "https://graph.facebook.com/v2.7/{{ds.facebook_ads.accountID}}/insights?level=ad&fields=ad_name,adset_name,campaign_name,spend,unique_clicks,cost_per_unique_click,cpm,ctr&sort=spend_descending&date_preset=today&limit=500",
                "qtype": "Graph API"
            }
        }
    },

    "dsMappings": {
        "facebookAds-01": "c93879ac7b7fcb891d2fnatceewzhere",
        "facebookAds-02": "ef420090c5cf6a0d1210natceewzhere",
        "facebookAds-03": "f22a33c1ae565aa3e908natceewzhere"
    },

    "services": [{
        "service": "facebook_ads"
    }],
    "uiVariables": [{
        "name": "KTAdsObjective",
        "value": "All"
    }],
    "datasourceConfigModel": [{
        "type": "select",
        "id": "ds.facebook_ads.accountID",
        "label": "Account Name",
        "description": "Select a Facebook Ads Account Name from the list below."
    }],
    "queries": [{
        "errorMessage": "Here are two suggestions:<br><br>1. Make sure the Facebook account you signed in with includes a Facebook Ads account. <br><br>2. From time to time, your Facebook OAuth token will expire. This token allows you to safely bring your data into Klipfolio. <a href='https://support.klipfolio.com/hc/en-us/articles/215548958-OAuth-token-expired-for-connected-accounts' target='_blank'>Find out how to re-authorize your OAuth tokens</a>.",
        "connector": {
            "service": "facebook_ads",
            "type": "facebook",
            "format": "json",
            "props": {
                "endpoint_url": "https://graph.facebook.com/v2.7/me/adaccounts?fields=name,id",
                "graphUrl": "https://graph.facebook.com/v2.7/me/adaccounts?fields=name,id",
                "method": "GET",
                "qtype": "Graph API"
            }
        },
        "results": [{
            "propId": "ds.facebook_ads.accountID",
            "propField": "options",
            "labels": "/data/name",
            "values": "/data/id"
        }]
    }]
}