{
    "name": "Facebook Ads Campaign Performance by Campaigns",
    "description": "Is your campaign on budget and meeting your conversion targets? Make sure your message is reaching the right audience by monitoring your Facebook Ads campaign performance for the date range and campaign of your choice. Originates from the Gallery.",
    "sampleFormulas": {
        "41618409": {
            "txt": "\"299.88\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 299.88
                }]
            }
        },
        "61391000": {
            "txt": "\"1364\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 1364
                }]
            }
        },
        "35ca958d": {
            "txt": "array(\"23842503334270619\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "23842503334270619"
                    }]
                }]
            }
        },
        "3923eab0": {
            "txt": "array(\"Itsy Bitsy Sign Up\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "Itsy Bitsy Sign Up"
                    }]
                }]
            }
        },
        "eea52ca8": {
            "txt": "array(\"thismonth\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "thismonth"
                    }]
                }]
            }
        },
        "32c0069c": {
            "txt": "array(\"This Month\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "This Month"
                    }]
                }]
            }
        },
        "8864481c": {
            "txt": "\"20160901\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "20160901"
                }]
            }
        },
        "dcf2a5b4": {
            "txt": "\"20160929\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "20160929"
                }]
            }
        },
        "31aa538a": {
            "txt": "\"20160801\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "20160801"
                }]
            }
        },
        "7f59b874": {
            "txt": "\"20160829\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "20160829"
                }]
            }
        },
        "4ac23c5e": {
            "txt": "\"Spend\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Spend"
                }]
            }
        },
        "9cd74eb3": {
            "txt": "\"890\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "890"
                }]
            }
        },
        "010f76a2": {
            "txt": "\"1240\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "1240"
                }]
            }
        },
        "e1d927d3": {
            "txt": "\"0\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 0
                }]
            }
        },
        "4cfd94e3": {
            "txt": "\"2170\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 2170
                }]
            }
        },
        "05635731": {
            "txt": "\"0\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 0
                }]
            }
        },
        "c3feea6f": {
            "txt": "\"1116\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 1116
                }]
            }
        },
        "7f0e8bc1": {
            "txt": "\"1116\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 1116
                }]
            }
        },
        "e65116e2": {
            "txt": "\"1364\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 1364
                }]
            }
        },
        "80bbef11": {
            "txt": "\"2170\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 2170
                }]
            }
        },
        "ecf25c80": {
            "txt": "\"1145\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "1145"
                }]
            }
        },
        "2a9c67f0": {
            "txt": "\"1356.264\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 1356.264
                }]
            }
        },
        "a607fec2": {
            "txt": "\"Predicted\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Predicted"
                }]
            }
        },
        "3a1b2000": {
            "txt": "\"Previous\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Previous"
                }]
            }
        },
        "64684c4a-1": {
            "txt": "\"Monthly Budget: \"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Monthly Budget: "
                }]
            }
        },
        "92d4f05d": {
            "txt": "\"Conversions\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Conversions"
                }]
            }
        },
        "0374acf7": {
            "txt": "\"15.904\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 15.904
                }]
            }
        },
        "0b504a4c": {
            "txt": "\"100\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "100"
                }]
            }
        },
        "3250ee7c": {
            "txt": "\"0\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "0"
                }]
            }
        },
        "6bfaa5a0": {
            "txt": "\"175\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 175
                }]
            }
        },
        "24e7f2d0": {
            "txt": "\"0\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "0"
                }]
            }
        },
        "028d9b69": {
            "txt": "\"90\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 90
                }]
            }
        },
        "6a8dfd63": {
            "txt": "\"90\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 90
                }]
            }
        },
        "25df001e": {
            "txt": "\"110.00000000000001\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 110.00000000000001
                }]
            }
        },
        "a3e14626": {
            "txt": "\"110.00000000000001\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 110.00000000000001
                }]
            }
        },
        "414a9083": {
            "txt": "\"175\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 175
                }]
            }
        },
        "a99c0138": {
            "txt": "\"115\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "115"
                }]
            }
        },
        "ad65566b": {
            "txt": "\"Predicted\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Predicted"
                }]
            }
        },
        "1b686101": {
            "txt": "\"Previous\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Previous"
                }]
            }
        },
        "8ec48b94-2": {
            "txt": "\"Monthly Target: \"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Monthly Target: "
                }]
            }
        },
        "a35ccfcb-2": {
            "txt": "array(\"5.8500000000000005\",\"8.55\",\"16.2\",\"16.650000000000002\",\"18\",\"19.35\",\"14.85\",\"18.900000000000002\",\"11.700000000000001\",\"9.450000000000001\",\"9\",\"13.950000000000001\",\"9.9\",\"15.75\",\"9.450000000000001\",\"7.65\",\"5.8500000000000005\",\"6.3\",\"25.2\",\"83.25\",\"100.35000000000001\",\"66.60000000000001\",\"36.9\",\"30.150000000000002\",\"30.6\",\"54.45\",\"49.5\",\"76.95\",\"45\",\"0\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": 5.8500000000000005
                    }, {
                        "t": "l",
                        "v": 8.55
                    }, {
                        "t": "l",
                        "v": 16.2
                    }, {
                        "t": "l",
                        "v": 16.650000000000002
                    }, {
                        "t": "l",
                        "v": 18
                    }, {
                        "t": "l",
                        "v": 19.35
                    }, {
                        "t": "l",
                        "v": 14.85
                    }, {
                        "t": "l",
                        "v": 18.900000000000002
                    }, {
                        "t": "l",
                        "v": 11.700000000000001
                    }, {
                        "t": "l",
                        "v": 9.450000000000001
                    }, {
                        "t": "l",
                        "v": 9
                    }, {
                        "t": "l",
                        "v": 13.950000000000001
                    }, {
                        "t": "l",
                        "v": 9.9
                    }, {
                        "t": "l",
                        "v": 15.75
                    }, {
                        "t": "l",
                        "v": 9.450000000000001
                    }, {
                        "t": "l",
                        "v": 7.65
                    }, {
                        "t": "l",
                        "v": 5.8500000000000005
                    }, {
                        "t": "l",
                        "v": 6.3
                    }, {
                        "t": "l",
                        "v": 25.2
                    }, {
                        "t": "l",
                        "v": 83.25
                    }, {
                        "t": "l",
                        "v": 100.35000000000001
                    }, {
                        "t": "l",
                        "v": 66.60000000000001
                    }, {
                        "t": "l",
                        "v": 36.9
                    }, {
                        "t": "l",
                        "v": 30.150000000000002
                    }, {
                        "t": "l",
                        "v": 30.6
                    }, {
                        "t": "l",
                        "v": 54.45
                    }, {
                        "t": "l",
                        "v": 49.5
                    }, {
                        "t": "l",
                        "v": 76.95
                    }, {
                        "t": "l",
                        "v": 45
                    }, {
                        "t": "l",
                        "v": 0
                    }]
                }]
            }
        },
        "8d2156d8-3": {
            "txt": "\"26\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 26
                }]
            }
        },
        "691e3b71": {
            "txt": "\"Cost per Conversion\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Cost per Conversion"
                }]
            }
        },
        "10d36fb8": {
            "txt": "\"12.5\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "12.5"
                }]
            }
        },
        "b83b26bb": {
            "txt": "\"10.0\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "10.0"
                }]
            }
        },
        "0a11d4e2": {
            "txt": "\"0\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "0"
                }]
            }
        },
        "f0172fe4": {
            "txt": "\"17.5\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 17.5
                }]
            }
        },
        "0b2f7814": {
            "txt": "\"0\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "0"
                }]
            }
        },
        "2bfa49df": {
            "txt": "\"9\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 9
                }]
            }
        },
        "8e93c2f5": {
            "txt": "\"9\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 9
                }]
            }
        },
        "8cf63807": {
            "txt": "\"11\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 11
                }]
            }
        },
        "49390c25": {
            "txt": "\"11\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 11
                }]
            }
        },
        "8bb8ed1c": {
            "txt": "\"17.5\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 17.5
                }]
            }
        },
        "91c39bab": {
            "txt": "\"10.7\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "10.7"
                }]
            }
        },
        "49b1e8be": {
            "txt": "\"Previous\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Previous"
                }]
            }
        },
        "e9f44ee1-1": {
            "txt": "\"Target: \"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Target: "
                }]
            }
        },
        "8f3fc26e-5": {
            "txt": "array(\"74.68784615384614\",\"50.131052631578946\",\"38.08\",\"33.95189189189189\",\"31.6442\",\"29.02590697674418\",\"37.80678787878787\",\"30.161999999999995\",\"30.193153846153848\",\"33.28066666666666\",\"37.8504\",\"31.14322580645161\",\"46.20890909090909\",\"45.2496\",\"54.92799999999999\",\"49.821058823529405\",\"46.12676923076923\",\"43.524\",\"28.09925\",\"24.857718918918916\",\"31.015210762331833\",\"42.26306756756757\",\"37.68629268292683\",\"32.4315223880597\",\"35.590676470588235\",\"35.494280991735536\",\"52.785472727272726\",\"50.81476023391812\",\"42.40642\",\"0\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": 74.68784615384614
                    }, {
                        "t": "l",
                        "v": 50.131052631578946
                    }, {
                        "t": "l",
                        "v": 38.08
                    }, {
                        "t": "l",
                        "v": 33.95189189189189
                    }, {
                        "t": "l",
                        "v": 31.6442
                    }, {
                        "t": "l",
                        "v": 29.02590697674418
                    }, {
                        "t": "l",
                        "v": 37.80678787878787
                    }, {
                        "t": "l",
                        "v": 30.161999999999995
                    }, {
                        "t": "l",
                        "v": 30.193153846153848
                    }, {
                        "t": "l",
                        "v": 33.28066666666666
                    }, {
                        "t": "l",
                        "v": 37.8504
                    }, {
                        "t": "l",
                        "v": 31.14322580645161
                    }, {
                        "t": "l",
                        "v": 46.20890909090909
                    }, {
                        "t": "l",
                        "v": 45.2496
                    }, {
                        "t": "l",
                        "v": 54.92799999999999
                    }, {
                        "t": "l",
                        "v": 49.821058823529405
                    }, {
                        "t": "l",
                        "v": 46.12676923076923
                    }, {
                        "t": "l",
                        "v": 43.524
                    }, {
                        "t": "l",
                        "v": 28.09925
                    }, {
                        "t": "l",
                        "v": 24.857718918918916
                    }, {
                        "t": "l",
                        "v": 31.015210762331833
                    }, {
                        "t": "l",
                        "v": 42.26306756756757
                    }, {
                        "t": "l",
                        "v": 37.68629268292683
                    }, {
                        "t": "l",
                        "v": 32.4315223880597
                    }, {
                        "t": "l",
                        "v": 35.590676470588235
                    }, {
                        "t": "l",
                        "v": 35.494280991735536
                    }, {
                        "t": "l",
                        "v": 52.785472727272726
                    }, {
                        "t": "l",
                        "v": 50.81476023391812
                    }, {
                        "t": "l",
                        "v": 42.40642
                    }, {
                        "t": "l",
                        "v": 0
                    }]
                }]
            }
        },
        "3c07895e-6": {
            "txt": "\"627.505\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 627.505
                }]
            }
        }
    },
    "datasources": {
        "facebookAds-01": {
            "service": "facebook_ads",
            "libraryAlias": "FacebookAdsCampaigns",
            "name": "Facebook Ads Campaigns",
            "description": "Retrieve the list of campaigns in your Facebook Ads account. Originates from the Gallery.",
            "type": "facebook",
            "format": "json",
            "refreshInterval": 14400,
            "props": {
                "endpoint_url": "https://graph.facebook.com/v2.7/{{ds.facebook_ads.accountId}}/campaigns?fields=id,name,created_time,updated_time,effective_status&limit=100",
                "graphUrl": "https://graph.facebook.com/v2.7/{{ds.facebook_ads.accountId}}/campaigns?fields=id,name,created_time,updated_time,effective_status&limit=100",
                "qtype": "Graph API"
            }
        },
        "facebookAds-02": {
            "service": "facebook_ads",
            "libraryAlias": "FacebookAdsCampaignAdsetsBudget",
            "name": "Facebook Ads Campaign Adsets Budgets",
            "description": "Retrieve the budget details of the Adsets for a selected Facebook Ads Campaign. Originates from the Gallery.",
            "type": "facebook",
            "format": "json",
            "refreshInterval": 14400,
            "props": {
                "endpoint_url": "https://graph.facebook.com/v2.7/{props.fbAdsCampaign}/adsets?fields=id,name,lifetime_budget,daily_budget,budget_remaining",
                "graphUrl": "https://graph.facebook.com/v2.7/{props.fbAdsCampaign}/adsets?fields=id,name,lifetime_budget,daily_budget,budget_remaining",
                "qtype": "Graph API"
            }
        },
        "facebookAds-03": {
            "service": "facebook_ads",
            "libraryAlias": "FacebookAdsCampaignMetrics",
            "name": "Facebook Ads Campaign Metrics",
            "description": "Retrieve the daily metrics of a selected Facebook Ads Campaign for the last 93 days. Originates from the Gallery.",
            "type": "facebook",
            "format": "json",
            "refreshInterval": 14400,
            "props": {
                "endpoint_url": "https://graph.facebook.com/v2.7/{props.fbAdsCampaign}/insights?time_range[since]={date.add(-93).format('yyyy-MM-dd')}&time_range[until]={date.today}&time_increment=1&fields=spend,actions,ctr,clicks,impressions&limit=100",
                "graphUrl": "https://graph.facebook.com/v2.7/{props.fbAdsCampaign}/insights?time_range[since]={date.add(-93).format('yyyy-MM-dd')}&time_range[until]={date.today}&time_increment=1&fields=spend,actions,ctr,clicks,impressions&limit=100",
                "qtype": "Graph API"
            }
        }
    },
    "services": [{
        "service": "facebook_ads"
    }],
    "dsMappings": {
        "facebookAds-01": "fa2a9329eef7f49b4224KavyaMallur9",
        "facebookAds-02": "cdc44fe3998b314d6b57KavyaMallur9",
        "facebookAds-03": "0f71f4cecc6e7f515ee7KavyaMallur9"
    },
    "uiVariables": [{
        "name": "fbAdsPeriod",
        "value": "thismonth"
    }, {
        "name": "fbAdsConversionTarget",
        "value": " "
    }, {
        "name": "fbAdsCPConversionTarget",
        "value": " "
    }, {
        "name": "fbAdsSpendBudget",
        "value": " "
    }, {
        "name": "fbAdsCampaign",
        "value": "{{ds.facebook_ads.campaignId}}"
    }],
    "datasourceConfigModel": [{
        "type": "select",
        "id": "ds.facebook_ads.accountId",
        "label": "Account",
        "description": "Select a Facebook Ads account, and then a corresponding campaign.",
        "isRequired": true,
        "onChangeQueries": ["q2"]
    }, {
        "type": "select",
        "id": "ds.facebook_ads.campaignId",
        "label": "Campaign",
        "isRequired": true
    }],
    "queries": [{
        "errorMessage": "Here are two suggestions:<br><br>1. Make sure the Facebook account you signed in with includes a Facebook Ads account. <br><br>2. From time to time, your Facebook OAuth token will expire. This token allows you to safely bring your data into Klipfolio. <a href='https://support.klipfolio.com/hc/en-us/articles/215548958-OAuth-token-expired-for-connected-accounts' target='_blank'>Find out how to re-authorize your OAuth tokens</a>.",
        "connector": {
            "service": "facebook_ads",
            "type": "facebook",
            "format": "json",
            "props": {
                "endpoint_url": "https://graph.facebook.com/v2.7/me/adaccounts?fields=id,name",
                "method": "GET",
                "qtype": "Graph API"
            }
        },
        "results": [{
            "propId": "ds.facebook_ads.accountId",
            "propField": "options",
            "labels": "/data/name",
            "values": "/data/id"
        }]
    }, {
        "id": "q2",
        "connector": {
            "service": "facebook_ads",
            "type": "facebook",
            "format": "json",
            "props": {
                "endpoint_url": "https://graph.facebook.com/v2.7/{{ds.facebook_ads.accountId}}/campaigns?fields=id,name,created_time,updated_time,effective_status&limit=100",
                "method": "GET"
            }
        },
        "results": [{
            "propId": "ds.facebook_ads.campaignId",
            "propField": "options",
            "labels": "/data/name",
            "values": "/data/id"
        }]
    }]
}