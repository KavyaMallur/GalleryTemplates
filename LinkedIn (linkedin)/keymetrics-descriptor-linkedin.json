{
    "name": "LinkedIn Key Metrics (Last 30 Days)",
    "description": "Use this sophisticated Klip to compare your key LinkedIn metrics last 30 days to the previous 30 days, and display the trends over time.<br>Originates from the Gallery. (v1.1)",
    "sampleFormulas": {
        "212ce8b5": {
            "txt": "array(\"Clicks\",\"Likes\",\"Shares\",\"Followers\",\"New Followers\",\"Impressions\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "Clicks"
                    }, {
                        "t": "l",
                        "v": "Likes"
                    }, {
                        "t": "l",
                        "v": "Shares"
                    }, {
                        "t": "l",
                        "v": "Followers"
                    }, {
                        "t": "l",
                        "v": "New Followers"
                    }, {
                        "t": "l",
                        "v": "Impressions"
                    }]
                }]
            }
        },
        "fb840e66": {
            "txt": "array(\"1197\",\"602\",\"77\",\"11802\",\"364\",\"163786\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": 1197
                    }, {
                        "t": "l",
                        "v": 602
                    }, {
                        "t": "l",
                        "v": 77
                    }, {
                        "t": "l",
                        "v": 11802
                    }, {
                        "t": "l",
                        "v": 364
                    }, {
                        "t": "l",
                        "v": 163786
                    }]
                }]
            }
        },
        "617e0185": {
            "txt": "array(\"1273.0,1197.0,1273.0\",\"510.0,602.0,602.0\",\"105.0,77.0,105.0\",\"11438.0,11802.0,11802.0\",\"306.0,364.0,364.0\",\"114130.0,163786.0,163786.0\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "1273.0,1197.0,1273.0"
                    }, {
                        "t": "l",
                        "v": "510.0,602.0,602.0"
                    }, {
                        "t": "l",
                        "v": "105.0,77.0,105.0"
                    }, {
                        "t": "l",
                        "v": "11438.0,11802.0,11802.0"
                    }, {
                        "t": "l",
                        "v": "306.0,364.0,364.0"
                    }, {
                        "t": "l",
                        "v": "114130.0,163786.0,163786.0"
                    }]
                }]
            }
        },
        "e66fcb8d": {
            "txt": "\"\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": ""
                }]
            }
        },
        "d4c525fb": {
            "txt": "array(\"1273\",\"510\",\"105\",\"11438\",\"306\",\"114130\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": 1273
                    }, {
                        "t": "l",
                        "v": 510
                    }, {
                        "t": "l",
                        "v": 105
                    }, {
                        "t": "l",
                        "v": 11438
                    }, {
                        "t": "l",
                        "v": 306
                    }, {
                        "t": "l",
                        "v": 114130
                    }]
                }]
            }
        },
        "c8856f01-1": {
            "txt": "array(\"14.0,7.0,70.0,140.0,14.0,0.0,7.0,0.0,0.0,84.0,56.0,21.0,14.0,14.0,7.0,7.0,42.0,14.0,21.0,28.0,0.0,105.0,84.0,84.0,84.0,84.0,91.0,21.0,42.0,42.0\",\"0.0,0.0,21.0,63.0,0.0,0.0,0.0,0.0,7.0,70.0,28.0,0.0,28.0,0.0,0.0,14.0,14.0,14.0,21.0,14.0,7.0,35.0,49.0,35.0,42.0,21.0,42.0,7.0,42.0,28.0\",\"0.0,0.0,0.0,14.0,0.0,0.0,0.0,0.0,0.0,7.0,0.0,0.0,7.0,0.0,0.0,0.0,0.0,0.0,7.0,0.0,0.0,7.0,7.0,7.0,14.0,7.0,0.0,0.0,0.0,0.0\",\"11438.0,11445.0,11445.0,11459.0,11480.0,11494.0,11508.0,11501.0,11494.0,11522.0,11536.0,11550.0,11571.0,11578.0,11585.0,11599.0,11613.0,11648.0,11648.0,11669.0,11683.0,11690.0,11725.0,11732.0,11767.0,11774.0,11774.0,11788.0,11795.0,11795.0,11802.0\",\"7.0,0.0,14.0,21.0,14.0,14.0,-7.0,-7.0,28.0,14.0,14.0,21.0,7.0,7.0,14.0,14.0,35.0,0.0,21.0,14.0,7.0,35.0,7.0,35.0,7.0,0.0,14.0,7.0,0.0,7.0\",\"2569.0,1645.0,7189.0,8141.0,3017.0,1449.0,1680.0,3157.0,1995.0,8001.0,7952.0,4914.0,2856.0,1596.0,1561.0,2618.0,4270.0,3864.0,4578.0,2870.0,1736.0,11018.0,11151.0,12495.0,10843.0,9058.0,8155.0,7756.0,8260.0,7392.0\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "14.0,7.0,70.0,140.0,14.0,0.0,7.0,0.0,0.0,84.0,56.0,21.0,14.0,14.0,7.0,7.0,42.0,14.0,21.0,28.0,0.0,105.0,84.0,84.0,84.0,84.0,91.0,21.0,42.0,42.0"
                    }, {
                        "t": "l",
                        "v": "0.0,0.0,21.0,63.0,0.0,0.0,0.0,0.0,7.0,70.0,28.0,0.0,28.0,0.0,0.0,14.0,14.0,14.0,21.0,14.0,7.0,35.0,49.0,35.0,42.0,21.0,42.0,7.0,42.0,28.0"
                    }, {
                        "t": "l",
                        "v": "0.0,0.0,0.0,14.0,0.0,0.0,0.0,0.0,0.0,7.0,0.0,0.0,7.0,0.0,0.0,0.0,0.0,0.0,7.0,0.0,0.0,7.0,7.0,7.0,14.0,7.0,0.0,0.0,0.0,0.0"
                    }, {
                        "t": "l",
                        "v": "11438.0,11445.0,11445.0,11459.0,11480.0,11494.0,11508.0,11501.0,11494.0,11522.0,11536.0,11550.0,11571.0,11578.0,11585.0,11599.0,11613.0,11648.0,11648.0,11669.0,11683.0,11690.0,11725.0,11732.0,11767.0,11774.0,11774.0,11788.0,11795.0,11795.0,11802.0"
                    }, {
                        "t": "l",
                        "v": "7.0,0.0,14.0,21.0,14.0,14.0,-7.0,-7.0,28.0,14.0,14.0,21.0,7.0,7.0,14.0,14.0,35.0,0.0,21.0,14.0,7.0,35.0,7.0,35.0,7.0,0.0,14.0,7.0,0.0,7.0"
                    }, {
                        "t": "l",
                        "v": "2569.0,1645.0,7189.0,8141.0,3017.0,1449.0,1680.0,3157.0,1995.0,8001.0,7952.0,4914.0,2856.0,1596.0,1561.0,2618.0,4270.0,3864.0,4578.0,2870.0,1736.0,11018.0,11151.0,12495.0,10843.0,9058.0,8155.0,7756.0,8260.0,7392.0"
                    }]
                }]
            }
        },
        "639a041e": {
            "txt": "\"Engagement\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Engagement"
                }]
            }
        },
        "d44578e7": {
            "txt": "\"0.011453970424822634\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 0.011453970424822634
                }]
            }
        },
        "c1aa7221": {
            "txt": "\"0.01251705448673818,0.011453970424822634,0.01251705448673818\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "0.01251705448673818,0.011453970424822634,0.01251705448673818"
                }]
            }
        },
        "719134a4": {
            "txt": "\"\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": ""
                }]
            }
        },
        "d46d9467": {
            "txt": "\"0.01251705448673818\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": 0.01251705448673818
                }]
            }
        },
        "acba32b8-3": {
            "txt": "\"0.005449591280653951,0.00425531914893617,0.012658227848101266,0.026655202063628546,0.004640371229698376,0.0,0.004166666666666667,0.0,0.0035087719298245615,0.020122484689413824,0.01056338028169014,0.004273504273504274,0.01715686274509804,0.008771929824561403,0.004484304932735426,0.008021390374331552,0.013114754098360656,0.007246376811594203,0.010703363914373088,0.014634146341463415,0.004032258064516129,0.013341804320203304,0.012554927809165096,0.010084033613445379,0.012911555842479019,0.012364760432766615,0.01630901287553648,0.0036101083032490976,0.010169491525423728,0.00946969696969697\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "0.005449591280653951,0.00425531914893617,0.012658227848101266,0.026655202063628546,0.004640371229698376,0.0,0.004166666666666667,0.0,0.0035087719298245615,0.020122484689413824,0.01056338028169014,0.004273504273504274,0.01715686274509804,0.008771929824561403,0.004484304932735426,0.008021390374331552,0.013114754098360656,0.007246376811594203,0.010703363914373088,0.014634146341463415,0.004032258064516129,0.013341804320203304,0.012554927809165096,0.010084033613445379,0.012911555842479019,0.012364760432766615,0.01630901287553648,0.0036101083032490976,0.010169491525423728,0.00946969696969697"
                }]
            }
        }
    },
    "datasources": {
        "linkedin-01": {
            "service": "linkedin",
            "libraryAlias": "LinkedInHistoricalUpdateStats(Last30Days)",
            "name": "LinkedIn Historical Update Stats (Last 30 Days)",
            "description": "LinkedIn company historical update statistics for the past 30 days. Originates from the Gallery.",
            "type": "simple_rest",
            "format": "json",
            "refreshInterval": 14400,
            "props": {
                "endpoint_url": "http://api.linkedin.com/v1/companies/{{ds.linkedin.companyId}}/historical-status-update-statistics:(time,like-count,impression-count,click-count,comment-count,share-count,engagement,unique-count)?format=json&time-granularity=day&start-timestamp={date.add(-30).format('epochTime')}000&end-timestamp={date.yesterday.format('epochTime')}000",
                "method": "get"
            }
        },
        "linkedin-02": {
            "service": "linkedin",
            "libraryAlias": "LinkedInHistoricalUpdateStats(Prev30Days)",
            "name": "LinkedIn Historical Update Stats (Prev 30 Days)",
            "description": "LinkedIn company historical update statistics for the previous 30 days. Originates from the Gallery.",
            "type": "simple_rest",
            "format": "json",
            "refreshInterval": 14400,
            "props": {
                "endpoint_url": "http://api.linkedin.com/v1/companies/{{ds.linkedin.companyId}}/historical-status-update-statistics:(time,like-count,impression-count,click-count,comment-count,share-count,engagement,unique-count)?format=json&time-granularity=day&start-timestamp={date.add(-60).format('epochTime')}000&end-timestamp={date.add(-31).format('epochTime')}000",
                "method": "get"
            }
        },
        "linkedin-03": {
            "service": "linkedin",
            "libraryAlias": "LinkedInHistoricalFollowerStats(Last31Days)",
            "name": "LinkedIn Historical Follower Stats (Last 31 Days)",
            "description": "LinkedIn company historical follower statistics for the past 31 days. Originates from the Gallery.",
            "type": "simple_rest",
            "format": "json",
            "refreshInterval": 14400,
            "props": {
                "endpoint_url": "http://api.linkedin.com/v1/companies/{{ds.linkedin.companyId}}/historical-follow-statistics?format=json&time-granularity=day&start-timestamp={date.add(-31).format('epochTime')}000&end-timestamp={date.yesterday.format('epochTime')}000",
                "method": "get"
            }
        },
        "linkedin-04": {
            "service": "linkedin",
            "libraryAlias": "LinkedInHistoricalFollowerStats(Prev31Days)",
            "name": "LinkedIn Historical Follower Stats (Prev 31 Days)",
            "description": "LinkedIn company historical follower statistics for the previous 31 days. Originates from the Gallery.",
            "type": "simple_rest",
            "format": "json",
            "refreshInterval": 14400,
            "props": {
                "endpoint_url": "http://api.linkedin.com/v1/companies/{{ds.linkedin.companyId}}/historical-follow-statistics?format=json&time-granularity=day&start-timestamp={date.add(-61).format('epochTime')}000&end-timestamp={date.add(-31).format('epochTime')}000",
                "method": "get"
            }
        }
    },

    "dsMappings": {
        "linkedin-01": "c328b5ab86b6c974c2fadoogeraspilk",
        "linkedin-02": "c468b7813c39204c0ebedoogeraspilk",
        "linkedin-03": "9caf33b080c2c6e1c053doogeraspilk",
        "linkedin-04": "12ed3d687eabd2232c37doogeraspilk"
    },

    "services": [{
        "service": "linkedin"
    }],

    "datasourceConfigModel": [{
        "type": "select",
        "id": "ds.linkedin.companyId",
        "label": "Company Page",
        "description": "Select a LinkedIn Company Page from the drop-down list.",
        "isRequired": true
    }],
    "queries": [{
        "errorMessage": "Here are two suggestions:<br><br>1. Make sure you have admin access to a LinkedIn Company Page. <br><br>2. From time to time, your LinkedIn OAuth token will expire. This token allows you to safely bring your data into Klipfolio. <a href='https://support.klipfolio.com/hc/en-us/articles/215548958-OAuth-token-expired-for-connected-accounts' target='_blank'>Find out how to re-authorize your OAuth tokens</a>.",
        "connector": {
            "service": "linkedin",
            "type": "simple_rest",
            "format": "json",
            "props": {
                "endpoint_url": "https://api.linkedin.com/v1/companies?is-company-admin=true&format=json",
                "method": "GET"
            }
        },
        "results": [{
            "propId": "ds.linkedin.companyId",
            "propField": "options",
            "labels": "/values/name",
            "values": "/values/id"
        }]
    }]
}
