{
    "name": "AdWords Basic Performance (Last 30 Days)",
    "description": "Make sure your website visitors from each of your AdWords campaigns are having a positive first impression. Originates from the Gallery.",
    "sampleFormulas": {
        "d3bc6e63-2": {
            "txt": "array(\"Account Subscription\",\"Remarketing - Content Download\",\"Trial Sign Up\",\"Social Media Support\",\"Content Download\",\"Explainer Video Ads\",\"Hackathon\",\"Remarketing - Trial Target\",\"Social Marketing\",\"Snap Development\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "Account Subscription"
                    }, {
                        "t": "l",
                        "v": "Remarketing - Content Download"
                    }, {
                        "t": "l",
                        "v": "Trial Sign Up"
                    }, {
                        "t": "l",
                        "v": "Social Media Support"
                    }, {
                        "t": "l",
                        "v": "Content Download"
                    }, {
                        "t": "l",
                        "v": "Explainer Video Ads"
                    }, {
                        "t": "l",
                        "v": "Hackathon"
                    }, {
                        "t": "l",
                        "v": "Remarketing - Trial Target"
                    }, {
                        "t": "l",
                        "v": "Social Marketing"
                    }, {
                        "t": "l",
                        "v": "Snap Development"
                    }]
                }]
            }
        },
        "30fe0427-4": {
            "txt": "array(\"34324.5\",\"28518\",\"20181\",\"16849\",\"16229.5\",\"16215.5\",\"15893.5\",\"13482\",\"9030\",\"8288\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "34324.5"
                    }, {
                        "t": "l",
                        "v": "28518"
                    }, {
                        "t": "l",
                        "v": "20181"
                    }, {
                        "t": "l",
                        "v": "16849"
                    }, {
                        "t": "l",
                        "v": "16229.5"
                    }, {
                        "t": "l",
                        "v": "16215.5"
                    }, {
                        "t": "l",
                        "v": "15893.5"
                    }, {
                        "t": "l",
                        "v": "13482"
                    }, {
                        "t": "l",
                        "v": "9030"
                    }, {
                        "t": "l",
                        "v": "8288"
                    }]
                }]
            }
        },
        "e6bf5828-6": {
            "txt": "array(\"122.5\",\"55\",\"187.5\",\"70\",\"725\",\"57.5\",\"345\",\"197.5\",\"50\",\"15\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "122.5"
                    }, {
                        "t": "l",
                        "v": "55"
                    }, {
                        "t": "l",
                        "v": "187.5"
                    }, {
                        "t": "l",
                        "v": "70"
                    }, {
                        "t": "l",
                        "v": "725"
                    }, {
                        "t": "l",
                        "v": "57.5"
                    }, {
                        "t": "l",
                        "v": "345"
                    }, {
                        "t": "l",
                        "v": "197.5"
                    }, {
                        "t": "l",
                        "v": "50"
                    }, {
                        "t": "l",
                        "v": "15"
                    }]
                }]
            }
        },
        "a8d845da-8": {
            "txt": "array(\"0.0111\",\"0.0057\",\"0.033\",\"0.0157\",\"0.149\",\"0.0109\",\"0.0766\",\"0.0457\",\"0.0066\",\"0.007\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "0.0111"
                    }, {
                        "t": "l",
                        "v": "0.0057"
                    }, {
                        "t": "l",
                        "v": "0.033"
                    }, {
                        "t": "l",
                        "v": "0.0157"
                    }, {
                        "t": "l",
                        "v": "0.149"
                    }, {
                        "t": "l",
                        "v": "0.0109"
                    }, {
                        "t": "l",
                        "v": "0.0766"
                    }, {
                        "t": "l",
                        "v": "0.0457"
                    }, {
                        "t": "l",
                        "v": "0.0066"
                    }, {
                        "t": "l",
                        "v": "0.007"
                    }]
                }]
            }
        },
        "16bc5a1f-3": {
            "txt": "array(\"3.2694\",\"3.2959\",\"3.2432\",\"3.0976\",\"4.0476\",\"3.1646\",\"3.2672\",\"3.3122\",\"3.7691\",\"3.0541\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "3.2694"
                    }, {
                        "t": "l",
                        "v": "3.2959"
                    }, {
                        "t": "l",
                        "v": "3.2432"
                    }, {
                        "t": "l",
                        "v": "3.0976"
                    }, {
                        "t": "l",
                        "v": "4.0476"
                    }, {
                        "t": "l",
                        "v": "3.1646"
                    }, {
                        "t": "l",
                        "v": "3.2672"
                    }, {
                        "t": "l",
                        "v": "3.3122"
                    }, {
                        "t": "l",
                        "v": "3.7691"
                    }, {
                        "t": "l",
                        "v": "3.0541"
                    }]
                }]
            }
        },
        "406b468a-10": {
            "txt": "array(\"0.8197\",\"0.8181\",\"0.8214\",\"0.8553\",\"0.7037\",\"0.8368\",\"0.7906\",\"0.7979\",\"0.7446\",\"0.8582\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "0.8197"
                    }, {
                        "t": "l",
                        "v": "0.8181"
                    }, {
                        "t": "l",
                        "v": "0.8214"
                    }, {
                        "t": "l",
                        "v": "0.8553"
                    }, {
                        "t": "l",
                        "v": "0.7037"
                    }, {
                        "t": "l",
                        "v": "0.8368"
                    }, {
                        "t": "l",
                        "v": "0.7906"
                    }, {
                        "t": "l",
                        "v": "0.7979"
                    }, {
                        "t": "l",
                        "v": "0.7446"
                    }, {
                        "t": "l",
                        "v": "0.8582"
                    }]
                }]
            }
        },
        "92fc129a-1": {
            "txt": "array(\"610.3508\",\"343.1885\",\"426.0611\",\"330.0718\",\"214.5837\",\"720.5244\",\"522.1804\",\"430.9796\",\"185.2014\",\"261.7553\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "610.3508"
                    }, {
                        "t": "l",
                        "v": "343.1885"
                    }, {
                        "t": "l",
                        "v": "426.0611"
                    }, {
                        "t": "l",
                        "v": "330.0718"
                    }, {
                        "t": "l",
                        "v": "214.5837"
                    }, {
                        "t": "l",
                        "v": "720.5244"
                    }, {
                        "t": "l",
                        "v": "522.1804"
                    }, {
                        "t": "l",
                        "v": "430.9796"
                    }, {
                        "t": "l",
                        "v": "185.2014"
                    }, {
                        "t": "l",
                        "v": "261.7553"
                    }]
                }]
            }
        }
    },
    "datasources": {
        "googleAnalytics": {
            "service": "google_analytics",
            "libraryAlias": "GoogleAnalyticsAdWordsBasicPerformanceLast30Days",
            "name": "Google Analytics AdWords Basic Performance (Last 30 Days)",
            "description": "Retrieve basic Google AdWords metrics on your campaign performance through Google Analytics. Originates from the Gallery.",
            "type": "google_analytics",
            "format": "csv",
            "refreshInterval": 14400,
            "props": {
                "endpoint_url": "https://www.googleapis.com/analytics/v3/data/ga?ids=ga:{{ds.google_analytics.profileId}}&metrics=ga:users,ga:sessions,ga:bounceRate,ga:goalCompletionsAll,ga:goalConversionRateAll,ga:pageviewsPerSession,ga:avgTimeOnPage&dimensions=ga:campaign,ga:adwordsCampaignID&filters=ga%3AadwordsCampaignID!%3D(not%20set)&start-date={date.add(-30).format()}&end-date={date.yesterday}&max-results=10000",
                "max_pages": "1",
                "mode": "Simple",
                "profile": "{{ds.google_analytics.profileId}}",
                "timePeriod": "&start-date={date.add(-30).format()}&end-date={date.yesterday}"
            }
        }
    },
    "dsMappings": {
        "googleAnalytics": "d8c45df853cf2bf60e60doogeraspilk"
    },
    "services": [{
        "service": "google_analytics"
    }],
    "datasourceConfigModel": [{
        "type": "select",
        "id": "ds.google_analytics.profileId",
        "label": "Analytics Account",
        "description": "Select an Analytics Account from the drop-down list.",
        "isRequired": true
    }],
    "queries": [{
        "errorMessage": "Here are two suggestions:<br><br>1. Make sure you have access to your company's Google Analytics account. <br><br>2. From time to time, your Google OAuth token will expire. This token allows you to safely bring your data into Klipfolio. <a href='http://klipfolio.uservoice.com/knowledgebase/articles/404228-oauth-token-expired' target='_blank'>Find out how to re-authorize your OAuth tokens</a>.",
        "connector": {
            "service": "google_analytics",
            "type": "simple_rest",
            "format": "json",
            "props": {
                "endpoint_url": "https://www.googleapis.com/analytics/v3/management/accounts/~all/webproperties/~all/profiles?fields=items(id%2Cname%2Cpermissions%2CwebPropertyId%2CwebsiteUrl)",
                "method": "GET"
            }
        },
        "results": [{
            "propId": "ds.google_analytics.profileId",
            "propField": "options",
            "labels": "/items/name",
            "values": "/items/id"
        }]
    }]
}
