{
    "name": "Google Analytics Landing Page Views",
    "description": "Your landing page is the backbone of your marketing campaign. Make sure people are seeing it by tracking views this month-to-date in the same visualization as last month's views and your target.  Originates from the Gallery.",
    "sampleFormulas": {
        "4ca5efec-7": {
            "txt": "\"/ItsyBitsyProductPricing\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "/ItsyBitsyProductPricing"
                }]
            }
        },
        "b5ba4b5a": {
            "txt": "\"11000\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "11000"
                }]
            }
        },
        "ea23f402-2": {
            "txt": "array(\"349.58\",\"821.74\",\"1466.42\",\"1970.3600000000001\",\"2537.86\",\"2887.44\",\"3046.34\",\"3282.42\",\"3799.98\",\"4326.62\",\"5084.8\",\"5675\",\"6224.34\",\"6306.06\",\"6469.5\",\"7105.1\",\"7908.68\",\"8544.28\",\"9411.42\",\"9851.8\",\"10106.04\",\"10487.4\",\"11073.06\",\"11799.460000000001\",\"12771.02\",\"13679.02\",\"14405.42\",\"14868.5\",\"15249.86\",\"15971.72\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": 349.58
                    }, {
                        "t": "l",
                        "v": 821.74
                    }, {
                        "t": "l",
                        "v": 1466.42
                    }, {
                        "t": "l",
                        "v": 1970.3600000000001
                    }, {
                        "t": "l",
                        "v": 2537.86
                    }, {
                        "t": "l",
                        "v": 2887.44
                    }, {
                        "t": "l",
                        "v": 3046.34
                    }, {
                        "t": "l",
                        "v": 3282.42
                    }, {
                        "t": "l",
                        "v": 3799.98
                    }, {
                        "t": "l",
                        "v": 4326.62
                    }, {
                        "t": "l",
                        "v": 5084.8
                    }, {
                        "t": "l",
                        "v": 5675
                    }, {
                        "t": "l",
                        "v": 6224.34
                    }, {
                        "t": "l",
                        "v": 6306.06
                    }, {
                        "t": "l",
                        "v": 6469.5
                    }, {
                        "t": "l",
                        "v": 7105.1
                    }, {
                        "t": "l",
                        "v": 7908.68
                    }, {
                        "t": "l",
                        "v": 8544.28
                    }, {
                        "t": "l",
                        "v": 9411.42
                    }, {
                        "t": "l",
                        "v": 9851.8
                    }, {
                        "t": "l",
                        "v": 10106.04
                    }, {
                        "t": "l",
                        "v": 10487.4
                    }, {
                        "t": "l",
                        "v": 11073.06
                    }, {
                        "t": "l",
                        "v": 11799.460000000001
                    }, {
                        "t": "l",
                        "v": 12771.02
                    }, {
                        "t": "l",
                        "v": 13679.02
                    }, {
                        "t": "l",
                        "v": 14405.42
                    }, {
                        "t": "l",
                        "v": 14868.5
                    }, {
                        "t": "l",
                        "v": 15249.86
                    }, {
                        "t": "l",
                        "v": 15971.72
                    }]
                }]
            }
        },
        "0337d1e9-5": {
            "txt": "array(\"226.53400000000002\",\"532.5020000000001\",\"950.2660000000001\",\"1276.828\",\"1644.5780000000002\",\"1871.112\",\"1974.082\",\"2127.0660000000003\",\"2462.454\",\"2803.726\",\"3295.04\",\"3677.5\",\"4033.4820000000004\",\"4086.438\",\"4192.35\",\"4604.2300000000005\",\"5124.964\",\"5536.844\",\"6098.7660000000005\",\"6384.14\",\"6548.892000000001\",\"6796.02\",\"7175.5380000000005\",\"7646.258000000001\",\"8275.846000000001\",\"8864.246000000001\",\"9334.966\",\"9635.050000000001\",\"9882.178\",\"10349.956\",\"10994.254\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": 226.53400000000002
                    }, {
                        "t": "l",
                        "v": 532.5020000000001
                    }, {
                        "t": "l",
                        "v": 950.2660000000001
                    }, {
                        "t": "l",
                        "v": 1276.828
                    }, {
                        "t": "l",
                        "v": 1644.5780000000002
                    }, {
                        "t": "l",
                        "v": 1871.112
                    }, {
                        "t": "l",
                        "v": 1974.082
                    }, {
                        "t": "l",
                        "v": 2127.0660000000003
                    }, {
                        "t": "l",
                        "v": 2462.454
                    }, {
                        "t": "l",
                        "v": 2803.726
                    }, {
                        "t": "l",
                        "v": 3295.04
                    }, {
                        "t": "l",
                        "v": 3677.5
                    }, {
                        "t": "l",
                        "v": 4033.4820000000004
                    }, {
                        "t": "l",
                        "v": 4086.438
                    }, {
                        "t": "l",
                        "v": 4192.35
                    }, {
                        "t": "l",
                        "v": 4604.2300000000005
                    }, {
                        "t": "l",
                        "v": 5124.964
                    }, {
                        "t": "l",
                        "v": 5536.844
                    }, {
                        "t": "l",
                        "v": 6098.7660000000005
                    }, {
                        "t": "l",
                        "v": 6384.14
                    }, {
                        "t": "l",
                        "v": 6548.892000000001
                    }, {
                        "t": "l",
                        "v": 6796.02
                    }, {
                        "t": "l",
                        "v": 7175.5380000000005
                    }, {
                        "t": "l",
                        "v": 7646.258000000001
                    }, {
                        "t": "l",
                        "v": 8275.846000000001
                    }, {
                        "t": "l",
                        "v": 8864.246000000001
                    }, {
                        "t": "l",
                        "v": 9334.966
                    }, {
                        "t": "l",
                        "v": 9635.050000000001
                    }, {
                        "t": "l",
                        "v": 9882.178
                    }, {
                        "t": "l",
                        "v": 10349.956
                    }, {
                        "t": "l",
                        "v": 10994.254
                    }]
                }]
            }
        },
        "6455c6bb-6": {
            "txt": "array(\"133.33333333333334\",\"266.6666666666667\",\"400\",\"533.3333333333334\",\"666.6666666666667\",\"800.0000000000001\",\"933.3333333333335\",\"1066.6666666666667\",\"1200\",\"1333.3333333333333\",\"1466.6666666666665\",\"1599.9999999999998\",\"1733.333333333333\",\"1866.6666666666663\",\"1999.9999999999995\",\"2133.333333333333\",\"2266.6666666666665\",\"2400\",\"2533.3333333333335\",\"2666.666666666667\",\"2800.0000000000005\",\"2933.333333333334\",\"3066.6666666666674\",\"3200.000000000001\",\"3333.3333333333344\",\"3466.666666666668\",\"3600.0000000000014\",\"3733.333333333335\",\"3866.6666666666683\",\"4000.000000000002\",\"4133.333333333335\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": 133.33333333333334
                    }, {
                        "t": "l",
                        "v": 266.6666666666667
                    }, {
                        "t": "l",
                        "v": 400
                    }, {
                        "t": "l",
                        "v": 533.3333333333334
                    }, {
                        "t": "l",
                        "v": 666.6666666666667
                    }, {
                        "t": "l",
                        "v": 800.0000000000001
                    }, {
                        "t": "l",
                        "v": 933.3333333333335
                    }, {
                        "t": "l",
                        "v": 1066.6666666666667
                    }, {
                        "t": "l",
                        "v": 1200
                    }, {
                        "t": "l",
                        "v": 1333.3333333333333
                    }, {
                        "t": "l",
                        "v": 1466.6666666666665
                    }, {
                        "t": "l",
                        "v": 1599.9999999999998
                    }, {
                        "t": "l",
                        "v": 1733.333333333333
                    }, {
                        "t": "l",
                        "v": 1866.6666666666663
                    }, {
                        "t": "l",
                        "v": 1999.9999999999995
                    }, {
                        "t": "l",
                        "v": 2133.333333333333
                    }, {
                        "t": "l",
                        "v": 2266.6666666666665
                    }, {
                        "t": "l",
                        "v": 2400
                    }, {
                        "t": "l",
                        "v": 2533.3333333333335
                    }, {
                        "t": "l",
                        "v": 2666.666666666667
                    }, {
                        "t": "l",
                        "v": 2800.0000000000005
                    }, {
                        "t": "l",
                        "v": 2933.333333333334
                    }, {
                        "t": "l",
                        "v": 3066.6666666666674
                    }, {
                        "t": "l",
                        "v": 3200.000000000001
                    }, {
                        "t": "l",
                        "v": 3333.3333333333344
                    }, {
                        "t": "l",
                        "v": 3466.666666666668
                    }, {
                        "t": "l",
                        "v": 3600.0000000000014
                    }, {
                        "t": "l",
                        "v": 3733.333333333335
                    }, {
                        "t": "l",
                        "v": 3866.6666666666683
                    }, {
                        "t": "l",
                        "v": 4000.000000000002
                    }, {
                        "t": "l",
                        "v": 4133.333333333335
                    }]
                }]
            }
        },
        "73ed084b-3": {
            "txt": "array(\"20160501\",\"20160502\",\"20160503\",\"20160504\",\"20160505\",\"20160506\",\"20160507\",\"20160508\",\"20160509\",\"20160510\",\"20160511\",\"20160512\",\"20160513\",\"20160514\",\"20160515\",\"20160516\",\"20160517\",\"20160518\",\"20160519\",\"20160520\",\"20160521\",\"20160522\",\"20160523\",\"20160524\",\"20160525\",\"20160526\",\"20160527\",\"20160528\",\"20160529\",\"20160530\",\"20160531\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "20160501"
                    }, {
                        "t": "l",
                        "v": "20160502"
                    }, {
                        "t": "l",
                        "v": "20160503"
                    }, {
                        "t": "l",
                        "v": "20160504"
                    }, {
                        "t": "l",
                        "v": "20160505"
                    }, {
                        "t": "l",
                        "v": "20160506"
                    }, {
                        "t": "l",
                        "v": "20160507"
                    }, {
                        "t": "l",
                        "v": "20160508"
                    }, {
                        "t": "l",
                        "v": "20160509"
                    }, {
                        "t": "l",
                        "v": "20160510"
                    }, {
                        "t": "l",
                        "v": "20160511"
                    }, {
                        "t": "l",
                        "v": "20160512"
                    }, {
                        "t": "l",
                        "v": "20160513"
                    }, {
                        "t": "l",
                        "v": "20160514"
                    }, {
                        "t": "l",
                        "v": "20160515"
                    }, {
                        "t": "l",
                        "v": "20160516"
                    }, {
                        "t": "l",
                        "v": "20160517"
                    }, {
                        "t": "l",
                        "v": "20160518"
                    }, {
                        "t": "l",
                        "v": "20160519"
                    }, {
                        "t": "l",
                        "v": "20160520"
                    }, {
                        "t": "l",
                        "v": "20160521"
                    }, {
                        "t": "l",
                        "v": "20160522"
                    }, {
                        "t": "l",
                        "v": "20160523"
                    }, {
                        "t": "l",
                        "v": "20160524"
                    }, {
                        "t": "l",
                        "v": "20160525"
                    }, {
                        "t": "l",
                        "v": "20160526"
                    }, {
                        "t": "l",
                        "v": "20160527"
                    }, {
                        "t": "l",
                        "v": "20160528"
                    }, {
                        "t": "l",
                        "v": "20160529"
                    }, {
                        "t": "l",
                        "v": "20160530"
                    }, {
                        "t": "l",
                        "v": "20160531"
                    }]
                }]
            }
        }
    },
    "datasources": {
        "googleAnalytics": {
            "service": "google_analytics",
            "libraryAlias": "GoogleAnalyticsLandingPageMetrics(Last2Months)",
            "name": "Google Analytics Landing Page Metrics (Last 2 Months)",
            "description": "Retrieve detailed Google AdWords metrics on your website's keyword performance through Google Analytics. Originates from the Gallery.",
            "type": "google_analytics",
            "format": "csv",
            "refreshInterval": 14400,
            "props": {
                "advancedQuery": "https://www.googleapis.com/analytics/v3/data/ga?ids=ga:{{ds.google_analytics.profileId}}&dimensions=ga:landingPagePath,ga:date&metrics=ga:pageviews,ga:sessions&start-date={date.add(-62).format()}&end-date={date.today}&filters=ga:landingPagePath=={{ds.google_analytics.landingpagePath}}",
                "endpoint_url": "https://www.googleapis.com/analytics/v3/data/ga?ids=ga:{{ds.google_analytics.profileId}}&dimensions=ga:landingPagePath,ga:date&metrics=ga:pageviews,ga:sessions&start-date={date.add(-62).format()}&end-date={date.today}&filters=ga:landingPagePath=={{ds.google_analytics.landingpagePath}}",
                "max_pages": "2",
                "mode": "Advanced",
                "profile": "{{ds.google_analytics.profileId}}",
                "timePeriod": "&start-date={date.add(-62).format()}&end-date={date.today}"
            }
        }
    },
    "dsMappings": {
        "googleAnalytics": "9592c7cee7b78796f402KavyaMallur9"
    },
    "services": [{
        "service": "google_analytics"
    }],
    "uiVariables": [{
        "name": "GAPageViewstarget",
        "value": "1000"
    }],
    "datasourceConfigModel": [{
        "type": "select",
        "id": "ds.google_analytics.profileId",
        "label": "Analytics Account",
        "description": "Select an Analytics Account from the drop-down list.",
        "isRequired": true
    }, {
        "type": "text",
        "id": "ds.google_analytics.landingpagePath",
        "label": "Page Path",
        "ghostText": "/pricing",
        "description": "Enter a Landing page path of your choice. Every landing page path has unique characteristics",
        "isRequired": true
    }],
    "queries": [{
        "errorMessage": "Here are two suggestions:<br><br>1. Make sure you have access to your company's Google Analytics account. <br><br>2. From time to time, your Google OAuth token will expire. This token allows you to safely bring your data into Klipfolio. <a href='https://support.klipfolio.com/hc/en-us/articles/215548958-OAuth-token-expired-for-connected-accounts' target='_blank'>Find out how to re-authorize your OAuth tokens</a>.",
        "connector": {
            "service": "google_analytics",
            "type": "simple_rest",
            "format": "json",
            "props": {
                "endpoint_url": "https://www.googleapis.com/analytics/v3/management/accounts/~all/webproperties/~all/profiles?fields=items(id%2Cname%2Cpermissions%2CwebPropertyId%2CwebsiteUrl)",
                "method": "GET"
            }
        },
        "results": [{
            "propId": "ds.google_analytics.profileId",
            "propField": "options",
            "labels": "/items/name",
            "values": "/items/id"
        }]
    }]
}