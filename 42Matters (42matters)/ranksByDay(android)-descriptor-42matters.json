{
    "name": "42matters App Ranks by Day (Last 30 Days)",
    "description": "Track your daily mobile app rankings in Google Play Store for the country of your choice over the past 30 days. Originates from the Gallery.",
    "sampleFormulas": {
        "98479506": {
            "txt": "\"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcR6Fsgg9ogADS0OVtVQfe2wYB7DekzHMGxfxeNPZNwF0jubPk1X5g\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcR6Fsgg9ogADS0OVtVQfe2wYB7DekzHMGxfxeNPZNwF0jubPk1X5g"
                }]
            }
        },
        "860a442b": {
            "txt": "\"Acme|#\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Acme|#"
                }]
            }
        },
        "6ea44546-2": {
            "txt": "\"Acme Inc.\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Acme Inc."
                }]
            }
        },
        "5220e843-1": {
            "txt": "\"All Versions\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "All Versions"
                }]
            }
        },
        "5fc1a6c2": {
            "txt": "\"https://static.klipfolio.com/templates/images/google-play.png\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "https://static.klipfolio.com/templates/images/google-play.png"
                }]
            }
        },
        "d1e6ba1b": {
            "txt": "\"Canada\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Canada"
                }]
            }
        },
        "33b8f04a-3": {
            "txt": "\"Game,Top Grossing Apps\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Game,Top Grossing Apps"
                }]
            }
        },
        "bf6e72dd-4": {
            "txt": "\"Game,Top Grossing Apps\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Game,Top Grossing Apps"
                }]
            }
        },
        "e1f511d3": {
            "txt": "array(\"128.85714285714286\",\"108.57142857142857\",\"2\",\"97.14285714285714\",\"97.14285714285714\",\"104.57142857142857\",\"104.85714285714286\",\"106.57142857142857\",\"130\",\"134.85714285714286\",\"2\",\"2\",\"2\",\"2\",\"2\",\"2\",\"165.14285714285714\",\"165.14285714285714\",\"160.85714285714286\",\"159.42857142857142\",\"2\",\"2\",\"2\",\"2\",\"2\",\"2\",\"2\",\"2\",\"2\",\"2\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": 128.85714285714286
                    }, {
                        "t": "l",
                        "v": 108.57142857142857
                    }, {
                        "t": "l",
                        "v": 2
                    }, {
                        "t": "l",
                        "v": 97.14285714285714
                    }, {
                        "t": "l",
                        "v": 97.14285714285714
                    }, {
                        "t": "l",
                        "v": 104.57142857142857
                    }, {
                        "t": "l",
                        "v": 104.85714285714286
                    }, {
                        "t": "l",
                        "v": 106.57142857142857
                    }, {
                        "t": "l",
                        "v": 130
                    }, {
                        "t": "l",
                        "v": 134.85714285714286
                    }, {
                        "t": "l",
                        "v": 2
                    }, {
                        "t": "l",
                        "v": 2
                    }, {
                        "t": "l",
                        "v": 2
                    }, {
                        "t": "l",
                        "v": 2
                    }, {
                        "t": "l",
                        "v": 2
                    }, {
                        "t": "l",
                        "v": 2
                    }, {
                        "t": "l",
                        "v": 165.14285714285714
                    }, {
                        "t": "l",
                        "v": 165.14285714285714
                    }, {
                        "t": "l",
                        "v": 160.85714285714286
                    }, {
                        "t": "l",
                        "v": 159.42857142857142
                    }, {
                        "t": "l",
                        "v": 2
                    }, {
                        "t": "l",
                        "v": 2
                    }, {
                        "t": "l",
                        "v": 2
                    }, {
                        "t": "l",
                        "v": 2
                    }, {
                        "t": "l",
                        "v": 2
                    }, {
                        "t": "l",
                        "v": 2
                    }, {
                        "t": "l",
                        "v": 2
                    }, {
                        "t": "l",
                        "v": 2
                    }, {
                        "t": "l",
                        "v": 2
                    }, {
                        "t": "l",
                        "v": 2
                    }]
                }]
            }
        },
        "c28d150a": {
            "txt": "array(\"2016-08-01\",\"2016-08-02\",\"2016-08-03\",\"2016-08-04\",\"2016-08-05\",\"2016-08-06\",\"2016-08-07\",\"2016-08-08\",\"2016-08-09\",\"2016-08-10\",\"2016-08-11\",\"2016-08-12\",\"2016-08-13\",\"2016-08-14\",\"2016-08-15\",\"2016-08-16\",\"2016-08-17\",\"2016-08-18\",\"2016-08-19\",\"2016-08-20\",\"2016-08-21\",\"2016-08-22\",\"2016-08-23\",\"2016-08-24\",\"2016-08-25\",\"2016-08-26\",\"2016-08-27\",\"2016-08-28\",\"2016-08-29\",\"2016-08-30\",\"2016-08-31\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "2016-08-01"
                    }, {
                        "t": "l",
                        "v": "2016-08-02"
                    }, {
                        "t": "l",
                        "v": "2016-08-03"
                    }, {
                        "t": "l",
                        "v": "2016-08-04"
                    }, {
                        "t": "l",
                        "v": "2016-08-05"
                    }, {
                        "t": "l",
                        "v": "2016-08-06"
                    }, {
                        "t": "l",
                        "v": "2016-08-07"
                    }, {
                        "t": "l",
                        "v": "2016-08-08"
                    }, {
                        "t": "l",
                        "v": "2016-08-09"
                    }, {
                        "t": "l",
                        "v": "2016-08-10"
                    }, {
                        "t": "l",
                        "v": "2016-08-11"
                    }, {
                        "t": "l",
                        "v": "2016-08-12"
                    }, {
                        "t": "l",
                        "v": "2016-08-13"
                    }, {
                        "t": "l",
                        "v": "2016-08-14"
                    }, {
                        "t": "l",
                        "v": "2016-08-15"
                    }, {
                        "t": "l",
                        "v": "2016-08-16"
                    }, {
                        "t": "l",
                        "v": "2016-08-17"
                    }, {
                        "t": "l",
                        "v": "2016-08-18"
                    }, {
                        "t": "l",
                        "v": "2016-08-19"
                    }, {
                        "t": "l",
                        "v": "2016-08-20"
                    }, {
                        "t": "l",
                        "v": "2016-08-21"
                    }, {
                        "t": "l",
                        "v": "2016-08-22"
                    }, {
                        "t": "l",
                        "v": "2016-08-23"
                    }, {
                        "t": "l",
                        "v": "2016-08-24"
                    }, {
                        "t": "l",
                        "v": "2016-08-25"
                    }, {
                        "t": "l",
                        "v": "2016-08-26"
                    }, {
                        "t": "l",
                        "v": "2016-08-27"
                    }, {
                        "t": "l",
                        "v": "2016-08-28"
                    }, {
                        "t": "l",
                        "v": "2016-08-29"
                    }, {
                        "t": "l",
                        "v": "2016-08-30"
                    }, {
                        "t": "l",
                        "v": "2016-08-31"
                    }]
                }]
            }
        },
        "b9ee198d": {
            "txt": "\"<b>Tip:</b> The lower the rank, the better. Blanks indicate a rank greater than 600.\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "<b>Tip:</b> The lower the rank, the better. Blanks indicate a rank greater than 600."
                }]
            }
        }
    },
    "datasources": {
        "42matters-01": {
            "service": "42matters",
            "type": "simple_rest",
            "format": "json",
            "name": "42matters App Overview (Android, {{ds.42matters.packageName}})",
            "libraryAlias": "42mattersAppOverview(Android,{{ds.42matters.packageName}})",
            "refreshInterval": 14400,
            "description": "Retrieve app details on the Google Play Store. Originates from the Gallery.",
            "props": {
                "endpoint_url": "https://data.42matters.com/api/v2.0/android/apps/lookup.json?access_token={{auth.42matters.apiKey}}&p={{ds.42matters.packageName}}",
                "method": "GET"
            }
        },
        "42matters-02": {
            "service": "42matters",
            "type": "simple_rest",
            "format": "json",
            "name": "42Matters Ranks for {{ds.42matters.country}} (Last 30 Days) (Android, {{ds.42matters.packageName}})",
            "libraryAlias": "42MattersRanksfor{{ds.42matters.country}}(Last 30 Days)(Android,{{ds.42matters.packageName}})",
            "refreshInterval": 14400,
            "description": "Retrieve app ranks on the Google Play Store for the last 30 days. Originates from the Gallery.",
            "props": {
                "endpoint_url": "https://data.42matters.com/api/v2.0/android/apps/ranks.json?access_token={{auth.42matters.apiKey}}&p={{ds.42matters.packageName}}&days=30&countries={{ds.42matters.country}}",
                "method": "GET"
            }
        }
    },
    "dsMappings": {
        "42matters-01": "7788706c55b54d481e3eKavyaMallur9",
        "42matters-02": "3371ff3464ee75e15ffeKavyaMallur9"
    },
    "services": [{
        "service": "42matters"
    }],
    "uiVariables": [{
        "name": "androidCategoryList",
        "value": ""
    }],
    "datasourceConfigModel": [{
        "type": "text",
        "id": "ds.42matters.appName",
        "label": "App Name",
        "description": "Enter the name of your app.",
        "debounceEnabled": true,
        "ghostText": "angry bird",
        "isRequired": true,
        "onChangeQueries": ["q"]
    }, {
        "type": "select",
        "id": "ds.42matters.packageName",
        "label": "App",
        "description": "Pick the app you would like to track from the list.",
        "isRequired": true,
        "onChangeQueries": ["q1"]
    }, {
        "type": "select",
        "id": "ds.42matters.country",
        "label": "Country Code",
        "ghostText": "CA",
        "description": "Select a <a href='https://42matters.com/docs/app-market-data/supported-countries' target='_blank'>country code</a> from the list below.",
        "isRequired": true
    }],
    "queries": [{
        "id": "q",
        "errorMessage": "Make sure you have the correct 42matters API Access Token.",
        "connector": {
            "service": "42matters",
            "type": "simple_rest",
            "format": "json",
            "props": {
                "endpoint_url": "https://42matters.com/api/1/apps/search.json?q={{ds.42matters.appName}}&limit=10&access_token={{auth.42matters.apiKey}}"
            }
        },
        "results": [{
            "propId": "ds.42matters.packageName",
            "propField": "options",
            "labels": "//title",
            "values": "//package_name"
        }]
    }, {
        "id": "q1",
        "errorMessage": "Make sure you have the correct 42matters API Key.",
        "connector": {
            "service": "42matters",
            "type": "simple_rest",
            "format": "json",
            "props": {
                "endpoint_url": "https://data.42matters.com/api/v2.0/android/apps/availability.json?access_token={{auth.42matters.apiKey}}&p={{ds.42matters.packageName}}"
            }
        },
        "results": [{
            "propId": "ds.42matters.country",
            "propField": "options",
            "labels": "/results/available_in",
            "values": "/results/available_in"
        }]
    }]
}