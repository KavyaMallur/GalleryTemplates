{
    "name": "42matters App Ranks by Day (Last 30 Days)",
    "description": "Track your daily mobile app rankings in App Store for the country of your choice over the past 30 days. Originates from the Gallery.",
    "sampleFormulas": {
        "14866840": {
            "txt": "array(\"2016-07-28\",\"2016-07-29\",\"2016-07-30\",\"2016-07-31\",\"2016-08-01\",\"2016-08-02\",\"2016-08-03\",\"2016-08-04\",\"2016-08-05\",\"2016-08-06\",\"2016-08-07\",\"2016-08-08\",\"2016-08-09\",\"2016-08-10\",\"2016-08-11\",\"2016-08-12\",\"2016-08-13\",\"2016-08-14\",\"2016-08-15\",\"2016-08-16\",\"2016-08-17\",\"2016-08-18\",\"2016-08-19\",\"2016-08-20\",\"2016-08-21\",\"2016-08-22\",\"2016-08-23\",\"2016-08-24\",\"2016-08-25\",\"2016-08-26\",\"2016-08-27\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": "2016-07-28"
                    }, {
                        "t": "l",
                        "v": "2016-07-29"
                    }, {
                        "t": "l",
                        "v": "2016-07-30"
                    }, {
                        "t": "l",
                        "v": "2016-07-31"
                    }, {
                        "t": "l",
                        "v": "2016-08-01"
                    }, {
                        "t": "l",
                        "v": "2016-08-02"
                    }, {
                        "t": "l",
                        "v": "2016-08-03"
                    }, {
                        "t": "l",
                        "v": "2016-08-04"
                    }, {
                        "t": "l",
                        "v": "2016-08-05"
                    }, {
                        "t": "l",
                        "v": "2016-08-06"
                    }, {
                        "t": "l",
                        "v": "2016-08-07"
                    }, {
                        "t": "l",
                        "v": "2016-08-08"
                    }, {
                        "t": "l",
                        "v": "2016-08-09"
                    }, {
                        "t": "l",
                        "v": "2016-08-10"
                    }, {
                        "t": "l",
                        "v": "2016-08-11"
                    }, {
                        "t": "l",
                        "v": "2016-08-12"
                    }, {
                        "t": "l",
                        "v": "2016-08-13"
                    }, {
                        "t": "l",
                        "v": "2016-08-14"
                    }, {
                        "t": "l",
                        "v": "2016-08-15"
                    }, {
                        "t": "l",
                        "v": "2016-08-16"
                    }, {
                        "t": "l",
                        "v": "2016-08-17"
                    }, {
                        "t": "l",
                        "v": "2016-08-18"
                    }, {
                        "t": "l",
                        "v": "2016-08-19"
                    }, {
                        "t": "l",
                        "v": "2016-08-20"
                    }, {
                        "t": "l",
                        "v": "2016-08-21"
                    }, {
                        "t": "l",
                        "v": "2016-08-22"
                    }, {
                        "t": "l",
                        "v": "2016-08-23"
                    }, {
                        "t": "l",
                        "v": "2016-08-24"
                    }, {
                        "t": "l",
                        "v": "2016-08-25"
                    }, {
                        "t": "l",
                        "v": "2016-08-26"
                    }, {
                        "t": "l",
                        "v": "2016-08-27"
                    }]
                }]
            }
        },
        "3eadb2d9": {
            "txt": "\"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcR6Fsgg9ogADS0OVtVQfe2wYB7DekzHMGxfxeNPZNwF0jubPk1X5g\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcR6Fsgg9ogADS0OVtVQfe2wYB7DekzHMGxfxeNPZNwF0jubPk1X5g"
                }]
            }
        },
        "8d2c1375": {
            "txt": "\"Acme|#\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Acme|#"
                }]
            }
        },
        "ab8e15be-3": {
            "txt": "\"Acme Inc.\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Acme Inc."
                }]
            }
        },
        "e85a2d1a-4": {
            "txt": "\"All Versions\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "All Versions"
                }]
            }
        },
        "bad05ab0": {
            "txt": "\"https://static.klipfolio.com/templates/images/app-store.png\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "https://static.klipfolio.com/templates/images/app-store.png"
                }]
            }
        },
        "6ef4a8e0": {
            "txt": "\"Canada\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Canada"
                }]
            }
        },
        "215ce5f4": {
            "txt": "\"Mobile Software Applications,Top Selling Free\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Mobile Software Applications,Top Selling Free"
                }]
            }
        },
        "d8d3fc5e": {
            "txt": "\"Mobile Software Applications,Top Selling Free\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "Mobile Software Applications,Top Selling Free"
                }]
            }
        },
        "f8579525": {
            "txt": "array(\"908\",\"863\",\"836\",\"768.5\",\"638\",\"512\",\"624.5\",\"705.5\",\"885.5\",\"1020.5\",\"1007\",\"759.5\",\"647\",\"894.5\",\"1137.5\",\"1236.5\",\"1313\",\"1254.5\",\"1043\",\"917\",\"1038.5\",\"1322\",\"1538\",\"1565\",\"1322\",\"1074.5\",\"1331\",\"1308.5\",\"1425.5\",\"1380.5\")",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "f",
                    "v": "array",
                    "c": [{
                        "t": "l",
                        "v": 908
                    }, {
                        "t": "l",
                        "v": 863
                    }, {
                        "t": "l",
                        "v": 836
                    }, {
                        "t": "l",
                        "v": 768.5
                    }, {
                        "t": "l",
                        "v": 638
                    }, {
                        "t": "l",
                        "v": 512
                    }, {
                        "t": "l",
                        "v": 624.5
                    }, {
                        "t": "l",
                        "v": 705.5
                    }, {
                        "t": "l",
                        "v": 885.5
                    }, {
                        "t": "l",
                        "v": 1020.5
                    }, {
                        "t": "l",
                        "v": 1007
                    }, {
                        "t": "l",
                        "v": 759.5
                    }, {
                        "t": "l",
                        "v": 647
                    }, {
                        "t": "l",
                        "v": 894.5
                    }, {
                        "t": "l",
                        "v": 1137.5
                    }, {
                        "t": "l",
                        "v": 1236.5
                    }, {
                        "t": "l",
                        "v": 1313
                    }, {
                        "t": "l",
                        "v": 1254.5
                    }, {
                        "t": "l",
                        "v": 1043
                    }, {
                        "t": "l",
                        "v": 917
                    }, {
                        "t": "l",
                        "v": 1038.5
                    }, {
                        "t": "l",
                        "v": 1322
                    }, {
                        "t": "l",
                        "v": 1538
                    }, {
                        "t": "l",
                        "v": 1565
                    }, {
                        "t": "l",
                        "v": 1322
                    }, {
                        "t": "l",
                        "v": 1074.5
                    }, {
                        "t": "l",
                        "v": 1331
                    }, {
                        "t": "l",
                        "v": 1308.5
                    }, {
                        "t": "l",
                        "v": 1425.5
                    }, {
                        "t": "l",
                        "v": 1380.5
                    }]
                }]
            }
        },
        "589cd884": {
            "txt": "\"<b>Tip:</b> The lower the rank, the better. Blanks indicate a rank greater than 1000.\"",
            "src": {
                "t": "expr",
                "v": false,
                "c": [{
                    "t": "l",
                    "v": "<b>Tip:</b> The lower the rank, the better. Blanks indicate a rank greater than 1000."
                }]
            }
        }
    },
    "datasources": {
        "42matters-01": {
            "service": "42matters",
            "type": "simple_rest",
            "format": "json",
            "name": "42matters App Overview (iOS, {{ds.42matters.appID}})",
            "libraryAlias": "42mattersAppOverview(iOS,{{ds.42matters.appID}})",
            "refreshInterval": 14400,
            "description": "Retrieve app details on the App Store. Originates from the Gallery.",
            "props": {
                "endpoint_url": "https://data.42matters.com/api/v2.0/ios/apps/lookup.json?access_token={{auth.42matters.apiKey}}&id={{ds.42matters.appID}}",
                "method": "GET"
            }
        },
        "42matters-02": {
            "service": "42matters",
            "type": "simple_rest",
            "format": "json",
            "name": "42Matters Ranks for {{ds.42matters.country}} (Last 30 Days) (iOS, {{ds.42matters.appID}})",
            "libraryAlias": "42MattersRanksfor{{ds.42matters.country}}(Last 30 Days)(iOS,{{ds.42matters.appID}})",
            "refreshInterval": 14400,
            "description": "Retrieve app ranks on the App Store for the last 30 days. Originates from the Gallery.",
            "props": {
                "endpoint_url": "https://data.42matters.com/api/v2.0/ios/apps/ranks.json?access_token={{auth.42matters.apiKey}}&id={{ds.42matters.appID}}&days=30&countries={{ds.42matters.country}}",
                "method": "GET"
            }
        }
    },
    "dsMappings": {
        "42matters-01": "6be8f319df865a7a957fKavyaMallur9",
        "42matters-02": "fbae8fc28bbc96117882KavyaMallur9"
    },
    "services": [{
        "service": "42matters"
    }],
    "uiVariables": [{
        "name": "iOSgenreList",
        "value": ""
    }],
    "datasourceConfigModel": [{
        "type": "text",
        "id": "ds.42matters.appName",
        "label": "App Name",
        "description": "Enter the name of your app.",
        "debounceEnabled": true,
        "ghostText": "angry bird",
        "isRequired": true,
        "onChangeQueries": ["q"]
    }, {
        "type": "select",
        "id": "ds.42matters.appID",
        "label": "App",
        "description": "Pick the app you would like to track from the list.",
        "isRequired": true,
        "onChangeQueries": ["q1"]
    }, {
        "type": "select",
        "id": "ds.42matters.country",
        "label": "Country Code",
        "ghostText": "CA",
        "description": "Select a <a href='https://42matters.com/docs/app-market-data/supported-countries' target='_blank'>country code</a> from the list below.",
        "isRequired": true
    }],
    "queries": [{
        "id": "q",
        "errorMessage": "Make sure you have the correct 42Matters API Access Token.",
        "connector": {
            "service": "42matters",
            "type": "simple_rest",
            "format": "json",
            "props": {
                "endpoint_url": "https://data.42matters.com/api/v2.0/ios/apps/search.json?q={{ds.42matters.appName}}&limit=10&access_token={{auth.42matters.apiKey}}"
            }
        },
        "results": [{
            "propId": "ds.42matters.appID",
            "propField": "options",
            "labels": "/results/trackCensoredName",
            "values": "/results/trackId"
        }]
    }, {
        "id": "q1",
        "errorMessage": "Make sure you have the correct 42matters API Key.",
        "connector": {
            "service": "42matters",
            "type": "simple_rest",
            "format": "json",
            "props": {
                "endpoint_url": "https://data.42matters.com/api/v2.0/ios/apps/availability.json?access_token={{auth.42matters.apiKey}}&id={{ds.42matters.appID}}"
            }
        },
        "results": [{
            "propId": "ds.42matters.country",
            "propField": "options",
            "labels": "/results/available_in",
            "values": "/results/available_in"
        }]
    }]
}