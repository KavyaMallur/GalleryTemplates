{
    "name": "42Matters Ranks by Day (Last 30 Days)",
    "description": "Originates from the Gallery.",
    "datasources": {
        "42matters-01": {
            "service": "42matters1",
            "type": "simple_rest",
            "format": "json",
            "name": "42Matters App Overview (App Store)",
            "libraryAlias": "42MattersAppOverviewAppStore",
            "refreshInterval": 14400,
            "description": "Retrieve App details on the App Store. Originates from the Gallery.",
            "props": {
                "endpoint_url": "https://data.42matters.com/api/v2.0/ios/apps/lookup.json?access_token={{auth.42matters1.apiKey}}&id={{ds.42matters1.appId}}",
                "method": "GET"
            }
        },
        "42matters-02": {
            "service": "42matters1",
            "type": "simple_rest",
            "format": "json",
            "name": "42Matters Ranks on App Store ({{ds.42matters1.country}}, Last 30 Days)",
            "libraryAlias": "42MattersRanksonAppStore({{ds.42matters1.country}},Last 30 Days)",
            "refreshInterval": 14400,
            "description": "Retrieve app ranks on the App Store for the last 30 days. Originates from the Gallery.",
            "props": {
                "endpoint_url": "https://data.42matters.com/api/v2.0/ios/apps/ranks.json?access_token={{auth.42matters1.apiKey}}&id={{ds.42matters1.appId}}&days=30&countries={{ds.42matters1.country}}",
                "method": "GET"
            }
        }
    },
    "dsMappings": {
        "42matters-01": "6be8f319df865a7a957fKavyaMallur9",
        "42matters-02": "fbae8fc28bbc96117882KavyaMallur9"
    },
    "services": [{
        "service": "42matters1"
    }],
    "uiVariables": [{
      "name": "genreList",
      "value": "Mobile Software Applications,Top Selling Free"
    }],
    "datasourceConfigModel": [{
        "type": "select",
        "id": "ds.42matters1.appId",
        "label": "App",
        "description": "Pick the right app from the list.",
        "isRequired": true,
        "onChangeQueries": ["q1"]
    }, {
        "type": "select",
        "id": "ds.42matters1.country",
        "label": "Country Code",
        "description": "Pick the country code from the list.",
        "isRequired": true
    }],
    "queries": [{
        "errorMessage": "Make sure you have the correct 42Matters API Key.",
        "connector": {
            "service": "42matters1",
            "type": "simple_rest",
            "format": "json",
            "props": {
                "endpoint_url": "https://data.42matters.com/api/v2.0/ios/apps/search.json?q={{auth.42matters1.app}}&limit=5&access_token={{auth.42matters1.apiKey}}"
            }
        },
        "results": [{
            "propId": "ds.42matters1.appId",
            "propField": "options",
            "labels": "/results/trackCensoredName",
            "values": "/results/trackId"
        }]
    },
    {
        "id":"q1",
        "errorMessage": "Make sure you have the correct 42matters API Key.",
        "connector": {
            "service": "42matters1",
            "type": "simple_rest",
            "format": "json",
            "props": {
                "endpoint_url": "https://data.42matters.com/api/v2.0/ios/apps/availability.json?access_token={{auth.42matters1.apiKey}}&id={{ds.42matters1.appId}}"
            }
        },
        "results": [{
            "propId": "ds.42matters1.country",
            "propField": "options",
            "labels": "/results/available_in",
            "values": "/results/available_in"
        }]
    }]
}