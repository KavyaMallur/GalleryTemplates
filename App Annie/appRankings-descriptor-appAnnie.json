{
	"name" : "App Annie App Rankings (Yesterday)",
	"description": "See how your app ranked around the globe yesterday. Originates from the Gallery.",

	"datasources" : {
		"appannie-01" : {
			"service": "appannie",
			"type": "simple_rest",
			"format": "json",
			"name": "App Annie Ranks (Yesterday)",
			"libraryAlias": "AppAnnieRanksYesterday",
			"refreshInterval": 14400,
			"description": "Provides information about a requested app for yesterday on a daily interval basis. Originates from the Gallery.",
			"props": {
				"endpoint_url": "https://api.appannie.com/v1.2/apps/{{ds.appannie.market}}/app/{{ds.appannie.productID}}/ranks?start_date={date.yesterday.format('yyyy-MM-dd')}&end_date={date.yesterday.format('yyyy-MM-dd')}&interval=daily&asset=app",
				"method": "GET",
				"parameters": "[{\"name\":\"Authorization\",\"value\":\" Bearer {{auth.appannie.apiKey}}\",\"type\":\"header\"}]"

			}
		}
	},

	"dsMappings": {
		"appannie-01": "fad8e34e87fe9b694727KavyaMallur9"
	},
	"services" : [
		{
			"service" : "appannie"
		}
	],
	"datasourceConfigModel" : [
        {
            "type" : "text",
            "id" : "ds.appannie.productID",
            "label" : "Product ID",
            "description": "Enter your App Annie Product ID. <a href='http://klipfolio.uservoice.com/knowledgebase/articles/729951-klip-gallery-app-annie#ids' target='_blank'>Where do I find my Product ID?</a>",
            "isRequired" : true
        },
    	{
            "type": "select",
            "id": "ds.appannie.market",
            "label" : "Select your app market.",
            "options": [
                    {"label":"IOS","value":"ios"},
                    {"label":"Mac","value":"mac"},
                    {"label":"Google Play","value":"google-play"},
                    {"label":"Amazon Appstore","value":"amazon-appstore"},
                    {"label":"Windows Phone","value":"windows-phone"},
                    {"label":"Windows Store","value":"windows-store"}
            ],
            "isRequired" : true,
            "selectedValue": "ios"
		}
	]
}